function trace(t){VMM.debug&&(window.console?console.log(t):"undefined"!=typeof jsTrace&&jsTrace.send(t))}function onYouTubePlayerAPIReady(){trace("GLOBAL YOUTUBE API CALLED"),VMM.ExternalAPI.youtube.onAPIReady()}function createStoryJS(t,e){function i(){var t="storyjs-embed";a=document.createElement("div"),o=document.getElementById(""!=c.embed_id?c.embed_id:"timeline-embed"),o.appendChild(a),a.setAttribute("id",c.id),c.width.toString().match("%")?o.style.width=c.width.split("%")[0]+"%":(c.width=c.width-2,o.style.width=c.width+"px"),c.height.toString().match("%")?(o.style.height=c.height,t+=" full-embed",o.style.height=c.height.split("%")[0]+"%"):c.width.toString().match("%")?(t+=" full-embed",c.height=c.height-16,o.style.height=c.height+"px"):(t+=" sized-embed",c.height=c.height-16,o.style.height=c.height+"px"),o.setAttribute("class",t),o.setAttribute("className",t),a.style.position="relative"}function n(){VMM.debug=c.debug,s=new VMM.Timeline(c.id),s.init(c),l&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var s,a,o,r,l=!1,c={debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",api_keys:{google:"",flickr:"",twitter:""},gmap_key:"",ajax_timeout:3e3};if("object"==typeof t)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(c[r]=t[r]);"undefined"!=typeof e&&(c.source=e),"object"==typeof url_config&&(l=!0,c.source.match("docs.google.com")||c.source.match("json")||c.source.match("storify")||(c.source="https://docs.google.com/spreadsheet/pub?key="+c.source+"&output=html")),i(),n()}!function(t,e){function i(t){var e=t.length,i=he.type(t);return he.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=Ce[t]={};return he.each(t.match(de)||[],function(t,i){e[i]=!0}),e}function s(t,i,n,s){if(he.acceptData(t)){var a,o,r=he.expando,l=t.nodeType,c=l?he.cache:t,h=l?t[r]:t[r]&&r;if(h&&c[h]&&(s||c[h].data)||n!==e||"string"!=typeof i)return h||(h=l?t[r]=ee.pop()||he.guid++:r),c[h]||(c[h]=l?{}:{toJSON:he.noop}),("object"==typeof i||"function"==typeof i)&&(s?c[h]=he.extend(c[h],i):c[h].data=he.extend(c[h].data,i)),o=c[h],s||(o.data||(o.data={}),o=o.data),n!==e&&(o[he.camelCase(i)]=n),"string"==typeof i?(a=o[i],null==a&&(a=o[he.camelCase(i)])):a=o,a}}function a(t,e,i){if(he.acceptData(t)){var n,s,a=t.nodeType,o=a?he.cache:t,l=a?t[he.expando]:he.expando;if(o[l]){if(e&&(n=i?o[l]:o[l].data)){he.isArray(e)?e=e.concat(he.map(e,he.camelCase)):e in n?e=[e]:(e=he.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!r(n):!he.isEmptyObject(n))return}(i||(delete o[l].data,r(o[l])))&&(a?he.cleanData([t],!0):he.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(t,i,n){if(n===e&&1===t.nodeType){var s="data-"+i.replace(De,"-$1").toLowerCase();if(n=t.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Te.test(n)?he.parseJSON(n):n}catch(a){}he.data(t,i,n)}else n=e}return n}function r(t){var e;for(e in t)if(("data"!==e||!he.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function h(){try{return K.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(he.isFunction(e))return he.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return he.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Re.test(e))return he.filter(e,t,i);e=he.filter(e,t)}return he.grep(t,function(t){return he.inArray(t,e)>=0!==i})}function p(t){var e=Ue.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return he.nodeName(t,"table")&&he.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==he.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=si.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)he._data(i,"globalEval",!e||he._data(e[n],"globalEval"))}function b(t,e){if(1===e.nodeType&&he.hasData(t)){var i,n,s,a=he._data(t),o=he._data(e,a),r=a.events;if(r){delete o.handle,o.events={};for(i in r)for(n=0,s=r[i].length;s>n;n++)he.event.add(e,i,r[i][n])}o.data&&(o.data=he.extend({},o.data))}}function y(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!he.support.noCloneEvent&&e[he.expando]){s=he._data(e);for(n in s.events)he.removeEvent(e,n,s.handle);e.removeAttribute(he.expando)}"script"===i&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),he.support.html5Clone&&t.innerHTML&&!he.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ei.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function _(t,i){var n,s,a=0,o=typeof t.getElementsByTagName!==Q?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==Q?t.querySelectorAll(i||"*"):e;if(!o)for(o=[],n=t.childNodes||t;null!=(s=n[a]);a++)!i||he.nodeName(s,i)?o.push(s):he.merge(o,_(s,i));return i===e||i&&he.nodeName(t,i)?he.merge([t],o):o}function M(t){ei.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,s=ki.length;s--;)if(e=ki[s]+i,e in t)return e;return n}function x(t,e){return t=e||t,"none"===he.css(t,"display")||!he.contains(t.ownerDocument,t)}function k(t,e){for(var i,n,s,a=[],o=0,r=t.length;r>o;o++)n=t[o],n.style&&(a[o]=he._data(n,"olddisplay"),i=n.style.display,e?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&x(n)&&(a[o]=he._data(n,"olddisplay",E(n.nodeName)))):a[o]||(s=x(n),(i&&"none"!==i||!s)&&he._data(n,"olddisplay",s?i:he.css(n,"display"))));for(o=0;r>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[o]||"":"none"));return t}function C(t,e,i){var n=vi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function T(t,e,i,n,s){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>a;a+=2)"margin"===i&&(o+=he.css(t,i+xi[a],!0,s)),n?("content"===i&&(o-=he.css(t,"padding"+xi[a],!0,s)),"margin"!==i&&(o-=he.css(t,"border"+xi[a]+"Width",!0,s))):(o+=he.css(t,"padding"+xi[a],!0,s),"padding"!==i&&(o+=he.css(t,"border"+xi[a]+"Width",!0,s)));return o}function D(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,a=hi(t),o=he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,a);if(0>=s||null==s){if(s=ui(t,e,a),(0>s||null==s)&&(s=t.style[e]),bi.test(s))return s;n=o&&(he.support.boxSizingReliable||s===t.style[e]),s=parseFloat(s)||0}return s+T(t,e,i||(o?"border":"content"),n,a)+"px"}function E(t){var e=K,i=_i[t];return i||(i=V(t,e),"none"!==i&&i||(ci=(ci||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=V(t,e),ci.detach()),_i[t]=i),i}function V(t,e){var i=he(e.createElement(t)).appendTo(e.body),n=he.css(i[0],"display");return i.remove(),n}function S(t,e,i,n){var s;if(he.isArray(e))he.each(e,function(e,s){i||Ti.test(t)?n(t,s):S(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==he.type(e))n(t,e);else for(s in e)S(t+"["+s+"]",e[s],i,n)}function A(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,a=e.toLowerCase().match(de)||[];if(he.isFunction(i))for(;n=a[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function I(t,e,i,n){function s(r){var l;return a[r]=!0,he.each(t[r]||[],function(t,r){var c=r(e,i,n);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var a={},o=t===qi;return s(e.dataTypes[0])||!a["*"]&&s("*")}function L(t,i){var n,s,a=he.ajaxSettings.flatOptions||{};for(s in i)i[s]!==e&&((a[s]?t:n||(n={}))[s]=i[s]);return n&&he.extend(!0,t,n),t}function P(t,i,n){for(var s,a,o,r,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),a===e&&(a=t.mimeType||i.getResponseHeader("Content-Type"));if(a)for(r in l)if(l[r]&&l[r].test(a)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function j(t,e,i,n){var s,a,o,r,l,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=h.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=h.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=c[l+" "+a]||c["* "+a],!o)for(s in c)if(r=s.split(" "),r[1]===a&&(o=c[l+" "+r[0]]||c["* "+r[0]])){o===!0?o=c[s]:c[s]!==!0&&(a=r[0],h.unshift(r[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function N(){try{return new t.XMLHttpRequest}catch(e){}}function O(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function F(){return setTimeout(function(){Ji=e}),Ji=he.now()}function H(t,e,i){for(var n,s=(an[e]||[]).concat(an["*"]),a=0,o=s.length;o>a;a++)if(n=s[a].call(i,e,t))return n}function z(t,e,i){var n,s,a=0,o=sn.length,r=he.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=Ji||F(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,a=1-n,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return r.notifyWith(t,[c,a,i]),1>a&&l?i:(r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Ji||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=he.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return e?r.resolveWith(t,[c,e]):r.rejectWith(t,[c,e]),this}}),h=c.props;for(W(h,c.opts.specialEasing);o>a;a++)if(n=sn[a].call(c,t,h,c.opts))return n;return he.map(h,H,c),he.isFunction(c.opts.start)&&c.opts.start.call(t,c),he.fx.timer(he.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t,e){var i,n,s,a,o;for(i in t)if(n=he.camelCase(i),s=e[n],a=t[i],he.isArray(a)&&(s=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),o=he.cssHooks[n],o&&"expand"in o){a=o.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=s)}else e[n]=s}function R(t,e,i){var n,s,a,o,r,l,c=this,h={},u=t.style,d=t.nodeType&&x(t),p=he._data(t,"fxshow");i.queue||(r=he._queueHooks(t,"fx"),null==r.unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,c.always(function(){c.always(function(){r.unqueued--,he.queue(t,"fx").length||r.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===he.css(t,"display")&&"none"===he.css(t,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",he.support.shrinkWrapBlocks||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],tn.exec(s)){if(delete e[n],a=a||"toggle"===s,s===(d?"hide":"show"))continue;h[n]=p&&p[n]||he.style(t,n)}if(!he.isEmptyObject(h)){p?"hidden"in p&&(d=p.hidden):p=he._data(t,"fxshow",{}),a&&(p.hidden=!d),d?he(t).show():c.done(function(){he(t).hide()}),c.done(function(){var e;he._removeData(t,"fxshow");for(e in h)he.style(t,e,h[e])});for(n in h)o=H(d?p[n]:0,n,c),n in p||(p[n]=o.start,d&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function q(t,e,i,n,s){return new q.prototype.init(t,e,i,n,s)}function $(t,e){var i,n={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)i=xi[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function B(t){return he.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var U,Y,Q=typeof e,G=t.location,K=t.document,X=K.documentElement,J=t.jQuery,Z=t.$,te={},ee=[],ie="1.10.0",ne=ee.concat,se=ee.push,ae=ee.slice,oe=ee.indexOf,re=te.toString,le=te.hasOwnProperty,ce=ie.trim,he=function(t,e){return new he.fn.init(t,e,Y)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,be=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_e=/^-ms-/,Me=/-([\da-z])/gi,we=function(t,e){return e.toUpperCase()},xe=function(t){(K.addEventListener||"load"===t.type||"complete"===K.readyState)&&(ke(),he.ready())},ke=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",xe,!1),t.removeEventListener("load",xe,!1)):(K.detachEvent("onreadystatechange",xe),t.detachEvent("onload",xe))};he.fn=he.prototype={jquery:ie,constructor:he,init:function(t,i,n){var s,a;if(!t)return this;if("string"==typeof t){if(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:fe.exec(t),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(s[1]){if(i=i instanceof he?i[0]:i,he.merge(this,he.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:K,!0)),me.test(s[1])&&he.isPlainObject(i))for(s in i)he.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}if(a=K.getElementById(s[2]),a&&a.parentNode){if(a.id!==s[2])return n.find(t);this.length=1,this[0]=a}return this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):he.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),he.makeArray(t,this))},selector:"",length:0,toArray:function(){return ae.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=he.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return he.each(this,t,e)},ready:function(t){return he.ready.promise().done(t),this},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(he.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:se,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var t,i,n,s,a,o,r=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[1]||{},l=2),"object"==typeof r||he.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(s in a)t=r[s],n=a[s],r!==n&&(h&&n&&(he.isPlainObject(n)||(i=he.isArray(n)))?(i?(i=!1,o=t&&he.isArray(t)?t:[]):o=t&&he.isPlainObject(t)?t:{},r[s]=he.extend(h,o,n)):n!==e&&(r[s]=n));return r},he.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===he&&(t.$=Z),e&&t.jQuery===he&&(t.jQuery=J),he},isReady:!1,readyWait:1,holdReady:function(t){t?he.readyWait++:he.ready(!0)},ready:function(t){if(t===!0?!--he.readyWait:!he.isReady){if(!K.body)return setTimeout(he.ready);he.isReady=!0,t!==!0&&--he.readyWait>0||(U.resolveWith(K,[he]),he.fn.trigger&&he(K).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===he.type(t)},isArray:Array.isArray||function(t){return"array"===he.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?te[re.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==he.type(t)||t.nodeType||he.isWindow(t))return!1;try{if(t.constructor&&!le.call(t,"constructor")&&!le.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(he.support.ownLast)for(i in t)return le.call(t,i);for(i in t);return i===e||le.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||K;var n=me.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=he.buildFragment([t],e,s),s&&he(s).remove(),he.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=he.trim(e),e&&ge.test(e.replace(be,"@").replace(ye,"]").replace(ve,"")))?new Function("return "+e)():void he.error("Invalid JSON: "+e)},parseXML:function(i){var n,s;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(_e,"ms-").replace(Me,we)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var s,a=0,o=t.length,r=i(t);if(n){if(r)for(;o>a&&(s=e.apply(t[a],n),s!==!1);a++);else for(a in t)if(s=e.apply(t[a],n),s===!1)break}else if(r)for(;o>a&&(s=e.call(t[a],a,t[a]),s!==!1);a++);else for(a in t)if(s=e.call(t[a],a,t[a]),s===!1)break;return t},trim:ce&&!ce.call("\ufeff\xa0")?function(t){return null==t?"":ce.call(t)}:function(t){return null==t?"":(t+"").replace(pe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?he.merge(n,"string"==typeof t?[t]:t):se.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(oe)return oe.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,s=t.length,a=0;if("number"==typeof n)for(;n>a;a++)t[s++]=i[a];else for(;i[a]!==e;)t[s++]=i[a++];return t.length=s,t},grep:function(t,e,i){var n,s=[],a=0,o=t.length;for(i=!!i;o>a;a++)n=!!e(t[a],a),i!==n&&s.push(t[a]);return s},map:function(t,e,n){var s,a=0,o=t.length,r=i(t),l=[];if(r)for(;o>a;a++)s=e(t[a],a,n),null!=s&&(l[l.length]=s);else for(a in t)s=e(t[a],a,n),null!=s&&(l[l.length]=s);return ne.apply([],l)},guid:1,proxy:function(t,i){var n,s,a;return"string"==typeof i&&(a=t[i],i=t,t=a),he.isFunction(t)?(n=ae.call(arguments,2),s=function(){return t.apply(i||this,n.concat(ae.call(arguments)))},s.guid=t.guid=t.guid||he.guid++,s):e},access:function(t,i,n,s,a,o,r){var l=0,c=t.length,h=null==n;if("object"===he.type(n)){a=!0;for(l in n)he.access(t,i,l,n[l],!0,o,r)}else if(s!==e&&(a=!0,he.isFunction(s)||(r=!0),h&&(r?(i.call(t,s),i=null):(h=i,i=function(t,e,i){return h.call(he(t),i)})),i))for(;c>l;l++)i(t[l],n,r?s:s.call(t[l],l,i(t[l],n)));return a?t:h?i.call(t):c?i(t[0],n):o},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var s,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];s=i.apply(t,n||[]);for(a in e)t.style[a]=o[a];return s}}),he.ready.promise=function(e){if(!U)if(U=he.Deferred(),"complete"===K.readyState)setTimeout(he.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",xe,!1),t.addEventListener("load",xe,!1);else{K.attachEvent("onreadystatechange",xe),t.attachEvent("onload",xe);var i=!1;try{i=null==t.frameElement&&K.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!he.isReady){try{i.doScroll("left")}catch(t){return setTimeout(s,50)}ke(),he.ready()}}()}return U.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()}),Y=he(K),function(t,e){function i(t,e,i,n){var s,a,o,r,l,c,h,u,d,p;if((e?e.ownerDocument||e:$)!==N&&j(e),e=e||N,i=i||[],!t||"string"!=typeof t)return i;if(1!==(r=e.nodeType)&&9!==r)return[];if(F&&!n){if(s=xe.exec(t))if(o=s[1]){if(9===r){if(a=e.getElementById(o),!a||!a.parentNode)return i;if(a.id===o)return i.push(a),i}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&R(e,a)&&a.id===o)return i.push(a),i}else{if(s[2])return se.apply(i,e.getElementsByTagName(t)),i;if((o=s[3])&&D.getElementsByClassName&&e.getElementsByClassName)return se.apply(i,e.getElementsByClassName(o)),i}if(D.qsa&&(!H||!H.test(t))){if(u=h=q,d=e,p=9===r&&t,1===r&&"object"!==e.nodeName.toLowerCase()){for(c=m(t),(h=e.getAttribute("id"))?u=h.replace(Te,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+g(c[l]);d=ve.test(t)&&e.parentNode||e,p=c.join(",")}if(p)try{return se.apply(i,d.querySelectorAll(p)),i}catch(f){}finally{h||e.removeAttribute("id")}}}return k(t.replace(fe,"$1"),e,i,n)}function n(t){return we.test(t+"")}function s(){function t(i,n){return e.push(i+=" ")>V.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function a(t){return t[q]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e,i){t=t.split("|");for(var n,s=t.length,a=i?null:e;s--;)(n=V.attrHandle[t[s]])&&n!==e||(V.attrHandle[t[s]]=a)}function l(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}function c(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function h(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function u(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function d(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function p(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function f(t){return a(function(e){return e=+e,a(function(i,n){for(var s,a=t([],i.length,e),o=a.length;o--;)i[s=a[o]]&&(i[s]=!(n[s]=i[s]))})})}function m(t,e){var n,s,a,o,r,l,c,h=Q[t+" "];if(h)return e?0:h.slice(0);for(r=t,l=[],c=V.preFilter;r;){(!n||(s=me.exec(r)))&&(s&&(r=r.slice(s[0].length)||r),l.push(a=[])),n=!1,(s=ge.exec(r))&&(n=s.shift(),a.push({value:n,type:s[0].replace(fe," ")}),r=r.slice(n.length));for(o in V.filter)!(s=Me[o].exec(r))||c[o]&&!(s=c[o](s))||(n=s.shift(),a.push({value:n,type:o,matches:s}),r=r.slice(n.length));if(!n)break}return e?r.length:r?i.error(t):Q(t,l).slice(0)}function g(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function v(t,e,i){var n=e.dir,s=i&&"parentNode"===n,a=U++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,a)}:function(e,i,o){var r,l,c,h=B+" "+a;if(o){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(c=e[q]||(e[q]={}),(l=c[n])&&l[0]===h){if((r=l[1])===!0||r===E)return r===!0}else if(l=c[n]=[h],l[1]=t(e,i,o)||E,l[1]===!0)return!0}}function b(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function y(t,e,i,n,s){for(var a,o=[],r=0,l=t.length,c=null!=e;l>r;r++)(a=t[r])&&(!i||i(a,n,s))&&(o.push(a),c&&e.push(r));return o}function _(t,e,i,n,s,o){return n&&!n[q]&&(n=_(n)),s&&!s[q]&&(s=_(s,o)),a(function(a,o,r,l){var c,h,u,d=[],p=[],f=o.length,m=a||x(e||"*",r.nodeType?[r]:r,[]),g=!t||!a&&e?m:y(m,d,t,r,l),v=i?s||(a?t:f||n)?[]:o:g;if(i&&i(g,v,r,l),n)for(c=y(v,p),n(c,[],r,l),h=c.length;h--;)(u=c[h])&&(v[p[h]]=!(g[p[h]]=u));if(a){if(s||t){if(s){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(g[h]=u);s(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=s?oe.call(a,u):d[h])>-1&&(a[c]=!(o[c]=u))}}else v=y(v===o?v.splice(f,v.length):v),s?s(null,o,v,l):se.apply(o,v)})}function M(t){for(var e,i,n,s=t.length,a=V.relative[t[0].type],o=a||V.relative[" "],r=a?1:0,l=v(function(t){return t===e},o,!0),c=v(function(t){return oe.call(e,t)>-1},o,!0),h=[function(t,i,n){return!a&&(n||i!==L)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];s>r;r++)if(i=V.relative[t[r].type])h=[v(b(h),i)];else{if(i=V.filter[t[r].type].apply(null,t[r].matches),i[q]){for(n=++r;s>n&&!V.relative[t[n].type];n++);return _(r>1&&b(h),r>1&&g(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(fe,"$1"),i,n>r&&M(t.slice(r,n)),s>n&&M(t=t.slice(n)),s>n&&g(t))}h.push(i)}return b(h)}function w(t,e){var n=0,s=e.length>0,o=t.length>0,r=function(a,r,l,c,h){var u,d,p,f=[],m=0,g="0",v=a&&[],b=null!=h,_=L,M=a||o&&V.find.TAG("*",h&&r.parentNode||r),w=B+=null==_?1:Math.random()||.1;for(b&&(L=r!==N&&r,E=n);null!=(u=M[g]);g++){if(o&&u){for(d=0;p=t[d++];)if(p(u,r,l)){c.push(u);break}b&&(B=w,E=++n)}s&&((u=!p&&u)&&m--,a&&v.push(u))}if(m+=g,s&&g!==m){for(d=0;p=e[d++];)p(v,f,r,l);if(a){if(m>0)for(;g--;)v[g]||f[g]||(f[g]=ie.call(c));f=y(f)}se.apply(c,f),b&&!a&&f.length>0&&m+e.length>1&&i.uniqueSort(c)}return b&&(B=w,L=_),v};return s?a(r):r}function x(t,e,n){for(var s=0,a=e.length;a>s;s++)i(t,e[s],n);return n}function k(t,e,i,n){var s,a,o,r,l,c=m(t);if(!n&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&D.getById&&9===e.nodeType&&F&&V.relative[a[1].type]){if(e=(V.find.ID(o.matches[0].replace(De,Ee),e)||[])[0],!e)return i;t=t.slice(a.shift().value.length)}for(s=Me.needsContext.test(t)?0:a.length;s--&&(o=a[s],!V.relative[r=o.type]);)if((l=V.find[r])&&(n=l(o.matches[0].replace(De,Ee),ve.test(a[0].type)&&e.parentNode||e))){if(a.splice(s,1),t=n.length&&g(a),!t)return se.apply(i,n),i;break}}return I(t,c)(n,e,!F,i,ve.test(t)),i}function C(){}var T,D,E,V,S,A,I,L,P,j,N,O,F,H,z,W,R,q="sizzle"+-new Date,$=t.document,B=0,U=0,Y=s(),Q=s(),G=s(),K=!1,X=function(){return 0},J=typeof e,Z=1<<31,te={}.hasOwnProperty,ee=[],ie=ee.pop,ne=ee.push,se=ee.push,ae=ee.slice,oe=ee.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ce="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ue=ce.replace("w","w#"),de="\\["+le+"*("+ce+")"+le+"*(?:([*^$|!~]?=)"+le+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ue+")|)|)"+le+"*\\]",pe=":("+ce+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+de.replace(3,8)+")*)|.*)\\)|)",fe=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),me=new RegExp("^"+le+"*,"+le+"*"),ge=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ve=new RegExp(le+"*[+~]"),be=new RegExp("="+le+"*([^\\]'\"]*)"+le+"*\\]","g"),ye=new RegExp(pe),_e=new RegExp("^"+ue+"$"),Me={ID:new RegExp("^#("+ce+")"),CLASS:new RegExp("^\\.("+ce+")"),TAG:new RegExp("^("+ce.replace("w","w*")+")"),ATTR:new RegExp("^"+de),PSEUDO:new RegExp("^"+pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+re+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},we=/^[^{]+\{\s*\[native \w/,xe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ke=/^(?:input|select|textarea|button)$/i,Ce=/^h\d$/i,Te=/'|\\/g,De=new RegExp("\\\\([\\da-f]{1,6}"+le+"?|("+le+")|.)","ig"),Ee=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{se.apply(ee=ae.call($.childNodes),$.childNodes),ee[$.childNodes.length].nodeType}catch(Ve){se={apply:ee.length?function(t,e){ne.apply(t,ae.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}A=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=i.support={},j=i.setDocument=function(t){var e=t?t.ownerDocument||t:$;return e!==N&&9===e.nodeType&&e.documentElement?(N=e,O=e.documentElement,F=!A(e),D.attributes=o(function(t){return t.innerHTML="<a href='#'></a>",r("type|href|height|width",c,"#"===t.firstChild.getAttribute("href")),r(re,l,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),D.input=o(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),r("value",h,D.attributes&&D.input),D.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),D.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),D.getById=o(function(t){return O.appendChild(t).id=q,!e.getElementsByName||!e.getElementsByName(q).length}),D.getById?(V.find.ID=function(t,e){if(typeof e.getElementById!==J&&F){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},V.filter.ID=function(t){var e=t.replace(De,Ee);return function(t){return t.getAttribute("id")===e}}):(delete V.find.ID,V.filter.ID=function(t){var e=t.replace(De,Ee);return function(t){var i=typeof t.getAttributeNode!==J&&t.getAttributeNode("id");return i&&i.value===e}}),V.find.TAG=D.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==J?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],s=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[s++];)1===i.nodeType&&n.push(i);return n}return a},V.find.CLASS=D.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==J&&F?e.getElementsByClassName(t):void 0},z=[],H=[],(D.qsa=n(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||H.push("\\["+le+"*(?:value|"+re+")"),t.querySelectorAll(":checked").length||H.push(":checked")}),o(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&H.push("[*^$]="+le+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),H.push(",.*:")})),(D.matchesSelector=n(W=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(t){D.disconnectedMatch=W.call(t,"div"),W.call(t,"[s!='']:x"),z.push("!=",pe)}),H=H.length&&new RegExp(H.join("|")),z=z.length&&new RegExp(z.join("|")),R=n(O.contains)||O.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D.sortDetached=o(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),X=O.compareDocumentPosition?function(t,i){if(t===i)return K=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!D.sortDetached&&i.compareDocumentPosition(t)===n?t===e||R($,t)?-1:i===e||R($,i)?1:P?oe.call(P,t)-oe.call(P,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,s=0,a=t.parentNode,o=i.parentNode,r=[t],l=[i];if(t===i)return K=!0,0;if(!a||!o)return t===e?-1:i===e?1:a?-1:o?1:P?oe.call(P,t)-oe.call(P,i):0;if(a===o)return u(t,i);for(n=t;n=n.parentNode;)r.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;r[s]===l[s];)s++;return s?u(r[s],l[s]):r[s]===$?-1:l[s]===$?1:0},e):N},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&j(t),e=e.replace(be,"='$1']"),!(!D.matchesSelector||!F||z&&z.test(e)||H&&H.test(e)))try{var n=W.call(t,e);if(n||D.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return i(e,N,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==N&&j(t),R(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==N&&j(t);var n=V.attrHandle[i.toLowerCase()],s=n&&te.call(V.attrHandle,i.toLowerCase())?n(t,i,!F):e;return s===e?D.attributes||!F?t.getAttribute(i):(s=t.getAttributeNode(i))&&s.specified?s.value:null:s},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,s=0;if(K=!D.detectDuplicates,P=!D.sortStable&&t.slice(0),t.sort(X),K){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return t},S=i.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n];n++)i+=S(e);return i},V=i.selectors={cacheLength:50,createPseudo:a,match:Me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(De,Ee),t[3]=(t[4]||t[5]||"").replace(De,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)
},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return Me.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&ye.test(n)&&(i=m(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(De,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+le+")"+t+"("+le+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==J&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(s){var a=i.attr(s,t);return null==a?"!="===e:e?(a+="","="===e?a===n:"!="===e?a!==n:"^="===e?n&&0===a.indexOf(n):"*="===e?n&&a.indexOf(n)>-1:"$="===e?n&&a.slice(-n.length)===n:"~="===e?(" "+a+" ").indexOf(n)>-1:"|="===e?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f,m=a!==o?"nextSibling":"previousSibling",g=e.parentNode,v=r&&e.nodeName.toLowerCase(),b=!l&&!r;if(g){if(a){for(;m;){for(u=e;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&b){for(h=g[q]||(g[q]={}),c=h[t]||[],p=c[0]===B&&c[1],d=c[0]===B&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===e){h[t]=[B,p,d];break}}else if(b&&(c=(e[q]||(e[q]={}))[t])&&c[0]===B)d=c[1];else for(;(u=++p&&u&&u[m]||(d=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(b&&((u[q]||(u[q]={}))[t]=[B,d]),u!==e)););return d-=s,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,e){var n,s=V.pseudos[t]||V.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return s[q]?s(e):s.length>1?(n=[t,t,"",e],V.setFilters.hasOwnProperty(t.toLowerCase())?a(function(t,i){for(var n,a=s(t,e),o=a.length;o--;)n=oe.call(t,a[o]),t[n]=!(i[n]=a[o])}):function(t){return s(t,0,n)}):s}},pseudos:{not:a(function(t){var e=[],i=[],n=I(t.replace(fe,"$1"));return n[q]?a(function(t,e,i,s){for(var a,o=n(t,null,s,[]),r=t.length;r--;)(a=o[r])&&(t[r]=!(e[r]=a))}):function(t,s,a){return e[0]=t,n(e,null,a,i),!i.pop()}}),has:a(function(t){return function(e){return i(t,e).length>0}}),contains:a(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:a(function(t){return _e.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(De,Ee).toLowerCase(),function(e){var i;do if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!V.pseudos.empty(t)},header:function(t){return Ce.test(t.nodeName)},input:function(t){return ke.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:f(function(){return[0]}),last:f(function(t,e){return[e-1]}),eq:f(function(t,e,i){return[0>i?i+e:i]}),even:f(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:f(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:f(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:f(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})V.pseudos[T]=d(T);for(T in{submit:!0,reset:!0})V.pseudos[T]=p(T);I=i.compile=function(t,e){var i,n=[],s=[],a=G[t+" "];if(!a){for(e||(e=m(t)),i=e.length;i--;)a=M(e[i]),a[q]?n.push(a):s.push(a);a=G(t,w(s,n))}return a},V.pseudos.nth=V.pseudos.eq,C.prototype=V.filters=V.pseudos,V.setFilters=new C,D.sortStable=q.split("").sort(X).join("")===q,j(),[0,0].sort(X),D.detectDuplicates=K,he.find=i,he.expr=i.selectors,he.expr[":"]=he.expr.pseudos,he.unique=i.uniqueSort,he.text=i.getText,he.isXMLDoc=i.isXML,he.contains=i.contains}(t);var Ce={};he.Callbacks=function(t){t="string"==typeof t?Ce[t]||n(t):he.extend({},t);var i,s,a,o,r,l,c=[],h=!t.once&&[],u=function(e){for(s=t.memory&&e,a=!0,r=l||0,l=0,o=c.length,i=!0;c&&o>r;r++)if(c[r].apply(e[0],e[1])===!1&&t.stopOnFalse){s=!1;break}i=!1,c&&(h?h.length&&u(h.shift()):s?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function n(e){he.each(e,function(e,i){var s=he.type(i);"function"===s?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==s&&n(i)})}(arguments),i?o=c.length:s&&(l=e,u(s))}return this},remove:function(){return c&&he.each(arguments,function(t,e){for(var n;(n=he.inArray(e,c,n))>-1;)c.splice(n,1),i&&(o>=n&&o--,r>=n&&r--)}),this},has:function(t){return t?he.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=h=s=e,this},disabled:function(){return!c},lock:function(){return h=e,s||d.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||a&&!h||(i?h.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},he.extend({Deferred:function(t){var e=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return he.Deferred(function(i){he.each(e,function(e,a){var o=a[0],r=he.isFunction(t[e])&&t[e];s[a[1]](function(){var t=r&&r.apply(this,arguments);t&&he.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?he.extend(t,n):n}},s={};return n.pipe=n.then,he.each(e,function(t,a){var o=a[2],r=a[3];n[a[1]]=o.add,r&&o.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),s[a[0]]=function(){return s[a[0]+"With"](this===s?n:this,arguments),this},s[a[0]+"With"]=o.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,a=ae.call(arguments),o=a.length,r=1!==o||t&&he.isFunction(t.promise)?o:0,l=1===r?t:he.Deferred(),c=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?ae.call(arguments):s,n===e?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);o>s;s++)a[s]&&he.isFunction(a[s].promise)?a[s].promise().done(c(s,n,a)).fail(l.reject).progress(c(s,i,e)):--r;return r||l.resolveWith(n,a),l.promise()}}),he.support=function(e){var i,n,s,a,o,r,l,c,h,u=K.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;a=K.createElement("select"),r=a.appendChild(K.createElement("option")),s=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!s.value,e.optSelected=r.selected,e.enctype=!!K.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,a.disabled=!0,e.optDisabled=!r.disabled;try{delete u.test}catch(d){e.deleteExpando=!1}s=K.createElement("input"),s.setAttribute("value",""),e.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),o=K.createDocumentFragment(),o.appendChild(s),e.appendChecked=s.checked,e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+h,"t"),e[h+"Bubbles"]=l in t||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(h in he(e))break;return e.ownLast="0"!==h,he(function(){var i,n,s,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=K.getElementsByTagName("body")[0];o&&(i=K.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=u.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",e.reliableHiddenOffsets=c&&0===s[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",he.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(K.createElement("div")),n.style.cssText=u.style.cssText=a,n.style.marginRight=n.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==Q&&(u.innerHTML="",u.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(i),i=u=s=n=null)}),i=a=o=r=n=s=null,e}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,De=/([A-Z])/g;he.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?he.cache[t[he.expando]]:t[he.expando],!!t&&!r(t)},data:function(t,e,i){return s(t,e,i)},removeData:function(t,e){return a(t,e)},_data:function(t,e,i){return s(t,e,i,!0)},_removeData:function(t,e){return a(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&he.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),he.fn.extend({data:function(t,i){var n,s,a=null,r=0,l=this[0];if(t===e){if(this.length&&(a=he.data(l),1===l.nodeType&&!he._data(l,"parsedAttrs"))){for(n=l.attributes;r<n.length;r++)s=n[r].name,0===s.indexOf("data-")&&(s=he.camelCase(s.slice(5)),o(l,s,a[s]));he._data(l,"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){he.data(this,t)}):arguments.length>1?this.each(function(){he.data(this,t,i)}):l?o(l,t,he.data(l,t)):null},removeData:function(t){return this.each(function(){he.removeData(this,t)})}}),he.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=he._data(t,e),i&&(!n||he.isArray(i)?n=he._data(t,e,he.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=he.queue(t,e),n=i.length,s=i.shift(),a=he._queueHooks(t,e),o=function(){he.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),a.cur=s,s&&("fx"===e&&i.unshift("inprogress"),delete a.stop,s.call(t,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return he._data(t,i)||he._data(t,i,{empty:he.Callbacks("once memory").add(function(){he._removeData(t,e+"queue"),he._removeData(t,i)})})}}),he.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?he.queue(this[0],t):i===e?this:this.each(function(){var e=he.queue(this,t,i);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(t){return this.each(function(){he.dequeue(this,t)})},delay:function(t,e){return t=he.fx?he.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,s=1,a=he.Deferred(),o=this,r=this.length,l=function(){--s||a.resolveWith(o,[o])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";r--;)n=he._data(o[r],t+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),a.promise(i)}});var Ee,Ve,Se=/[\t\r\n\f]/g,Ae=/\r/g,Ie=/^(?:input|select|textarea|button|object)$/i,Le=/^(?:a|area)$/i,Pe=/^(?:checked|selected)$/i,je=he.support.getSetAttribute,Ne=he.support.input;he.fn.extend({attr:function(t,e){return he.access(this,he.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){he.removeAttr(this,t)})},prop:function(t,e){return he.access(this,he.prop,t,e,arguments.length>1)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,s,a,o=0,r=this.length,l="string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];r>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):" ")){for(a=0;s=e[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i.className=he.trim(n)}return this},removeClass:function(t){var e,i,n,s,a,o=0,r=this.length,l=0===arguments.length||"string"==typeof t&&t;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(de)||[];r>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Se," "):"")){for(a=0;s=e[a++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=t?he.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return this.each(he.isFunction(t)?function(i){he(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var s,a=0,o=he(this),r=e,l=t.match(de)||[];s=l[a++];)r=n?r:!o.hasClass(s),o[r?"addClass":"removeClass"](s);else(i===Q||"boolean"===i)&&(this.className&&he._data(this,"__className__",this.className),this.className=this.className||t===!1?"":he._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Se," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,s,a=this[0];{if(arguments.length)return s=he.isFunction(t),this.each(function(i){var a;1===this.nodeType&&(a=s?t.call(this,i,he(this).val()):t,null==a?a="":"number"==typeof a?a+="":he.isArray(a)&&(a=he.map(a,function(t){return null==t?"":t+""})),n=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==e||(this.value=a))});if(a)return n=he.valHooks[a.type]||he.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==e?i:(i=a.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)}}}),he.extend({valHooks:{option:{get:function(t){var e=he.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,a="select-one"===t.type||0>s,o=a?null:[],r=a?s+1:n.length,l=0>s?r:a?s:0;r>l;l++)if(i=n[l],!(!i.selected&&l!==s||(he.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&he.nodeName(i.parentNode,"optgroup"))){if(e=he(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,a=he.makeArray(e),o=s.length;o--;)n=s[o],(n.selected=he.inArray(he(n).val(),a)>=0)&&(i=!0);return i||(t.selectedIndex=-1),a}}},attr:function(t,i,n){var s,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Q?he.prop(t,i,n):(1===o&&he.isXMLDoc(t)||(i=i.toLowerCase(),s=he.attrHooks[i]||(he.expr.match.bool.test(i)?Ve:Ee)),n===e?s&&"get"in s&&null!==(a=s.get(t,i))?a:(a=he.find.attr(t,i),null==a?e:a):null!==n?s&&"set"in s&&(a=s.set(t,n,i))!==e?a:(t.setAttribute(i,n+""),n):void he.removeAttr(t,i))},removeAttr:function(t,e){var i,n,s=0,a=e&&e.match(de);if(a&&1===t.nodeType)for(;i=a[s++];)n=he.propFix[i]||i,he.expr.match.bool.test(i)?Ne&&je||!Pe.test(i)?t[n]=!1:t[he.camelCase("default-"+i)]=t[n]=!1:he.attr(t,i,""),t.removeAttribute(je?i:n)},attrHooks:{type:{set:function(t,e){if(!he.support.radioValue&&"radio"===e&&he.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var s,a,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return o=1!==r||!he.isXMLDoc(t),o&&(i=he.propFix[i]||i,a=he.propHooks[i]),n!==e?a&&"set"in a&&(s=a.set(t,n,i))!==e?s:t[i]=n:a&&"get"in a&&null!==(s=a.get(t,i))?s:t[i]},propHooks:{tabIndex:{get:function(t){var e=he.find.attr(t,"tabindex");return e?parseInt(e,10):Ie.test(t.nodeName)||Le.test(t.nodeName)&&t.href?0:-1}}}}),Ve={set:function(t,e,i){return e===!1?he.removeAttr(t,i):Ne&&je||!Pe.test(i)?t.setAttribute(!je&&he.propFix[i]||i,i):t[he.camelCase("default-"+i)]=t[i]=!0,i}},he.each(he.expr.match.bool.source.match(/\w+/g),function(t,i){var n=he.expr.attrHandle[i]||he.find.attr;he.expr.attrHandle[i]=Ne&&je||!Pe.test(i)?function(t,i,s){var a=he.expr.attrHandle[i],o=s?e:(he.expr.attrHandle[i]=e)!=n(t,i,s)?i.toLowerCase():null;return he.expr.attrHandle[i]=a,o}:function(t,i,n){return n?e:t[he.camelCase("default-"+i)]?i.toLowerCase():null}}),Ne&&je||(he.attrHooks.value={set:function(t,e,i){return he.nodeName(t,"input")?void(t.defaultValue=e):Ee&&Ee.set(t,e,i)}}),je||(Ee={set:function(t,i,n){var s=t.getAttributeNode(n);return s||t.setAttributeNode(s=t.ownerDocument.createAttribute(n)),s.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},he.expr.attrHandle.id=he.expr.attrHandle.name=he.expr.attrHandle.coords=function(t,i,n){var s;return n?e:(s=t.getAttributeNode(i))&&""!==s.value?s.value:null},he.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:Ee.set},he.attrHooks.contenteditable={set:function(t,e,i){Ee.set(t,""===e?!1:e,i)}},he.each(["width","height"],function(t,e){he.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),he.support.hrefNormalized||he.each(["href","src"],function(t,e){he.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),he.support.style||(he.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),he.support.optSelected||(he.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.support.enctype||(he.propFix.enctype="encoding"),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(t,e){return he.isArray(e)?t.checked=he.inArray(he(t).val(),e)>=0:void 0}},he.support.checkOn||(he.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Oe=/^(?:input|select|textarea)$/i,Fe=/^key/,He=/^(?:mouse|contextmenu)|click/,ze=/^(?:focusinfocus|focusoutblur)$/,We=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(t,i,n,s,a){var o,r,l,c,h,u,d,p,f,m,g,v=he._data(t);if(v){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=he.guid++),(r=v.events)||(r=v.events={}),(u=v.handle)||(u=v.handle=function(t){return typeof he===Q||t&&he.event.triggered===t.type?e:he.event.dispatch.apply(u.elem,arguments)},u.elem=t),i=(i||"").match(de)||[""],l=i.length;l--;)o=We.exec(i[l])||[],f=g=o[1],m=(o[2]||"").split(".").sort(),f&&(h=he.event.special[f]||{},f=(a?h.delegateType:h.bindType)||f,h=he.event.special[f]||{},d=he.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:a,needsContext:a&&he.expr.match.needsContext.test(a),namespace:m.join(".")},c),(p=r[f])||(p=r[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,s,m,u)!==!1||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,d):p.push(d),he.event.global[f]=!0);t=null}},remove:function(t,e,i,n,s){var a,o,r,l,c,h,u,d,p,f,m,g=he.hasData(t)&&he._data(t);if(g&&(h=g.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(r=We.exec(e[c])||[],p=m=r[1],f=(r[2]||"").split(".").sort(),p){for(u=he.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=h[p]||[],r=r[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=d.length;a--;)o=d[a],!s&&m!==o.origType||i&&i.guid!==o.guid||r&&!r.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(d.splice(a,1),o.selector&&d.delegateCount--,u.remove&&u.remove.call(t,o));l&&!d.length&&(u.teardown&&u.teardown.call(t,f,g.handle)!==!1||he.removeEvent(t,p,g.handle),delete h[p])}else for(p in h)he.event.remove(t,p+e[c],i,n,!0);he.isEmptyObject(h)&&(delete g.handle,he._removeData(t,"events"))}},trigger:function(i,n,s,a){var o,r,l,c,h,u,d,p=[s||K],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=u=s=s||K,3!==s.nodeType&&8!==s.nodeType&&!ze.test(f+he.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),r=f.indexOf(":")<0&&"on"+f,i=i[he.expando]?i:new he.Event(f,"object"==typeof i&&i),i.isTrigger=a?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=s),n=null==n?[i]:he.makeArray(n,[i]),h=he.event.special[f]||{},a||!h.trigger||h.trigger.apply(s,n)!==!1)){if(!a&&!h.noBubble&&!he.isWindow(s)){for(c=h.delegateType||f,ze.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(s.ownerDocument||K)&&p.push(u.defaultView||u.parentWindow||t)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?c:h.bindType||f,o=(he._data(l,"events")||{})[i.type]&&he._data(l,"handle"),o&&o.apply(l,n),o=r&&l[r],o&&he.acceptData(l)&&o.apply&&o.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!a&&!i.isDefaultPrevented()&&(!h._default||h._default.apply(p.pop(),n)===!1)&&he.acceptData(s)&&r&&s[f]&&!he.isWindow(s)){u=s[r],u&&(s[r]=null),he.event.triggered=f;try{s[f]()}catch(g){}he.event.triggered=e,u&&(s[r]=u)}return i.result}},dispatch:function(t){t=he.event.fix(t);var i,n,s,a,o,r=[],l=ae.call(arguments),c=(he._data(this,"events")||{})[t.type]||[],h=he.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(r=he.event.handlers.call(this,t,c),i=0;(a=r[i++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,o=0;(s=a.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,n=((he.event.special[s.origType]||{}).handle||s.handler).apply(a.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,s,a,o,r=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(a=[],o=0;l>o;o++)s=i[o],n=s.selector+" ",a[n]===e&&(a[n]=s.needsContext?he(n,this).index(c)>=0:he.find(n,this,null,[c]).length),a[n]&&a.push(s);a.length&&r.push({elem:c,handlers:a})}return l<i.length&&r.push({elem:this,handlers:i.slice(l)}),r},fix:function(t){if(t[he.expando])return t;var e,i,n,s=t.type,a=t,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=He.test(s)?this.mouseHooks:Fe.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new he.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=a.srcElement||K),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,s,a,o=i.button,r=i.fromElement;return null==t.pageX&&null!=i.clientX&&(s=t.target.ownerDocument||K,a=s.documentElement,n=s.body,t.pageX=i.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?i.toElement:r),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return he.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return he.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var s=he.extend(new he.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?he.event.trigger(s,null,e):he.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},he.removeEvent=K.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Q&&(t[n]=null),t.detachEvent(n,i))},he.Event=function(t,e){return this instanceof he.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,e&&he.extend(this,e),this.timeStamp=t&&t.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(t,e)},he.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){he.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,a=t.handleObj;return(!s||s!==n&&!he.contains(n,s))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return he.nodeName(this,"form")?!1:void he.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=he.nodeName(i,"input")||he.nodeName(i,"button")?i.form:e;n&&!he._data(n,"submitBubbles")&&(he.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),he._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&he.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return he.nodeName(this,"form")?!1:void he.event.remove(this,"._submit")}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return Oe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(he.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,t,!0)})),!1):void he.event.add(this,"beforeactivate._change",function(t){var e=t.target;Oe.test(e.nodeName)&&!he._data(e,"changeBubbles")&&(he.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||he.event.simulate("change",this.parentNode,t,!0)}),he._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return he.event.remove(this,"._change"),!Oe.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){he.event.simulate(e,t.target,he.event.fix(t),!0)};he.event.special[e]={setup:function(){0===i++&&K.addEventListener(t,n,!0)},teardown:function(){0===--i&&K.removeEventListener(t,n,!0)}}}),he.fn.extend({on:function(t,i,n,s,a){var o,r;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(o in t)this.on(o,i,n,t[o],a);return this}if(null==n&&null==s?(s=i,n=i=e):null==s&&("string"==typeof i?(s=n,n=e):(s=n,n=i,i=e)),s===!1)s=c;else if(!s)return this;return 1===a&&(r=s,s=function(t){return he().off(t),r.apply(this,arguments)},s.guid=r.guid||(r.guid=he.guid++)),this.each(function(){he.event.add(this,t,s,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var s,a;if(t&&t.preventDefault&&t.handleObj)return s=t.handleObj,he(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof t){for(a in t)this.off(a,i,t[a]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){he.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){he.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?he.event.trigger(t,e,i,!0):void 0}});var Re=/^.[^:#\[\.,]*$/,qe=/^(?:parents|prev(?:Until|All))/,$e=he.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(he(t).filter(function(){for(e=0;s>e;e++)if(he.contains(n[e],this))return!0}));for(e=0;s>e;e++)he.find(t,n[e],i);return i=this.pushStack(s>1?he.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=he(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(he.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&$e.test(t)?he(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,s=this.length,a=[],o=$e.test(t)||"string"!=typeof t?he(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&he.find.matchesSelector(i,t))){i=a.push(i);break}return this.pushStack(a.length>1?he.unique(a):a)},index:function(t){return t?"string"==typeof t?he.inArray(this[0],he(t)):he.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?he(t,e):he.makeArray(t&&t.nodeType?[t]:t),n=he.merge(this.get(),i);return this.pushStack(he.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),he.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he.dir(t,"parentNode")},parentsUntil:function(t,e,i){return he.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return he.dir(t,"nextSibling")},prevAll:function(t){return he.dir(t,"previousSibling")
},nextUntil:function(t,e,i){return he.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return he.dir(t,"previousSibling",i)},siblings:function(t){return he.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return he.sibling(t.firstChild)},contents:function(t){return he.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:he.merge([],t.childNodes)}},function(t,e){he.fn[t]=function(i,n){var s=he.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=he.filter(n,s)),this.length>1&&(Be[t]||(s=he.unique(s)),qe.test(t)&&(s=s.reverse())),this.pushStack(s)}}),he.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?he.find.matchesSelector(n,t)?[n]:[]:he.find.matches(t,he.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var s=[],a=t[i];a&&9!==a.nodeType&&(n===e||1!==a.nodeType||!he(a).is(n));)1===a.nodeType&&s.push(a),a=a[i];return s},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Ue="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ye=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+Ue+")[\\s/>]","i"),Ge=/^\s+/,Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xe=/<([\w:]+)/,Je=/<tbody/i,Ze=/<|&#?\w+;/,ti=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,si=/^true\/(.*)/,ai=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oi={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ri=p(K),li=ri.appendChild(K.createElement("div"));oi.optgroup=oi.option,oi.tbody=oi.tfoot=oi.colgroup=oi.caption=oi.thead,oi.th=oi.td,he.fn.extend({text:function(t){return he.access(this,function(t){return t===e?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?he.filter(t,this):this,s=0;null!=(i=n[s]);s++)e||1!==i.nodeType||he.cleanData(_(i)),i.parentNode&&(e&&he.contains(i.ownerDocument,i)&&v(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&he.cleanData(_(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&he.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return he.clone(this,t,e)})},html:function(t){return he.access(this,function(t){var i=this[0]||{},n=0,s=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ye,""):e;if(!("string"!=typeof t||ti.test(t)||!he.support.htmlSerialize&&Qe.test(t)||!he.support.leadingWhitespace&&Ge.test(t)||oi[(Xe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ke,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(he.cleanData(_(i,!1)),i.innerHTML=t);i=0}catch(a){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=he.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],s=t[e++];s&&(n&&n.parentNode!==s&&(n=this.nextSibling),he(this).remove(),s.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=ne.apply([],t);var n,s,a,o,r,l,c=0,h=this.length,u=this,d=h-1,p=t[0],f=he.isFunction(p);if(f||!(1>=h||"string"!=typeof p||he.support.checkClone)&&ii.test(p))return this.each(function(n){var s=u.eq(n);f&&(t[0]=p.call(this,n,s.html())),s.domManip(t,e,i)});if(h&&(l=he.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(o=he.map(_(l,"script"),m),a=o.length;h>c;c++)s=l,c!==d&&(s=he.clone(s,!0,!0),a&&he.merge(o,_(s,"script"))),e.call(this[c],s,c);if(a)for(r=o[o.length-1].ownerDocument,he.map(o,g),c=0;a>c;c++)s=o[c],ni.test(s.type||"")&&!he._data(s,"globalEval")&&he.contains(r,s)&&(s.src?he._evalUrl(s.src):he.globalEval((s.text||s.textContent||s.innerHTML||"").replace(ai,"")));l=n=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){he.fn[t]=function(t){for(var i,n=0,s=[],a=he(t),o=a.length-1;o>=n;n++)i=n===o?this:this.clone(!0),he(a[n])[e](i),se.apply(s,i.get());return this.pushStack(s)}}),he.extend({clone:function(t,e,i){var n,s,a,o,r,l=he.contains(t.ownerDocument,t);if(he.support.html5Clone||he.isXMLDoc(t)||!Qe.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(li.innerHTML=t.outerHTML,li.removeChild(a=li.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||he.isXMLDoc(t)))for(n=_(a),r=_(t),o=0;null!=(s=r[o]);++o)n[o]&&y(s,n[o]);if(e)if(i)for(r=r||_(t),n=n||_(a),o=0;null!=(s=r[o]);o++)b(s,n[o]);else b(t,a);return n=_(a,"script"),n.length>0&&v(n,!l&&_(t,"script")),n=r=s=null,a},buildFragment:function(t,e,i,n){for(var s,a,o,r,l,c,h,u=t.length,d=p(e),f=[],m=0;u>m;m++)if(a=t[m],a||0===a)if("object"===he.type(a))he.merge(f,a.nodeType?[a]:a);else if(Ze.test(a)){for(r=r||d.appendChild(e.createElement("div")),l=(Xe.exec(a)||["",""])[1].toLowerCase(),h=oi[l]||oi._default,r.innerHTML=h[1]+a.replace(Ke,"<$1></$2>")+h[2],s=h[0];s--;)r=r.lastChild;if(!he.support.leadingWhitespace&&Ge.test(a)&&f.push(e.createTextNode(Ge.exec(a)[0])),!he.support.tbody)for(a="table"!==l||Je.test(a)?"<table>"!==h[1]||Je.test(a)?0:r:r.firstChild,s=a&&a.childNodes.length;s--;)he.nodeName(c=a.childNodes[s],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(he.merge(f,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=d.lastChild}else f.push(e.createTextNode(a));for(r&&d.removeChild(r),he.support.appendChecked||he.grep(_(f,"input"),M),m=0;a=f[m++];)if((!n||-1===he.inArray(a,n))&&(o=he.contains(a.ownerDocument,a),r=_(d.appendChild(a),"script"),o&&v(r),i))for(s=0;a=r[s++];)ni.test(a.type||"")&&i.push(a);return r=null,d},cleanData:function(t,e){for(var i,n,s,a,o=0,r=he.expando,l=he.cache,c=he.support.deleteExpando,h=he.event.special;null!=(i=t[o]);o++)if((e||he.acceptData(i))&&(s=i[r],a=s&&l[s])){if(a.events)for(n in a.events)h[n]?he.event.remove(i,n):he.removeEvent(i,n,a.handle);l[s]&&(delete l[s],c?delete i[r]:typeof i.removeAttribute!==Q?i.removeAttribute(r):i[r]=null,ee.push(s))}},_evalUrl:function(t){return he.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(he.isFunction(t)?function(e){he(this).wrapInner(t.call(this,e))}:function(){var e=he(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=he.isFunction(t);return this.each(function(i){he(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}});var ci,hi,ui,di=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+ue+")(.*)$","i"),bi=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),yi=new RegExp("^([+-])=("+ue+")","i"),_i={BODY:"block"},Mi={position:"absolute",visibility:"hidden",display:"block"},wi={letterSpacing:0,fontWeight:400},xi=["Top","Right","Bottom","Left"],ki=["Webkit","O","Moz","ms"];he.fn.extend({css:function(t,i){return he.access(this,function(t,i,n){var s,a,o={},r=0;if(he.isArray(i)){for(a=hi(t),s=i.length;s>r;r++)o[i[r]]=he.css(t,i[r],!1,a);return o}return n!==e?he.style(t,i,n):he.css(t,i)},t,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:x(this))?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ui(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,r,l=he.camelCase(i),c=t.style;if(i=he.cssProps[l]||(he.cssProps[l]=w(c,l)),r=he.cssHooks[i]||he.cssHooks[l],n===e)return r&&"get"in r&&(a=r.get(t,!1,s))!==e?a:c[i];if(o=typeof n,"string"===o&&(a=yi.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(he.css(t,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||he.cssNumber[l]||(n+="px"),he.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),r&&"set"in r&&(n=r.set(t,n,s))===e)))try{c[i]=n}catch(h){}}},css:function(t,i,n,s){var a,o,r,l=he.camelCase(i);return i=he.cssProps[l]||(he.cssProps[l]=w(t.style,l)),r=he.cssHooks[i]||he.cssHooks[l],r&&"get"in r&&(o=r.get(t,!0,n)),o===e&&(o=ui(t,i,s)),"normal"===o&&i in wi&&(o=wi[i]),""===n||n?(a=parseFloat(o),n===!0||he.isNumeric(a)?a||0:o):o}}),t.getComputedStyle?(hi=function(e){return t.getComputedStyle(e,null)},ui=function(t,i,n){var s,a,o,r=n||hi(t),l=r?r.getPropertyValue(i)||r[i]:e,c=t.style;return r&&(""!==l||he.contains(t.ownerDocument,t)||(l=he.style(t,i)),bi.test(l)&&gi.test(i)&&(s=c.width,a=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=s,c.minWidth=a,c.maxWidth=o)),l}):K.documentElement.currentStyle&&(hi=function(t){return t.currentStyle},ui=function(t,i,n){var s,a,o,r=n||hi(t),l=r?r[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),bi.test(l)&&!fi.test(i)&&(s=c.left,a=t.runtimeStyle,o=a&&a.left,o&&(a.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=s,o&&(a.left=o)),""===l?"auto":l}),he.each(["height","width"],function(t,e){he.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&mi.test(he.css(t,"display"))?he.swap(t,Mi,function(){return D(t,e,n)}):D(t,e,n):void 0},set:function(t,i,n){var s=n&&hi(t);return C(t,i,n?T(t,e,n,he.support.boxSizing&&"border-box"===he.css(t,"boxSizing",!1,s),s):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(t,e){return pi.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=he.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===he.trim(a.replace(di,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=di.test(a)?a.replace(di,s):a+" "+s)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(t,e){return e?he.swap(t,{display:"inline-block"},ui,[t,"marginRight"]):void 0}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(t,e){he.cssHooks[e]={get:function(t,i){return i?(i=ui(t,e),bi.test(i)?he(t).position()[e]+"px":i):void 0}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!he.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||he.css(t,"display"))},he.expr.filters.visible=function(t){return!he.expr.filters.hidden(t)}),he.each({margin:"",padding:"",border:"Width"},function(t,e){he.cssHooks[t+e]={expand:function(i){for(var n=0,s={},a="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+xi[n]+e]=a[n]||a[n-2]||a[0];return s}},gi.test(t)||(he.cssHooks[t+e].set=C)});var Ci=/%20/g,Ti=/\[\]$/,Di=/\r?\n/g,Ei=/^(?:submit|button|image|reset|file)$/i,Vi=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=he.prop(this,"elements");return t?he.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!he(this).is(":disabled")&&Vi.test(this.nodeName)&&!Ei.test(t)&&(this.checked||!ei.test(t))}).map(function(t,e){var i=he(this).val();return null==i?null:he.isArray(i)?he.map(i,function(t){return{name:e.name,value:t.replace(Di,"\r\n")}}):{name:e.name,value:i.replace(Di,"\r\n")}}).get()}}),he.param=function(t,i){var n,s=[],a=function(t,e){e=he.isFunction(e)?e():null==e?"":e,s[s.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(t)||t.jquery&&!he.isPlainObject(t))he.each(t,function(){a(this.name,this.value)});else for(n in t)S(n,t[n],i,a);return s.join("&").replace(Ci,"+")},he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){he.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),he.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Si,Ai,Ii=he.now(),Li=/\?/,Pi=/#.*$/,ji=/([?&])_=[^&]*/,Ni=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fi=/^(?:GET|HEAD)$/,Hi=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wi=he.fn.load,Ri={},qi={},$i="*/".concat("*");try{Ai=G.href}catch(Bi){Ai=K.createElement("a"),Ai.href="",Ai=Ai.href}Si=zi.exec(Ai.toLowerCase())||[],he.fn.load=function(t,i,n){if("string"!=typeof t&&Wi)return Wi.apply(this,arguments);var s,a,o,r=this,l=t.indexOf(" ");return l>=0&&(s=t.slice(l,t.length),t=t.slice(0,l)),he.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(o="POST"),r.length>0&&he.ajax({url:t,type:o,dataType:"html",data:i}).done(function(t){a=arguments,r.html(s?he("<div>").append(he.parseHTML(t)).find(s):t)}).complete(n&&function(t,e){r.each(n,a||[t.responseText,e,t])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){he.fn[e]=function(t){return this.on(e,t)}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ai,type:"GET",isLocal:Oi.test(Si[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$i,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,he.ajaxSettings),e):L(he.ajaxSettings,t)},ajaxPrefilter:A(Ri),ajaxTransport:A(qi),ajax:function(t,i){function n(t,i,n,s){var a,u,b,y,M,x=i;2!==_&&(_=2,l&&clearTimeout(l),h=e,r=s||"",w.readyState=t>0?4:0,a=t>=200&&300>t||304===t,n&&(y=P(d,w,n)),y=j(d,y,w,a),a?(d.ifModified&&(M=w.getResponseHeader("Last-Modified"),M&&(he.lastModified[o]=M),M=w.getResponseHeader("etag"),M&&(he.etag[o]=M)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=y.state,u=y.data,b=y.error,a=!b)):(b=x,(t||!x)&&(x="error",0>t&&(t=0))),w.status=t,w.statusText=(i||x)+"",a?m.resolveWith(p,[u,x,w]):m.rejectWith(p,[w,x,b]),w.statusCode(v),v=e,c&&f.trigger(a?"ajaxSuccess":"ajaxError",[w,d,a?u:b]),g.fireWith(p,[w,x]),c&&(f.trigger("ajaxComplete",[w,d]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var s,a,o,r,l,c,h,u,d=he.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?he(p):he.event,m=he.Deferred(),g=he.Callbacks("once memory"),v=d.statusCode||{},b={},y={},_=0,M="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!u)for(u={};e=Ni.exec(r);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=y[i]=y[i]||t,b[t]=e),this},overrideMimeType:function(t){return _||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||M;return h&&h.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||Ai)+"").replace(Pi,"").replace(Hi,Si[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=he.trim(d.dataType||"*").toLowerCase().match(de)||[""],null==d.crossDomain&&(s=zi.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===Si[1]&&s[2]===Si[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Si[3]||("http:"===Si[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=he.param(d.data,d.traditional)),I(Ri,d,i,w),2===_)return w;c=d.global,c&&0===he.active++&&he.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Fi.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Li.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ji.test(o)?o.replace(ji,"$1_="+Ii++):o+(Li.test(o)?"&":"?")+"_="+Ii++)),d.ifModified&&(he.lastModified[o]&&w.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&w.setRequestHeader("If-None-Match",he.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$i+"; q=0.01":""):d.accepts["*"]);for(a in d.headers)w.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===_))return w.abort();M="abort";for(a in{success:1,error:1,complete:1})w[a](d[a]);if(h=I(qi,d,i,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{_=1,h.send(b,n)}catch(x){if(!(2>_))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return he.get(t,e,i,"json")},getScript:function(t,i){return he.get(t,e,i,"script")}}),he.each(["get","post"],function(t,i){he[i]=function(t,n,s,a){return he.isFunction(n)&&(a=a||s,s=n,n=e),he.ajax({url:t,type:i,dataType:a,data:n,success:s})}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return he.globalEval(t),t}}}),he.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=K.head||he("head")[0]||K.documentElement;return{send:function(e,s){i=K.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Ui=[],Yi=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ui.pop()||he.expando+"_"+Ii++;return this[t]=!0,t}}),he.ajaxPrefilter("json jsonp",function(i,n,s){var a,o,r,l=i.jsonp!==!1&&(Yi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(a=i.jsonpCallback=he.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Yi,"$1"+a):i.jsonp!==!1&&(i.url+=(Li.test(i.url)?"&":"?")+i.jsonp+"="+a),i.converters["script json"]=function(){return r||he.error(a+" was not called"),r[0]},i.dataTypes[0]="json",o=t[a],t[a]=function(){r=arguments},s.always(function(){t[a]=o,i[a]&&(i.jsonpCallback=n.jsonpCallback,Ui.push(a)),r&&he.isFunction(o)&&o(r[0]),r=o=e}),"script"):void 0});var Qi,Gi,Ki=0,Xi=t.ActiveXObject&&function(){var t;for(t in Qi)Qi[t](e,!0)};he.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&N()||O()}:N,Gi=he.ajaxSettings.xhr(),he.support.cors=!!Gi&&"withCredentials"in Gi,Gi=he.support.ajax=!!Gi,Gi&&he.ajaxTransport(function(i){if(!i.crossDomain||he.support.cors){var n;return{send:function(s,a){var o,r,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(r in i.xhrFields)l[r]=i.xhrFields[r];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(r in s)l.setRequestHeader(r,s[r])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,s){var r,c,h,u;try{if(n&&(s||4===l.readyState))if(n=e,o&&(l.onreadystatechange=he.noop,Xi&&delete Qi[o]),s)4!==l.readyState&&l.abort();else{u={},r=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{h=l.statusText}catch(d){h=""}r||!i.isLocal||i.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(p){s||a(-1,p)}u&&a(r,h,u,c)},i.async?4===l.readyState?setTimeout(n):(o=++Ki,Xi&&(Qi||(Qi={},he(t).unload(Xi)),Qi[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Ji,Zi,tn=/^(?:toggle|show|hide)$/,en=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),nn=/queueHooks$/,sn=[R],an={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),s=en.exec(e),a=s&&s[3]||(he.cssNumber[t]?"":"px"),o=(he.cssNumber[t]||"px"!==a&&+n)&&en.exec(he.css(i.elem,t)),r=1,l=20;if(o&&o[3]!==a){a=a||o[3],s=s||[],o=+n||1;do r=r||".5",o/=r,he.style(i.elem,t,o+a);while(r!==(r=i.cur()/n)&&1!==r&&--l)}return s&&(i.unit=a,i.start=+o||+n||0,i.end=s[1]?o+(s[1]+1)*s[2]:+s[2]),i}]};he.Animation=he.extend(z,{tweener:function(t,e){he.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,s=t.length;s>n;n++)i=t[n],an[i]=an[i]||[],an[i].unshift(e)},prefilter:function(t,e){e?sn.unshift(t):sn.push(t)}}),he.Tween=q,q.prototype={constructor:q,init:function(t,e,i,n,s,a){this.elem=t,this.prop=i,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(he.cssNumber[i]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,i=q.propHooks[this.prop];return this.pos=e=this.options.duration?he.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=he.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){he.fx.step[t.prop]?he.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[he.cssProps[t.prop]]||he.cssHooks[t.prop])?he.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},he.each(["toggle","show","hide"],function(t,e){var i=he.fn[e];he.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate($(e,!0),t,n,s)}}),he.fn.extend({fadeTo:function(t,e,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=he.isEmptyObject(t),a=he.speed(e,i,n),o=function(){var e=z(this,he.extend({},t),a);o.finish=function(){e.stop(!0)},(s||he._data(this,"finish"))&&e.stop(!0)};return o.finish=o,s||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,i,n){var s=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",a=he.timers,o=he._data(this);if(i)o[i]&&o[i].stop&&s(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&s(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(n),e=!1,a.splice(i,1));(e||!n)&&he.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=he._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],a=he.timers,o=n?n.length:0;for(i.finish=!0,he.queue(this,t,[]),s&&s.cur&&s.cur.finish&&s.cur.finish.call(this),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),he.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){he.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),he.speed=function(t,e,i){var n=t&&"object"==typeof t?he.extend({},t):{complete:i||!i&&e||he.isFunction(t)&&t,duration:t,easing:i&&e||e&&!he.isFunction(e)&&e};return n.duration=he.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in he.fx.speeds?he.fx.speeds[n.duration]:he.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){he.isFunction(n.old)&&n.old.call(this),n.queue&&he.dequeue(this,n.queue)},n},he.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},he.timers=[],he.fx=q.prototype.init,he.fx.tick=function(){var t,i=he.timers,n=0;for(Ji=he.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||he.fx.stop(),Ji=e},he.fx.timer=function(t){t()&&he.timers.push(t)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){Zi||(Zi=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval(Zi),Zi=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length}),he.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){he.offset.setOffset(this,t,e)});var i,n,s={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return i=o.documentElement,he.contains(i,a)?(typeof a.getBoundingClientRect!==Q&&(s=a.getBoundingClientRect()),n=B(o),{top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):s},he.offset={setOffset:function(t,e,i){var n=he.css(t,"position");"static"===n&&(t.style.position="relative");var s,a,o=he(t),r=o.offset(),l=he.css(t,"top"),c=he.css(t,"left"),h=("absolute"===n||"fixed"===n)&&he.inArray("auto",[l,c])>-1,u={},d={};h?(d=o.position(),s=d.top,a=d.left):(s=parseFloat(l)||0,a=parseFloat(c)||0),he.isFunction(e)&&(e=e.call(t,i,r)),null!=e.top&&(u.top=e.top-r.top+s),null!=e.left&&(u.left=e.left-r.left+a),"using"in e?e.using.call(t,u):o.css(u)}},he.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===he.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),he.nodeName(t[0],"html")||(i=t.offset()),i.top+=he.css(t[0],"borderTopWidth",!0),i.left+=he.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-he.css(n,"marginTop",!0),left:e.left-i.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||X;t&&!he.nodeName(t,"html")&&"static"===he.css(t,"position");)t=t.offsetParent;return t||X})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);he.fn[t]=function(s){return he.access(this,function(t,s,a){var o=B(t);return a===e?o?i in o?o[i]:o.document.documentElement[s]:t[s]:void(o?o.scrollTo(n?he(o).scrollLeft():a,n?a:he(o).scrollTop()):t[s]=a)},t,s,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(t,i){he.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,s){he.fn[s]=function(s,a){var o=arguments.length&&(n||"boolean"!=typeof s),r=n||(s===!0||a===!0?"margin":"border");return he.access(this,function(i,n,s){var a;return he.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+t],a["scroll"+t],i.body["offset"+t],a["offset"+t],a["client"+t])):s===e?he.css(i,n,r):he.style(i,n,s,r)},i,o?s:e,o,null)}})}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=he:(t.jQuery=t.$=he,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he}))}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var s,a,o,r,l,c,h,u;if(i.fire(n,"ajax:before")){if(r=n.data("cross-domain"),l=r===e?null:r,c=n.data("with-credentials")||null,h=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),a=n.attr("action"),o=n.serializeArray();var d=n.data("ujs:submit-button");d&&(o.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(s=n.data("method"),a=i.href(n),o=n.data("params")||null);u={type:s||"GET",data:o,dataType:h,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),a&&(u.url=a);var p=i.ajax(u);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var s=i.href(n),a=n.data("method"),o=n.attr("target"),r=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+s+'"></form>'),h='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&r!==e&&(h+='<input name="'+l+'" value="'+r+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),s=!1;return n?(i.fire(t,"confirm")&&(s=i.confirm(n),e=i.fire(t,"confirm:complete",[s])),s&&e):!0
},blankInputs:function(e,i,n){var s,a,o=t(),r=i||"input,textarea",l=e.find(r);return l.each(function(){if(s=t(this),a=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!a==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;o=o.add(s)}}),o.length?o:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var s=t(this),a=s.data("method"),o=s.data("params");if(!i.allowAction(s))return i.stopEverything(n);if(s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||a&&"GET"!==a||o))return!0;var r=i.handleRemote(s);return r===!1?i.enableElement(s):r.error(function(){i.enableElement(s)}),!1}return s.data("method")?(i.handleMethod(s),!1):void 0}),t(document).delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var s=t(this),a=s.data("remote")!==e,o=i.blankInputs(s,i.requiredInputSelector),r=i.nonBlankInputs(s,i.fileInputSelector);if(!i.allowAction(s))return i.stopEverything(n);if(o&&s.attr("novalidate")==e&&i.fire(s,"ajax:aborted:required",[o]))return i.stopEverything(n);if(a){if(r){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),a=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),function(t,e){function i(e,i){var s,a,o,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,a=s.name,e.href&&a&&"map"===s.nodeName.toLowerCase()?(o=t("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,a=t(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?r["inner"+n].call(this):this.each(function(){t(this).css(o,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s,a=t.ui[e].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(a){}s(e)},t.widget=function(e,i,n){var s,a,o,r,l={},c=e.split(".")[0];e=e.split(".")[1],s=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},a=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=a,e}}()):void(l[e]=n)}),o.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:s}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(i){for(var s,a,o=n.call(arguments,1),r=0,l=o.length;l>r;r++)for(s in o[r])a=o[r][s],o[r].hasOwnProperty(s)&&a!==e&&(i[s]=t.isPlainObject(a)?t.isPlainObject(i[s])?t.widget.extend({},i[s],a):t.widget.extend({},a):a);return i},t.widget.bridge=function(i,s){var a=s.prototype.widgetFullName||i;t.fn[i]=function(o){var r="string"==typeof o,l=n.call(arguments,1),c=this;return o=!r&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,this.each(r?function(){var n,s=t.data(this,a);return s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(n=s[o].apply(s,l),n!==s&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}:function(){var e=t.data(this,a);e?e.option(o||{})._init():t.data(this,a,new s(o,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s,a,o,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(a=r[i]=t.widget.extend({},this.options[i]),o=0;o<s.length-1;o++)a[s[o]]=a[s[o]]||{},a=a[s[o]];if(i=s.pop(),n===e)return a[i]===e?null:a[i];a[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var s,a=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function r(){return e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,h=l[2];h?s.delegate(h,c,r):i.bind(c,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,a,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,a){"string"==typeof s&&(s={effect:s});var o,r=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=a,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,a):n.queue(function(i){t(this)[e](),a&&a.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,s,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,a=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var a=!1,o=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,s,a,o,r,l,c,h,u,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,c=p.snapElements[u].top,h=c+p.snapElements[u].height,r-m>v||g>l+m||c-m>y||b>h+m||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-y)<=m,s=Math.abs(h-b)<=m,a=Math.abs(r-v)<=m,o=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||s||a||o,"outer"!==f.snapMode&&(n=Math.abs(c-b)<=m,s=Math.abs(h-y)<=m,a=Math.abs(r-g)<=m,o=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||s||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||s||a||o||d)
}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s,a,o=(t.positionAbs||t.position.absolute).left,r=o+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,c=l+t.helperProportions.height,h=i.offset.left,u=h+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return o>=h&&u>=r&&l>=d&&p>=c;case"intersect":return h<o+t.helperProportions.width/2&&r-t.helperProportions.width/2<u&&d<l+t.helperProportions.height/2&&c-t.helperProportions.height/2<p;case"pointer":return s=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,d,i.proportions.height)&&e(s,h,i.proportions.width);case"touch":return(l>=d&&p>=l||c>=d&&p>=c||d>l&&c>p)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<a.length;n++)if(!(a[n].options.disabled||e&&!a[n].accept.call(a[n].element[0],e.currentItem||e.element))){for(s=0;s<r.length;s++)if(r[s]===a[n].element[0]){a[n].proportions.height=0;continue t}a[n].visible="none"!==a[n].element.css("display"),a[n].visible&&("mousedown"===o&&a[n]._activate.call(a[n],i),a[n].offset=a[n].element.offset(),a[n].proportions={width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(s=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===s}),a.length&&(n=t.data(a[0],"ui-droppable"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,s,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),a="ui-resizable-"+n,s=t("<div class='ui-resizable-handle "+a+"'></div>"),s.css({zIndex:r.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,a,o=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=e(this.helper.css("left")),s=e(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,s={},a=this.originalMousePosition,o=this.axis,r=this.position.top,l=this.position.left,c=this.size.width,h=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==h&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,s,a,o,r,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&t.ui.hasScroll(i[0],"left")?0:h.sizeDiff.height,a=n?0:h.sizeDiff.width,o={width:h.helper.width()-a,height:h.helper.height()-s},r=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(t.extend(o,{top:l,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,s,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),n<o.maxWidth&&(o.maxWidth=n),a<o.maxHeight&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,s=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,s=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&h&&(t.left=l-e.minWidth),s&&h&&(t.left=l-e.maxWidth),r&&u&&(t.top=c-e.minHeight),a&&u&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,s,a=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(s=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);s.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,a=s.length&&/textarea/i.test(s[0].nodeName),o=a&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,a,o,r,l,c=t(this).data("ui-resizable"),h=c.options,u=c.element,d=h.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(c.containerElement=t(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){n[t]=e(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,a=c.containerSize.height,o=c.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,l=t.ui.hasScroll(p)?p.scrollHeight:a,c.parentData={element:p,left:s.left,top:s.top,width:r,height:l}))},resize:function(e){var i,n,s,a,o=t(this).data("ui-resizable"),r=o.options,l=o.containerOffset,c=o.position,h=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),h&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),h&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),n=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-l.top)+o.sizeDiff.height),s=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),s&&a&&(i-=o.parentData.left),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,h&&(o.size.height=o.size.width/o.aspectRatio)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,h&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,s=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),l=o.outerWidth()-e.sizeDiff.width,c=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),s=n.options,a=n.originalSize,o=n.originalPosition,r={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),a={},o=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,s=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,c=r[1]||1,h=Math.round((n.width-s.width)/l)*l,u=Math.round((n.height-s.height)/c)*c,d=s.width+h,p=s.height+u,f=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,g&&(d+=l),v&&(p+=c),f&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-h):(e.size.width=d,e.size.height=p,e.position.top=a.top-u,e.position.left=a.left-h)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");return s?(n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>r||i.right<a||i.top>l||i.bottom<o):"fit"===s.tolerance&&(c=i.left>a&&i.right<r&&i.top>o&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,s=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,a.widgetName+"-item")===a?(n=t(this),!1):void 0}),t.data(e.target,a.widgetName+"-item")===a&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),s))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var s,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,a,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],a=this._intersectsWithPointer(n),a&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;
this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,l=r+t.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||n+c>r&&l>n+c,d="y"===this.options.axis||e+h>a&&o>e+h,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:a<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&r<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&n||"left"===a&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,a,o=[],r=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(s=t(l[i]),n=s.length-1;n>=0;n--)a=t.data(s[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&r.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){o.push(this)});return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,a,o,r,l,c,h=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=t(d[i]),n=s.length-1;n>=0;n--)a=t.data(s[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(i=u.length-1;i>=0;i--)for(o=u[i][1],r=u[i][0],n=0,c=r.length;c>n;n++)l=t(r[n]),l.data(this.widgetName+"-item",o),h.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,a;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),a=s.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var s,a,o,r,l,c,h,u,d,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!t.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&t.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(o=1e4,r=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)t.contains(this.containers[m].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[l],d=!1,Math.abs(u-h)>Math.abs(u+this.items[a][c]-h)&&(d=!0,u+=this.items[a][c]),Math.abs(u-h)<o&&(o=Math.abs(u-h),r=this.items[a],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;r?this._rearrange(n,r,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,a=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((a-this.originalPageX)/s.grid[0])*s.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=c(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,s){var a,o=s.re.exec(e),r=o&&s.parse(o),l=s.space||"rgba";return r?(a=i[l](r),i[h[l].cache]=a[h[l].cache],n=i._rgba=a._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),i):a[e]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(s,o,r,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(o),o=e);var u=this,d=t.type(s),p=this._rgba=[];return o!==e&&(s=[s,o,r,l],d="array"),"string"===d?this.parse(n(s)||a._default):"array"===d?(f(h.rgba.props,function(t,e){p[e.idx]=i(s[e.idx],e)}),this):"object"===d?(s instanceof c?f(h,function(t,e){s[e.cache]&&(u[e.cache]=s[e.cache].slice())}):f(h,function(e,n){var a=n.cache;f(n.props,function(t,e){if(!u[a]&&n.to){if("alpha"===t||null==s[t])return;u[a]=n.to(u._rgba)}u[a][e.idx]=i(s[t],e,!0)}),u[a]&&t.inArray(null,u[a].slice(0,3))<0&&(u[a][3]=1,n.from&&(u._rgba=n.from(u[a])))}),this):void 0},is:function(t){var e=c(t),i=!0,n=this;return f(h,function(t,s){var a,o=e[s.cache];return o&&(a=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(t,e){return null!=o[e.idx]?i=o[e.idx]===a[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),s=n._space(),a=h[s],o=0===this.alpha()?c("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return n=n[a.cache],f(a.props,function(t,s){var a=s.idx,o=r[a],c=n[a],h=u[s.type]||{};null!==c&&(null===o?l[a]=c:(h.mod&&(c-o>h.mod/2?o+=h.mod:o-c>h.mod/2&&(o-=h.mod)),l[a]=i((c-o)*e+o,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(n,s,a),l=Math.min(n,s,a),c=r-l,h=r+l,u=.5*h;return e=l===r?0:n===r?60*(s-a)/c+360:s===r?60*(a-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=u?c/h:c/(2-h),[Math.round(e)%360,i,u,null==o?1:o]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],a=t[3],o=.5>=n?n*(1+i):n+i-n*i,r=2*n-o;return[Math.round(255*s(r,o,e+1/3)),Math.round(255*s(r,o,e)),Math.round(255*s(r,o,e-1/3)),a]},f(h,function(n,s){var a=s.props,o=s.cache,l=s.to,h=s.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===e)return this[o].slice();var s,r=t.type(n),u="array"===r||"object"===r?n:arguments,d=this[o].slice();return f(a,function(t,e){var n=u["object"===r?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),h?(s=c(h(d)),s[o]=d,s):c(d)},f(a,function(e,i){c.fn[e]||(c.fn[e]=function(s){var a,o=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),h=c[i.idx];return"undefined"===o?h:("function"===o&&(s=s.call(this,h),o=t.type(s)),null==s&&i.empty?this:("string"===o&&(a=r.exec(s),a&&(s=h+parseFloat(a[2])*("+"===a[1]?1:-1))),c[i.idx]=s,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var a,o,r="";if("transparent"!==s&&("string"!==t.type(s)||(a=n(s)))){if(s=c(a||s),!d.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}s=s.blend(r&&"transparent"!==r?r:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(a[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(a[i]=s[i]);return a}function n(e,i){var n,s,o={};for(n in i)s=i[n],e[n]!==s&&(a[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(o[n]=s));return o}var s=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(s,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",r),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,a){return n?t.effects.animateClass.call(this,{add:i},n,s,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,s,a,o,r){return"boolean"==typeof s||s===e?a?t.effects.animateClass.call(this,s?{add:n}:{remove:n},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},s,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,a){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,a)}})}(),function(){function n(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function s(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var s,a;for(a=0;a<n.length;a++)null!==n[a]&&(s=t.data(i+n[a]),s===e&&(s=""),t.css(n[a],s))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(n),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(s[i]=a[0]*n+a[1])}),s}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(a)&&a.call(s[0]),t.isFunction(e)&&e()}var s=t(this),a=i.complete,r=i.mode;(s.is(":hidden")?"hide"===r:"show"===r)?(s[r](),n()):o.call(s[0],i,n)}var i=n.apply(this,arguments),s=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(s(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")
}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:a=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[n-1]}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,s=n.heightStyle,a=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),s=i.next(),a=s.attr("id");n||(n=o+"-header-"+e,i.attr("id",n)),a||(a=o+"-panel-"+e,s.attr("id",a)),i.attr("aria-controls",a),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(i=a.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),a=s[0]===n[0],o=a&&i.collapsible,r=o?t():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:o?t():s,newPanel:r};e.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=o?!1:this.headers.index(s),this.active=a?t():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,s){var a,o,r,l=this,c=0,h=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=h&&u.down||u,p=function(){l._toggleComplete(s)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(a=t.show().outerHeight(),e.animate(i,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:r,easing:o,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(a-e.outerHeight()-c),c=0)}})):e.animate(i,r,o,p):t.animate(n,r,o,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),a="textarea"===s,o="input"===s;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var a=t.ui.keyCode;switch(s.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",s);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case a.UP:e=!0,this._keyEvent("previous",s);break;case a.DOWN:e=!0,this._keyEvent("next",s);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case a.TAB:this.menu.active&&this.menu.select(s);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,n,s,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},c=function(e){var i=e.name,n=e.form,s=t([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,r=this.options,h="checkbox"===this.type||"radio"===this.type,u=h?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(d)}),h&&(this.element.bind("change"+this.eventNamespace,function(){s||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||s?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||s)return!1;t(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var e=o.element[0];c(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void o.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+o+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(a.inline?e.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function s(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var a,o="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,a;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),s),a.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,a):s&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,o,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:s,title:s}):s)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,a=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},a.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,o,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,a,r){var l,c,h,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],o,p)),s(p.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,o);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,o),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,s=t(e),a=t.data(e,o);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),a=t.data(e,o);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,o)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,a){var o,r,l,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):h?"all"===n?t.extend({},h.settings):this._get(h,n):null:(o=n||{},"string"==typeof n&&(o={},o[n]=a),void(h&&(this._curInst===h&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,o),null!==l&&o.dateFormat!==e&&o.minDate===e&&(h.settings.minDate=this._formatDate(h,l)),null!==c&&o.dateFormat!==e&&o.maxDate===e&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),h),this._autoSize(h),this._setDate(h,r),this._updateAlternate(h),this._updateDatepicker(h))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,a=t.datepicker._getInst(e.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),s[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,s[0]),i=t.datepicker._get(a,"onSelect"),i?(n=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[n,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);return t.datepicker._get(s,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))
}catch(s){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,a,o,r,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),a=n?n.apply(e,[e,i]):{},a!==!1&&(s(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),s=n[1],o=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",o*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+a>c&&c>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,a,r=this._curInst;!r||e&&r!==t.data(e,o)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),s=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),n,s):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,a=this._get(r,"onClose"),a&&a.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),a=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(a,i+("M"===n?this._get(a,"showCurrentAtPos"):0),n),this._updateDatepicker(a))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),a=this._getInst(s[0]);a["selected"+("M"===n?"Month":"Year")]=a["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(s)},_selectDay:function(e,i,n,s){var a,o=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=t("a",s).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=n,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),a=this._getInst(s[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),n=this._get(a,"onSelect"),n?n.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(a).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var s,a,o,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,_=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},M=function(t){var e=_(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=new RegExp("^\\d{1,"+n+"}"),a=i.substring(l).match(s);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(e,n,s){var a=-1,o=t.map(_(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(a=e[0],l+=n.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(y)"'"!==e.charAt(s)||_("'")?x():y=!1;else switch(e.charAt(s)){case"d":v=M("d");break;case"D":w("D",u,d);break;case"o":b=M("o");break;case"m":g=M("m");break;case"M":g=w("M",p,f);break;case"y":m=M("y");break;case"@":r=new Date(M("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((M("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?x():y=!0;break;default:x()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=m?0:-100)),b>-1)for(g=1,v=b;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=h("D",e.getDay(),s,a);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=h("M",e.getMonth(),o,r);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),a=s,o=this._getFormatConfig(t);try{a=this.parseDate(i,n,o)||s}catch(r){n=e?"":n}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=n?a.getDate():0,t.currentMonth=n?a.getMonth():0,t.currentYear=n?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=s.getFullYear(),o=s.getMonth(),r=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o))}c=l.exec(i)}return new Date(a,o,r)},o=null==i||""===i?n:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),s===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,a,o,r,l,c,h,u,d,p,f,m,g,v,b,y,_,M,w,x,k,C,T,D,E,V,S,A,I,L,P,j,N,O,F,H,z=new Date,W=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),R=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),B=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),G=1!==U[0]||1!==U[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Y,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-Q,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=B?this.formatDate(s,this._daylightSavingAdjust(new Date(te,Z+Q,1)),this._getFormatConfig(t)):s,a=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+s+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+s+"</span></a>",o=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?K:W,o=B?this.formatDate(o,r,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(R?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(R?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),_="",w=0;w<U[0];w++){for(x="",this.maxRows=4,k=0;k<U[1];k++){if(C=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),T=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",U[1]>1)switch(k){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(R?"right":"left");break;case U[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(R?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?R?a:n:"")+(/all|right/.test(T)&&0===w?R?n:a:"")+this._generateMonthYearHeader(t,Z,te,X,J,w>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",M=0;7>M;M++)V=(M+h)%7,E+="<th"+((M+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[V]+"'>"+p[V]+"</span></th>";for(D+=E+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),A=(this._getFirstDayOfMonth(te,Z)-h+7)%7,I=Math.ceil((A+S)/7),L=G&&this.maxRows>I?this.maxRows:I,this.maxRows=L,P=this._daylightSavingAdjust(new Date(te,Z,1-A)),j=0;L>j;j++){for(D+="<tr>",N=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",M=0;7>M;M++)O=g?g.apply(t.input?t.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,H=F&&!b||!O[0]||X&&X>P||J&&P>J,N+="<td class='"+((M+h+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===P.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===W.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);D+=N+"</tr>"}Z++,Z>11&&(Z=0,te++),D+="</tbody></table>"+(G?"</div>"+(U[0]>0&&k===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=D}_+=x}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,i,n,s,a,o,r){var l,c,h,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=n.getMonth())&&(!c||h<=s.getMonth())&&(_+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+r[h]+"</option>");_+="</select>"}if(b||(y+=_+(!a&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!a&&g&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||e.getTime()>=s.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(s.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var s,a;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(e.element[0],arguments)},a={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(a).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,a){n.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(a))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,a=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,s){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,a){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(a))}}).css("position",a)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var s=this,a=!1,o={};t.each(n,function(t,n){s._setOption(t,n),t in e&&(a=!0),t in i&&(o[t]=n)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,n,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=s.is(":data(ui-draggable)"),i&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!e&&s.resizable("destroy"),n&&"string"==typeof e&&s.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]
})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),i={my:n[0]+(s[0]<0?s[0]:"+"+s[0])+" "+n[1]+(s[1]<0?s[1]:"+"+s[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,s){var a,o,r,l=t(this),c=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(l,n.mode||"hide"),u=n.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",m=i.test(u),g={},v="show"===h;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),a=t.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,g[p]=v?o:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:o+r),v&&(a.css(p,0),m||a.css(f,r+o)),a.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),s()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,s,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),c="hide"===l,h="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(h||c?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=o.queue(),_=y.length;for((h||c)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),h&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,b?2*-d:2*d).animate(a,m,g)),c&&(d/=Math.pow(2,p-1)),a={},a[v]=0,n=0;p>n;n++)s={},s[v]=(b?"-=":"+=")+d,o.animate(s,m,g).animate(a,m,g),d=c?2*d:d/2;c&&(s={opacity:0},s[v]=(b?"-=":"+=")+d,o.animate(s,m,g)),o.queue(function(){c&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),_>1&&y.splice.apply(y,[1,0].concat(y.splice(_,f+1))),o.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,s,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),c="show"===l,h=e.direction||"vertical",u="vertical"===h,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(o,r),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s="IMG"===o[0].tagName?n:o,a=s[d](),c&&(s.css(d,0),s.css(p,a/2)),f[d]=c?a:0,f[p]=c?0:a/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,s=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(s,e.mode||"hide"),r="show"===o,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(s,a),s.show(),t.effects.createWrapper(s),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&s.css("opacity",0).css(c,"pos"===h?-n:n),u[c]=(r?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){y.push(this),y.length===u*d&&s()}function s(){p.css({visibility:"visible"}),t(y).remove(),m||p.hide(),i()}var a,o,r,l,c,h,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/u),y=[];for(a=0;u>a;a++)for(l=g.top+a*b,h=a-(u-1)/2,o=0;d>o;o++)r=g.left+o*v,c=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:r+(m?c*v:0),top:l+(m?h*b:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:h*b),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,s,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),l="show"===r,c="hide"===r,h=e.size||15,u=/([0-9]+)%/.exec(h),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(a,o),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(h=parseInt(u[1],10)/100*s[c?0:1]),l&&n.css(d?{height:0,width:h}:{height:h,width:0}),g[f[0]]=l?s[0]:h,v[f[1]]=l?s[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(n,e.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===a&&(o.opacity=0),t.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,s),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,s=t(this),a=t.effects.setMode(s,e.mode||"show"),o="show"===a,r="hide"===a,l=o||"hide"===a,c=2*(e.times||5)+(l?1:0),h=e.duration/c,u=0,d=s.queue(),p=d.length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),u=1),n=1;c>n;n++)s.animate({opacity:u},h,e.easing),u=1-u;s.animate({opacity:u},h,e.easing),s.queue(function(){r&&s.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),a="hide"===s,o=parseInt(e.percent,10)||150,r=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:a?o:100,from:a?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(!0,{},e),a=t.effects.setMode(n,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==a&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*h.y,width:c.width*h.x,outerHeight:c.outerHeight*h.y,outerWidth:c.outerWidth*h.x},s.fade&&("show"===a&&(s.from.opacity=0,s.to.opacity=1),"hide"===a&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},t.effects.effect.size=function(e,i){var n,s,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=o.css("position"),b=f?r:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||y,o.to=e.from||n):(o.from=e.from||("show"===p?y:n),o.to=e.to||("hide"===p?y:n)),a={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(b=b.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(b=b.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(b=b.concat(h).concat(c),o.from=t.effects.setTransition(o,h,a.from.y,o.from),o.to=t.effects.setTransition(o,h,a.to.y,o.to)),t.effects.save(o,b),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(s=t.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*s.y,o.from.left=(n.outerWidth-o.outerWidth())*s.x,o.to.top=(n.outerHeight-o.to.outerHeight)*s.y,o.to.left=(n.outerWidth-o.to.outerWidth)*s.x),o.css(o.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),c=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,c),i.from={height:n.height*a.from.y,width:n.width*a.from.x,outerHeight:n.outerHeight*a.from.y,outerWidth:n.outerWidth*a.from.x},i.to={height:n.height*a.to.y,width:n.width*a.to.x,outerHeight:n.height*a.to.y,outerWidth:n.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,c)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,b),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var n=parseInt(i,10),s=t?o.to.left:o.to.top;return"auto"===i?s+"px":n+s+"px"})})),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,s=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(s,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,c=e.times||3,h=2*c+1,u=Math.round(e.duration/h),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=s.queue(),b=v.length;for(t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,u,e.easing),n=1;c>n;n++)s.animate(m,u,e.easing).animate(g,u,e.easing);s.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,h+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,s=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(s,e.mode||"show"),r="show"===o,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};t.effects.save(s,a),s.show(),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),r&&s.css(c,h?isNaN(n)?"-"+n:-n:n),u[c]=(r?h?"+=":"-=":h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),a="fixed"===s.css("position"),o=t("body"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=s.offset(),h={top:c.top-r,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,s=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===s?o=!0:a=s+a,r=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(a=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),s=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>s?this.activeMenu.scrollTop(a+s):s+r>o&&this.activeMenu.scrollTop(a+s-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),i=o.offsetWidth,s.css("overflow","scroll"),n=o.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),a=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,m,g,v,b,y=t(e.of),_=t.position.getWithinInfo(e.within),M=t.position.getScrollInfo(_),w=(e.collision||"flip").split(" "),x={};return b=s(y),y[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),a=i(x.at,p,m),v.left+=a[0],v.top+=a[1],this.each(function(){var s,c,h=t(this),u=h.outerWidth(),d=h.outerHeight(),f=n(this,"marginLeft"),b=n(this,"marginTop"),k=u+f+n(this,"marginRight")+M.width,C=d+b+n(this,"marginBottom")+M.height,T=t.extend({},v),D=i(x.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?T.left-=u:"center"===e.my[0]&&(T.left-=u/2),"bottom"===e.my[1]?T.top-=d:"center"===e.my[1]&&(T.top-=d/2),T.left+=D[0],T.top+=D[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),s={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:k,collisionHeight:C,offset:[a[0]+D[0],a[1]+D[1]],my:e.my,at:e.at,within:_,elem:h})}),e.using&&(c=function(t){var i=g.left-T.left,n=i+p-u,s=g.top-T.top,a=s+m-d,l={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:h,left:T.left,top:T.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};u>p&&r(i+n)<p&&(l.horizontal="center"),d>m&&r(s+a)<m&&(l.vertical="middle"),l.important=o(r(i),r(n))>o(r(s),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),h.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,c=r+e.collisionWidth-a-s;e.collisionWidth>a?l>0&&0>=c?(i=t.left+l+e.collisionWidth-a-s,t.left+=l-i):t.left=c>0&&0>=l?s:l>c?s+a-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,c=r+e.collisionHeight-a-s;e.collisionHeight>a?l>0&&0>=c?(i=t.top+l+e.collisionHeight-a-s,t.top+=l-i):t.top=c>0&&0>=l?s:l>c?s+a-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,a=s.offset.left+s.scrollLeft,o=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,u=c+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||i<r(h))&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||r(n)<u)&&(t.left+=d+p+f))},top:function(t,e){var i,n,s=e.within,a=s.offset.top+s.scrollTop,o=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,u=c+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>h?(n=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>h&&(0>n||n<r(h))&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>u&&(i>0||r(i)<u)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)e.style[a]=n[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",s=t(r).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)o.push(a);this.handles=s.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)
},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,a,o,r,l,c,h=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(s>i||s===i&&(e===h._lastChangedValue||h.values(e)===u.min))&&(s=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),a=this._valueMin()+n*s,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,a,o=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](h,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),s=this._valueMin(),a=this._valueMax(),i=a!==s?(n-s)/(a-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var n,s,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,r),n===!1))return}switch(o=this.options.step,s=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;a=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;a=this._trimAlignValue(s-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);void 0!==s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++s}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var s=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){return t(s).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>s&&(e=0),0>e&&(e=s),e}for(var s=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var a,o,r,l=t(s).uniqueId().attr("id"),c=t(s).closest("li"),h=c.attr("aria-controls");n(s)?(a=s.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(c),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),h&&c.data("ui-tabs-aria-controls",h),c.attr({"aria-controls":a.substring(1),"aria-labelledby":l}),o.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),a=s.closest("li"),o=a[0]===n[0],r=o&&i.collapsible,l=r?t():this._getPanelForTab(a),c=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:c,newTab:r?t():a,newPanel:l};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),e),this._toggle(e,h))},_toggle:function(e,i){function n(){a.running=!1,a._trigger("activate",e,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,n):(o.show(),n())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var s=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),l={tab:a,panel:r};n(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),s._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&s.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,a){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,a=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&s._delay(function(){e&&(e.type=a),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,s){function a(t){c.of=t,o.is(":hidden")||o.position(c)}var o,r,l,c=t.extend({},this.options.position);if(s){if(o=this._find(n),o.length)return void o.find(".ui-tooltip-content").html(s);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),e(n,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:a}),a(i)):o.position(t.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:o}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(o)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,n,r)}},close:function(e){var n=this,s=t(e?e.currentTarget:this.element),a=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),a.stop(!0),this._hide(a,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:a}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,s=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=e,s},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function n(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var a=new this;t=!1;for(var o in i)a[o]="function"==typeof i[o]&&"function"==typeof s[o]&&e.test(i[o])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(o,i[o]):i[o];return n.prototype=a,n.prototype.constructor=n,n.extend=arguments.callee,n}}();var global=function(){return this||(1,eval)("this")}();if("undefined"==typeof VMM){var VMM=Class.extend({});VMM.debug=!0,VMM.master_config={init:function(){return this},sizes:{api:{width:0,height:0}},vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",api_keys_master:{flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"uQKadH1VMlCsp560gN2aOiMz4evWkl1s34yryl3F/9FJOsn+/948CbBUvKLN46U=",twitter:""},timers:{api:7e3},api:{pushques:[]},twitter:{active:!1,array:[],api_loaded:!1,que:[]},flickr:{active:!1,array:[],api_loaded:!1,que:[]},youtube:{active:!1,array:[],api_loaded:!1,que:[]},vimeo:{active:!1,array:[],api_loaded:!1,que:[]},vine:{active:!1,array:[],api_loaded:!1,que:[]},webthumb:{active:!1,array:[],api_loaded:!1,que:[]},googlemaps:{active:!1,map_active:!1,places_active:!1,array:[],api_loaded:!1,que:[]},googledocs:{active:!1,array:[],api_loaded:!1,que:[]},googleplus:{active:!1,array:[],api_loaded:!1,que:[]},wikipedia:{active:!1,array:[],api_loaded:!1,que:[],tries:0},soundcloud:{active:!1,array:[],api_loaded:!1,que:[]}}.init(),VMM.createElement=function(t,e,i,n,s){var a="";return null!=t&&""!=t&&(a+="<"+t,null!=i&&""!=i&&(a+=" class='"+i+"'"),null!=n&&""!=n&&(a+=" "+n),null!=s&&""!=s&&(a+=" style='"+s+"'"),a+=">",null!=e&&""!=e&&(a+=e),a=a+"</"+t+">"),a
},VMM.createMediaElement=function(t,e,i){var n="";return n+="<div class='media'>",null!=t&&""!=t&&(valid=!0,n+="<img src='"+t+"'>",null!=i&&""!=i&&(n+=VMM.createElement("div",i,"credit")),null!=e&&""!=e&&(n+=VMM.createElement("div",e,"caption"))),n+="</div>"},VMM.hideUrlBar=function(){var t=window,e=t.document;if(!location.hash||!t.addEventListener){window.scrollTo(0,1);var i=1,n=setInterval(function(){e.body&&(clearInterval(n),i="scrollTop"in e.body?e.body.scrollTop:1,t.scrollTo(0,1===i?0:1))},15);t.addEventListener("load",function(){setTimeout(function(){t.scrollTo(0,1===i?0:1)},0)},!1)}}}Array.prototype.remove=function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,i)},Date.prototype.getWeek=function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil(((this-t)/864e5+t.getDay()+1)/7)},Date.prototype.getDayOfYear=function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil((this-t)/864e5)};var is={Null:function(t){return null===t},Undefined:function(t){return void 0===t},nt:function(t){return null===t||void 0===t},Function:function(t){return"function"==typeof t?null!==t.constructor.toString().match(/Function/):!1},String:function(t){return"string"==typeof t?!0:"object"==typeof t?null!==t.constructor.toString().match(/string/i):!1},Array:function(t){return"object"==typeof t?null!==t.constructor.toString().match(/array/i)||void 0!==t.length:!1},Boolean:function(t){return"boolean"==typeof t?!0:"object"==typeof t?null!==t.constructor.toString().match(/boolean/i):!1},Date:function(t){return"date"==typeof t?!0:"object"==typeof t?null!==t.constructor.toString().match(/date/i):!1},HTML:function(t){return"object"==typeof t?null!==t.constructor.toString().match(/html/i):!1},Number:function(t){return"number"==typeof t?!0:"object"==typeof t?null!==t.constructor.toString().match(/Number/):!1},Object:function(t){return"object"==typeof t?null!==t.constructor.toString().match(/object/i):!1},RegExp:function(t){return"function"==typeof t?null!==t.constructor.toString().match(/regexp/i):!1}},type={of:function(t){for(var e in is)if(is[e](t))return e.toLowerCase()}};if("undefined"!=typeof VMM&&(VMM.modal=function(t,e){"undefined"!=typeof jQuery&&jQuery(t).fancybox(e)},VMM.smoothScrollTo=function(t,e,i){if("undefined"!=typeof jQuery){var n="easein",s=1e3;null!=e&&(s=1>e?1:Math.round(e)),null!=i&&""!=i&&(n=i),jQuery(window).scrollTop()!=VMM.Lib.offset(t).top&&VMM.Lib.animate("html,body",s,n,{scrollTop:VMM.Lib.offset(t).top})}},VMM.attachElement=function(t,e){"undefined"!=typeof jQuery&&jQuery(t).html(e)},VMM.appendElement=function(t,e){"undefined"!=typeof jQuery&&jQuery(t).append(e)},VMM.getHTML=function(t){var e;return"undefined"!=typeof jQuery?e=jQuery(t).html():void 0},VMM.getElement=function(t,e){var i;return"undefined"!=typeof jQuery?i=e?jQuery(t).parent().get(0):jQuery(t).get(0):void 0},VMM.bindEvent=function(t,e,i,n){var s="click",a={};null!=i&&""!=i&&(s=i),null!=a&&""!=a&&(a=n),"undefined"!=typeof jQuery&&jQuery(t).bind(s,a,e)},VMM.unbindEvent=function(t,e,i){var n="click";null!=i&&""!=i&&(n=i),"undefined"!=typeof jQuery&&jQuery(t).unbind(n,e)},VMM.fireEvent=function(t,e,i){var n="click",s=[];null!=e&&""!=e&&(n=e),null!=i&&""!=i&&(s=i),"undefined"!=typeof jQuery&&jQuery(t).trigger(n,s)},VMM.getJSON=function(t,e,i){if("undefined"!=typeof jQuery){if(jQuery.ajaxSetup({timeout:VMM.Timeline.Config.ajax_timeout}),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){trace("IE JSON");var n=t;return n.match("^http://")?jQuery.getJSON(n,e,i):n.match("^https://")?(n=n.replace("https://","http://"),jQuery.getJSON(n,e,i)):jQuery.getJSON(t,e,i)}return jQuery.getJSON(t,e,i)}},VMM.parseJSON=function(t){return"undefined"!=typeof jQuery?jQuery.parseJSON(t):void 0},VMM.appendAndGetElement=function(t,e,i,n){var s,a="<div>",o="",r="";return null!=e&&""!=e&&(a=e),null!=i&&""!=i&&(o=i),null!=n&&""!=n&&(r=n),"undefined"!=typeof jQuery&&(s=jQuery(e),s.addClass(o),s.html(r),jQuery(t).append(s)),s},VMM.Lib={init:function(){return this},hide:function(t,e){null!=e&&""!=e?"undefined"!=typeof jQuery&&jQuery(t).hide(e):"undefined"!=typeof jQuery&&jQuery(t).hide()},remove:function(t){"undefined"!=typeof jQuery&&jQuery(t).remove()},detach:function(t){"undefined"!=typeof jQuery&&jQuery(t).detach()},append:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).append(e)},prepend:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).prepend(e)},show:function(t,e){null!=e&&""!=e?"undefined"!=typeof jQuery&&jQuery(t).show(e):"undefined"!=typeof jQuery&&jQuery(t).show()},load:function(t,e,i){var n={elem:t};null!=n&&""!=n&&(n=i),"undefined"!=typeof jQuery&&jQuery(t).load(n,e)},addClass:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).addClass(e)},removeClass:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).removeClass(e)},attr:function(t,e,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(t).attr(e,i);else if("undefined"!=typeof jQuery)return jQuery(t).attr(e)},prop:function(t,e,i){"undefined"!=typeof jQuery&&/[1-9]\.[3-9].[1-9]/.test(jQuery.fn.jquery)?jQuery(t).prop(e,i):VMM.Lib.attribute(t,e,i)},attribute:function(t,e,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(t).attr(e,i);else if("undefined"!=typeof jQuery)return jQuery(t).attr(e)},visible:function(t,e){if(null!=e)"undefined"!=typeof jQuery&&(e?jQuery(t).show(0):jQuery(t).hide(0));else if("undefined"!=typeof jQuery)return jQuery(t).is(":visible")?!0:!1},css:function(t,e,i){if(null!=i&&""!=i)"undefined"!=typeof jQuery&&jQuery(t).css(e,i);else if("undefined"!=typeof jQuery)return jQuery(t).css(e)},cssmultiple:function(t,e){return"undefined"!=typeof jQuery?jQuery(t).css(e):void 0},offset:function(t){var e;return"undefined"!=typeof jQuery&&(e=jQuery(t).offset()),e},position:function(t){var e;return"undefined"!=typeof jQuery&&(e=jQuery(t).position()),e},width:function(t,e){if(null!=e&&""!=e)"undefined"!=typeof jQuery&&jQuery(t).width(e);else if("undefined"!=typeof jQuery)return jQuery(t).width()},height:function(t,e){if(null!=e&&""!=e)"undefined"!=typeof jQuery&&jQuery(t).height(e);else if("undefined"!=typeof jQuery)return jQuery(t).height()},toggleClass:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).toggleClass(e)},each:function(t,e){"undefined"!=typeof jQuery&&jQuery(t).each(e)},html:function(t,e){var i;if("undefined"!=typeof jQuery)return i=jQuery(t).html();if(null!=e&&""!=e)"undefined"!=typeof jQuery&&jQuery(t).html(e);else{var i;if("undefined"!=typeof jQuery)return i=jQuery(t).html()}},find:function(t,e){return"undefined"!=typeof jQuery?jQuery(t).find(e):void 0},stop:function(t){"undefined"!=typeof jQuery&&jQuery(t).stop()},delay_animate:function(t,e,i,n,s){if("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var a=Math.round(i/1500*10)/10,o=a+"s";VMM.Lib.css(e,"-webkit-transition","all "+o+" ease"),VMM.Lib.css(e,"-moz-transition","all "+o+" ease"),VMM.Lib.css(e,"-o-transition","all "+o+" ease"),VMM.Lib.css(e,"-ms-transition","all "+o+" ease"),VMM.Lib.css(e,"transition","all "+o+" ease"),VMM.Lib.cssmultiple(e,_att)}else"undefined"!=typeof jQuery&&jQuery(e).delay(t).animate(s,{duration:i,easing:n})},animate:function(t,e,i,n,s,a){var o="easein",r=!1,l=1e3,c={};if(null!=e&&(l=1>e?1:Math.round(e)),null!=i&&""!=i&&(o=i),null!=s&&""!=s&&(r=s),c=null!=n?n:{opacity:0},"mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device){var h=Math.round(l/1500*10)/10,u=h+"s";o=" cubic-bezier(0.33, 0.66, 0.66, 1)";for(x in c)Object.prototype.hasOwnProperty.call(c,x)&&(trace(x+" to "+c[x]),VMM.Lib.css(t,"-webkit-transition",x+" "+u+o),VMM.Lib.css(t,"-moz-transition",x+" "+u+o),VMM.Lib.css(t,"-o-transition",x+" "+u+o),VMM.Lib.css(t,"-ms-transition",x+" "+u+o),VMM.Lib.css(t,"transition",x+" "+u+o));VMM.Lib.cssmultiple(t,c)}else"undefined"!=typeof jQuery&&(null!=a&&""!=a?jQuery(t).animate(c,{queue:r,duration:l,easing:o,complete:a}):jQuery(t).animate(c,{queue:r,duration:l,easing:o}))}}),"undefined"!=typeof jQuery&&(!function(t){window.XDomainRequest&&t.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var i;return{send:function(n,s){function a(e,n,a,o){i.onload=i.onerror=i.ontimeout=t.noop,i=void 0,s(e,n,a,o)}i=new XDomainRequest,i.open(e.type,e.url),i.onload=function(){a(200,"OK",{text:i.responseText},"Content-Type: "+i.contentType)},i.onerror=function(){a(404,"Not Found")},e.xdrTimeout&&(i.ontimeout=function(){a(0,"timeout")},i.timeout=e.xdrTimeout),i.send(e.hasContent&&e.data||null)},abort:function(){i&&(i.onerror=t.noop(),i.abort())}}}})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,s){return jQuery.easing[jQuery.easing.def](t,e,i,n,s)},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:(e/=s/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i}})),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Browser&&(VMM.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS",this.device=this.searchDevice(navigator.userAgent),this.orientation=this.searchOrientation(window.orientation)},searchOrientation:function(t){var e="";return e=0==t||180==t?"portrait":90==t||-90==t?"landscape":"normal"},searchDevice:function(t){var e="";return e=t.match(/Android/i)||t.match(/iPhone|iPod/i)?"mobile":t.match(/iPad/i)?"tablet":t.match(/BlackBerry/i)||t.match(/IEMobile/i)?"other mobile":"desktop"},searchString:function(t){for(var e=0;e<t.length;e++){var i=t[e].string,n=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,i){if(-1!=i.indexOf(t[e].subString))return t[e].identity}else if(n)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},VMM.Browser.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.FileExtention&&(VMM.FileExtention={googleDocType:function(t){var e=t.replace(/\s\s*$/,""),i="",n=["DOC","DOCX","XLS","XLSX","PPT","PPTX","PDF","PAGES","AI","PSD","TIFF","DXF","SVG","EPS","PS","TTF","XPS","ZIP","RAR"],s=!1;i=e.substr(e.length-5,5);for(var a=0;a<n.length;a++)(i.toLowerCase().match(n[a].toString().toLowerCase())||e.match("docs.google.com"))&&(s=!0);return s}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Date){VMM.Date={init:function(){return this},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>mmm d',' yyyy'</small>'"},month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],bc_format:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"dddd', 'h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"dddd',' mmm d',' yyyy 'at' hh:MM TT",full_long_small_date:"hh:MM TT'<br/><small>'dddd',' mmm d',' yyyy'</small>'"},setLanguage:function(t){trace("SET DATE LANGUAGE"),VMM.Date.dateformats=t.dateformats,VMM.Date.month=t.date.month,VMM.Date.month_abbr=t.date.month_abbr,VMM.Date.day=t.date.day,VMM.Date.day_abbr=t.date.day_abbr,dateFormat.i18n.dayNames=t.date.day_abbr.concat(t.date.day),dateFormat.i18n.monthNames=t.date.month_abbr.concat(t.date.month)},parse:function(t,e){"use strict";var i,n,s,a,o={year:!1,month:!1,day:!1,hour:!1,minute:!1,second:!1,millisecond:!1};if("date"==type.of(t))trace("DEBUG THIS, ITs A DATE"),i=t;else if(i=new Date(0,0,1,0,0,0,0),t.match(/,/gi)){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=parseInt(n[r],10);n[0]&&(i.setFullYear(n[0]),o.year=!0),n[1]&&(i.setMonth(n[1]-1),o.month=!0),n[2]&&(i.setDate(n[2]),o.day=!0),n[3]&&(i.setHours(n[3]),o.hour=!0),n[4]&&(i.setMinutes(n[4]),o.minute=!0),n[5]&&(i.setSeconds(n[5]),n[5]>=1&&(o.second=!0)),n[6]&&(i.setMilliseconds(n[6]),n[6]>=1&&(o.millisecond=!0))}else if(t.match("/"))t.match(" ")?(a=t.split(" "),t.match(":")&&(s=a[1].split(":"),s[0]>=0&&(i.setHours(s[0]),o.hour=!0),s[1]>=0&&(i.setMinutes(s[1]),o.minute=!0),s[2]>=0&&(i.setSeconds(s[2]),o.second=!0),s[3]>=0&&(i.setMilliseconds(s[3]),o.millisecond=!0)),n=a[0].split("/")):n=t.split("/"),n[2]&&(i.setFullYear(n[2]),o.year=!0),n[0]>=0&&(i.setMonth(n[0]-1),o.month=!0),n[1]>=0&&(n[1].length>2?(i.setFullYear(n[1]),o.year=!0):(i.setDate(n[1]),o.day=!0));else if(t.match("now")){var l=new Date;i.setFullYear(l.getFullYear()),o.year=!0,i.setMonth(l.getMonth()),o.month=!0,i.setDate(l.getDate()),o.day=!0,t.match("hours")&&(i.setHours(l.getHours()),o.hour=!0),t.match("minutes")&&(i.setHours(l.getHours()),i.setMinutes(l.getMinutes()),o.hour=!0,o.minute=!0),t.match("seconds")&&(i.setHours(l.getHours()),i.setMinutes(l.getMinutes()),i.setSeconds(l.getSeconds()),o.hour=!0,o.minute=!0,o.second=!0),t.match("milliseconds")&&(i.setHours(l.getHours()),i.setMinutes(l.getMinutes()),i.setSeconds(l.getSeconds()),i.setMilliseconds(l.getMilliseconds()),o.hour=!0,o.minute=!0,o.second=!0,o.millisecond=!0)}else t.length<=8?(o.year=!0,i.setFullYear(parseInt(t,10)),i.setMonth(0),i.setDate(1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)):t.match("T")?navigator.userAgent.match(/MSIE\s(?!9.0)/)?(a=t.split("T"),t.match(":")&&(s=a[1].split(":"),s[0]>=1&&(i.setHours(s[0]),o.hour=!0),s[1]>=1&&(i.setMinutes(s[1]),o.minute=!0),s[2]>=1&&(i.setSeconds(s[2]),s[2]>=1&&(o.second=!0)),s[3]>=1&&(i.setMilliseconds(s[3]),s[3]>=1&&(o.millisecond=!0))),n=a[0].split("-"),n[0]&&(i.setFullYear(n[0]),o.year=!0),n[1]>=0&&(i.setMonth(n[1]-1),o.month=!0),n[2]>=0&&(i.setDate(n[2]),o.day=!0)):(i=new Date(Date.parse(t)),o.year=!0,o.month=!0,o.day=!0,o.hour=!0,o.minute=!0,i.getSeconds()>=1&&(o.second=!0),i.getMilliseconds()>=1&&(o.millisecond=!0)):(i=new Date(parseInt(t.slice(0,4),10),parseInt(t.slice(4,6),10)-1,parseInt(t.slice(6,8),10),parseInt(t.slice(8,10),10),parseInt(t.slice(10,12),10)),o.year=!0,o.month=!0,o.day=!0,o.hour=!0,o.minute=!0,i.getSeconds()>=1&&(o.second=!0),i.getMilliseconds()>=1&&(o.millisecond=!0));return null!=e&&""!=e?{date:i,precision:o}:i},prettyDate:function(t,e,i,n){var s,a,o,r,l,c,h,u=!1;if(null!=n&&""!=n&&"undefined"!=typeof n&&(u=!0,trace("D2 "+n)),"date"==type.of(t)){o="object"==type.of(i)?i.millisecond||i.second&&t.getSeconds()>=1?e?VMM.Date.dateformats.time_short:VMM.Date.dateformats.time_short:i.minute?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:i.hour?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:i.day?e?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:i.month?e?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:i.year?VMM.Date.dateformats.year:VMM.Date.dateformats.year:0===t.getMonth()&&1==t.getDate()&&0===t.getHours()&&0===t.getMinutes()?VMM.Date.dateformats.year:t.getDate()<=1&&0===t.getHours()&&0===t.getMinutes()?e?VMM.Date.dateformats.month_short:VMM.Date.dateformats.month:0===t.getHours()&&0===t.getMinutes()?e?VMM.Date.dateformats.full_short:VMM.Date.dateformats.full:0===t.getMinutes()?e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.time_no_seconds_small_date:e?VMM.Date.dateformats.time_no_seconds_short:VMM.Date.dateformats.full_long,s=dateFormat(t,o,!1),r=s.split(" ");for(var d=0;d<r.length;d++)parseInt(r[d],10)<0&&(trace("YEAR IS BC"),l=r[d],c=Math.abs(parseInt(r[d],10)),h=c.toString()+" B.C.",s=s.replace(l,h));if(u){a=dateFormat(n,o,!1),r=a.split(" ");for(var p=0;p<r.length;p++)parseInt(r[p],10)<0&&(trace("YEAR IS BC"),l=r[p],c=Math.abs(parseInt(r[p],10)),h=c.toString()+" B.C.",a=a.replace(l,h))}}else trace("NOT A VALID DATE?"),trace(t);return u?s+" &mdash; "+a:s}}.init();var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(s,a,o){var r=dateFormat;1!=arguments.length||"[object String]"!=Object.prototype.toString.call(s)||/\d/.test(s)||(a=s,s=void 0),isNaN(s)&&trace("invalid date "+s),a=String(r.masks[a]||a||r.masks["default"]),"UTC:"==a.slice(0,4)&&(a=a.slice(4),o=!0);var l=o?"getUTC":"get",c=s[l+"Date"](),h=s[l+"Day"](),u=s[l+"Month"](),d=s[l+"FullYear"](),p=s[l+"Hours"](),f=s[l+"Minutes"](),m=s[l+"Seconds"](),g=s[l+"Milliseconds"](),v=o?0:s.getTimezoneOffset(),b={d:c,dd:n(c),ddd:r.i18n.dayNames[h],dddd:r.i18n.dayNames[h+7],m:u+1,mm:n(u+1),mmm:r.i18n.monthNames[u],mmmm:r.i18n.monthNames[u+12],yy:String(d).slice(2),yyyy:d,h:p%12||12,hh:n(p%12||12),H:p,HH:n(p),M:f,MM:n(f),s:m,ss:n(m),l:n(g,3),L:n(g>99?Math.round(g/10):g),t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:o?"UTC":(String(s).match(e)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return a.replace(t,function(t){return t in b?b[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)}}"undefined"!=typeof VMM&&"undefined"==typeof VMM.Util&&(VMM.Util={init:function(){return this},correctProtocol:function(t){var e=window.parent.location.protocol.toString(),i="",n=t.split("://",2);return i=e.match("http")?e:"https",i+"://"+n[1]},mergeConfig:function(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},getObjectAttributeByIndex:function(t,e){if("undefined"!=typeof t){var i=0;for(var n in t){if(e===i)return t[n];i++}return""}return""},ordinal:function(t){return["th","st","nd","rd"][!(t%10>3||1==Math.floor(t%100/10))*(t%10)]},randomBetween:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},average:function(t){for(var e,i={mean:0,variance:0,deviation:0},n=t.length,s=0,a=n;a--;s+=t[a]);for(e=i.mean=s/n,a=n,s=0;a--;s+=Math.pow(t[a]-e,2));return i.deviation=Math.sqrt(i.variance=s/n),i},customSort:function(t,e){var i=t,n=e;return i==n?0:i>n?1:-1},deDupeArray:function(t){var e,i=t.length,n=[],s={};for(e=0;i>e;e++)s[t[e]]=0;for(e in s)n.push(e);return n},number2money:function(t,e,i){var e=null!==e?e:!0,i=null!==i?i:!1,n=VMM.Math2.floatPrecision(t,2),s=this.niceNumber(n);return!s.split(/\./g)[1]&&i&&(s+=".00"),e&&(s="$"+s),s},wordCount:function(t){var e=t+" ",i=/^[^A-Za-z0-9\'\-]+/gi,n=e.replace(i,""),s=/[^A-Za-z0-9\'\-]+/gi,a=n.replace(s," "),o=a.split(" "),r=o.length-1;return e.length<2&&(r=0),r},ratio:{fit:function(t,e,i,n){var s={width:0,height:0};return s.width=t,s.height=Math.round(t/i*n),s.height>e&&(s.height=e,s.width=Math.round(e/n*i),s.width>t&&trace("FIT: DIDN'T FIT!!! ")),s},r16_9:function(t,e){return null!==t&&""!==t?Math.round(e/16*9):null!==e&&""!==e?Math.round(t/9*16):void 0},r4_3:function(t,e){return null!==t&&""!==t?Math.round(e/4*3):null!==e&&""!==e?Math.round(t/3*4):void 0}},doubledigit:function(t){return(10>t?"0":"")+t},truncateWords:function(t,e,i){e||(e=30),i||(i=e);var n=/^[^A-Za-z0-9\'\-]+/gi,s=t.replace(n,""),a=s.split(" "),o=[];e=Math.min(a.length,e),i=Math.min(a.length,i);for(var r=0;e>r;r++)o.push(a[r]);for(;i>r;r++){var l=a[r];if(o.push(l),"."==l.charAt(l.length-1))break}return o.join(" ")},linkify:function(t){var e=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,i=/(^|[^\/])(www\.[\S]+(\b|$))/gim,n=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim;return t.replace(e,"<a target='_blank' href='$&' onclick='void(0)'>$&</a>").replace(i,"$1<a target='_blank' onclick='void(0)' href='http://$2'>$2</a>").replace(n,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>")},linkify_with_twitter:function(t){var e=/(\()((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\))|(\[)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\])|(\{)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(\})|(<|&(?:lt|#60|#x3c);)((?:ht|f)tps?:\/\/[a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]+)(>|&(?:gt|#62|#x3e);)|((?:^|[^=\s'"\]])\s*['"]?|[^=\s]\s+)(\b(?:ht|f)tps?:\/\/[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]+(?:(?!&(?:gt|#0*62|#x0*3e);|&(?:amp|apos|quot|#0*3[49]|#x0*2[27]);[.!&',:?;]?(?:[^a-z0-9\-._~!$&'()*+,;=:\/?#[\]@%]|$))&[a-z0-9\-._~!$'()*+,;=:\/?#[\]@%]*)*[a-z0-9\-_~$()*+=\/#[\]@%])/gim,i='$1$4$7$10$13<a href="$2$5$8$11$14" target="_blank" class="hyphenate">$2$5$8$11$14</a>$3$6$9$12',n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,s=/(([a-zA-Z0-9_\-\.]+)@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6}))+/gim,a=/\B@([\w-]+)/gm;return t.replace(e,i).replace(n,"$1<a target='_blank' class='hyphenate' onclick='void(0)' href='http://$2'>$2</a>").replace(s,"<a target='_blank' onclick='void(0)' href='mailto:$1'>$1</a>").replace(a,"<a href='http://twitter.com/$1' target='_blank' onclick='void(0)'>@$1</a>")},linkify_wikipedia:function(t){var e=/<i[^>]*>(.*?)<\/i>/gim;return t.replace(e,"<a target='_blank' href='http://en.wikipedia.org/wiki/$&' onclick='void(0)'>$&</a>").replace(/<i\b[^>]*>/gim,"").replace(/<\/i>/gim,"").replace(/<b\b[^>]*>/gim,"").replace(/<\/b>/gim,"")},unlinkify:function(t){return t?(t=t.replace(/<a\b[^>]*>/i,""),t=t.replace(/<\/a>/i,"")):t},untagify:function(t){return t?t=t.replace(/<\s*\w.*?>/g,""):t},nl2br:function(t){return t.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>")},unique_ID:function(t){var e=function(t){return Math.floor(Math.random()*t)},i=function(){var t="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return t.substr(e(62),1)},n=function(t){for(var e="",n=0;t>n;n++)e+=i();return e};return n(t)},isEven:function(t){return t%2===0?!0:!1},getUrlVars:function(t){var e=t.toString();e.match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&"));for(var i,n=[],s=e.slice(e.indexOf("?")+1).split("&"),a=0;a<s.length;a++)i=s[a].split("="),n.push(i[0]),n[i[0]]=i[1];return n},toHTML:function(t){return t=this.nl2br(t),t=this.linkify(t),t.replace(/\s\s/g,"&nbsp;&nbsp;")},toCamelCase:function(t,e){e!==!1&&(e=!0);for(var i=(e?t.toLowerCase():t).split(" "),n=0;n<i.length;n++)i[n]=i[n].substr(0,1).toUpperCase()+i[n].substr(1);return i.join(" ")},properQuotes:function(t){return t.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;")},niceNumber:function(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1,$2");return x1+x2},toTitleCase:function(t){if("Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7)return t.replace("_","%20");var e={__smallWords:["a","an","and","as","at","but","by","en","for","if","in","of","on","or","the","to","v[.]?","via","vs[.]?"],init:function(){this.__smallRE=this.__smallWords.join("|"),this.__lowerCaseWordsRE=new RegExp("\\b("+this.__smallRE+")\\b","gi"),this.__firstWordRE=new RegExp("^([^a-zA-Z0-9 \\r\\n\\t]*)("+this.__smallRE+")\\b","gi"),this.__lastWordRE=new RegExp("\\b("+this.__smallRE+")([^a-zA-Z0-9 \\r\\n\\t]*)$","gi")},toTitleCase:function(t){for(var e="",i=t.split(/([:.;?!][ ]|(?:[ ]|^)["\u201c])/),n=0;n<i.length;++n){var s=i[n];s=s.replace(/\b([a-zA-Z][a-z.'\u2019]*)\b/g,this.__titleCaseDottedWordReplacer),s=s.replace(this.__lowerCaseWordsRE,this.__lowerReplacer),s=s.replace(this.__firstWordRE,this.__firstToUpperCase),s=s.replace(this.__lastWordRE,this.__firstToUpperCase),e+=s}return e=e.replace(/ V(s?)\. /g," v$1. "),e=e.replace(/(['\u2019])S\b/g,"$1s"),e=e.replace(/\b(AT&T|Q&A)\b/gi,this.__upperReplacer)},__titleCaseDottedWordReplacer:function(t){return t.match(/[a-zA-Z][.][a-zA-Z]/)?t:e.__firstToUpperCase(t)},__lowerReplacer:function(t){return t.toLowerCase()},__upperReplacer:function(t){return t.toUpperCase()},__firstToUpperCase:function(t){var e=t.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);return e[1]&&(e[1]=e[1].toUpperCase()),e.join("")}};return e.init(),t=t.replace(/_/g," "),t=e.toTitleCase(t)}}.init()),LazyLoad=function(t){function e(e,i){var n,s=t.createElement(e);for(n in i)i.hasOwnProperty(n)&&s.setAttribute(n,i[n]);return s}function i(t){var e,i,n=c[t];n&&(e=n.callback,i=n.urls,i.shift(),h=0,i.length||(e&&e.call(n.context,n.obj),c[t]=null,u[t].length&&s(t)))}function n(){var e=navigator.userAgent;r={async:t.createElement("script").async===!0},(r.webkit=/AppleWebKit\//.test(e))||(r.ie=/MSIE/.test(e))||(r.opera=/Opera/.test(e))||(r.gecko=/Gecko\//.test(e))||(r.unknown=!0)}function s(s,h,d,p,f){var m,g,v,b,y,_,M=function(){i(s)},w="css"===s,x=[];if(r||n(),h)if(h="string"==typeof h?[h]:h.concat(),w||r.async||r.gecko||r.opera)u[s].push({urls:h,callback:d,obj:p,context:f});else for(m=0,g=h.length;g>m;++m)u[s].push({urls:[h[m]],callback:m===g-1?d:null,obj:p,context:f});if(!c[s]&&(b=c[s]=u[s].shift())){for(l||(l=t.head||t.getElementsByTagName("head")[0]),y=b.urls,m=0,g=y.length;g>m;++m)_=y[m],w?v=r.gecko?e("style"):e("link",{href:_,rel:"stylesheet"}):(v=e("script",{src:_}),v.async=!1),v.className="lazyload",v.setAttribute("charset","utf-8"),r.ie&&!w?v.onreadystatechange=function(){/loaded|complete/.test(v.readyState)&&(v.onreadystatechange=null,M())}:w&&(r.gecko||r.webkit)?r.webkit?(b.urls[m]=v.href,o()):(v.innerHTML='@import "'+_+'";',a(v)):v.onload=v.onerror=M,x.push(v);for(m=0,g=x.length;g>m;++m)l.appendChild(x[m])}}function a(t){var e;try{e=!!t.sheet.cssRules}catch(n){return h+=1,void(200>h?setTimeout(function(){a(t)},50):e&&i("css"))}i("css")}function o(){var t,e=c.css;if(e){for(t=d.length;--t>=0;)if(d[t].href===e.urls[0]){i("css");break}h+=1,e&&(200>h?setTimeout(o,50):i("css"))}}var r,l,c={},h=0,u={css:[],js:[]},d=t.styleSheets;return{css:function(t,e,i,n){s("css",t,e,i,n)},js:function(t,e,i,n){s("js",t,e,i,n)}}}(this.document),LoadLib=function(){function t(t){var i=0,n=!1;for(i=0;i<e.length;i++)e[i]==t&&(n=!0);return n?!0:(e.push(t),!1)}var e=[];return{css:function(e,i,n,s){t(e)||LazyLoad.css(e,i,n,s)},js:function(e,i,n,s){t(e)||LazyLoad.js(e,i,n,s)}}}(this.document),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Language&&(VMM.Language={lang:"en",api:{wikipedia:"en"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_seconds_small_date:"h:MM TT'<br/><small>'mmmm d',' yyyy'</small>'",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT'<br/><small>mmm d',' yyyy'</small>'"},messages:{loading_timeline:"Loading Timeline... ",return_to_title:"Return to Title",expand_timeline:"Expand Timeline",contract_timeline:"Contract Timeline",wikipedia:"From Wikipedia, the free encyclopedia",loading_content:"Loading Content",loading:"Loading"}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.ExternalAPI&&(VMM.ExternalAPI={keys:{google:"",flickr:"",twitter:""},keys_master:{vp:"Pellentesque nibh felis, eleifend id, commodo in, interdum vitae, leo",flickr:"RAIvxHY4hE/Elm5cieh4X5ptMyDpj7MYIxziGxi0WGCcy1s+yr7rKQ==",google:"jwNGnYw4hE9lmAez4ll0QD+jo6SKBJFknkopLS4FrSAuGfIwyj57AusuR0s8dAo=",twitter:""},init:function(){return this},setKeys:function(t){VMM.ExternalAPI.keys=t},pushQues:function(){VMM.master_config.googlemaps.active&&VMM.ExternalAPI.googlemaps.pushQue(),VMM.master_config.youtube.active&&VMM.ExternalAPI.youtube.pushQue(),VMM.master_config.soundcloud.active&&VMM.ExternalAPI.soundcloud.pushQue(),VMM.master_config.googledocs.active&&VMM.ExternalAPI.googledocs.pushQue(),VMM.master_config.googleplus.active&&VMM.ExternalAPI.googleplus.pushQue(),VMM.master_config.wikipedia.active&&VMM.ExternalAPI.wikipedia.pushQue(),VMM.master_config.vimeo.active&&VMM.ExternalAPI.vimeo.pushQue(),VMM.master_config.vine.active&&VMM.ExternalAPI.vine.pushQue(),VMM.master_config.twitter.active&&VMM.ExternalAPI.twitter.pushQue(),VMM.master_config.flickr.active&&VMM.ExternalAPI.flickr.pushQue(),VMM.master_config.webthumb.active&&VMM.ExternalAPI.webthumb.pushQue()},twitter:{tweetArray:[],get:function(t){var e={mid:t.id,id:t.uid};VMM.master_config.twitter.que.push(e),VMM.master_config.twitter.active=!0},create:function(t,e){t.mid.toString(),{twitterid:t.mid},"http://api.twitter.com/1/statuses/show.json?id="+t.mid+"&include_entities=true&callback=?";VMM.ExternalAPI.twitter.getOEmbed(t,e)},errorTimeOut:function(t){trace("TWITTER JSON ERROR TIMEOUT "+t.mid),VMM.attachElement("#"+t.id.toString(),VMM.MediaElement.loadingmessage("Still waiting on Twitter: "+t.mid)),VMM.getJSON("http://api.twitter.com/1/account/rate_limit_status.json",function(e){trace("REMAINING TWITTER API CALLS "+e.remaining_hits),trace("TWITTER RATE LIMIT WILL RESET AT "+e.reset_time);var i="";0==e.remaining_hits?(i="<p>You've reached the maximum number of tweets you can load in an hour.</p>",i+="<p>You can view tweets again starting at: <br/>"+e.reset_time+"</p>"):i="<p>Still waiting on Twitter. "+t.mid+"</p>",VMM.attachElement("#"+t.id.toString(),VMM.MediaElement.loadingmessage(i))})},errorTimeOutOembed:function(t){trace("TWITTER JSON ERROR TIMEOUT "+t.mid),VMM.attachElement("#"+t.id.toString(),VMM.MediaElement.loadingmessage("Still waiting on Twitter: "+t.mid))},pushQue:function(){VMM.master_config.twitter.que.length>0&&(VMM.ExternalAPI.twitter.create(VMM.master_config.twitter.que[0],VMM.ExternalAPI.twitter.pushQue),VMM.master_config.twitter.que.remove(0))},getOEmbed:function(t,e){var i="http://api.twitter.com/1/statuses/oembed.json?id="+t.mid+"&omit_script=true&include_entities=true&callback=?",n=setTimeout(VMM.ExternalAPI.twitter.errorTimeOutOembed,VMM.master_config.timers.api,t);VMM.getJSON(i,function(e){var i="",n="";i+=e.html.split("</p>&mdash;")[0]+"</p></blockquote>",n=e.author_url.split("twitter.com/")[1],i+="<div class='vcard author'>",i+="<a class='screen-name url' href='"+e.author_url+"' target='_blank'>",i+="<span class='avatar'></span>",i+="<span class='fn'>"+e.author_name+"</span>",i+="<span class='nickname'>@"+n+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",VMM.attachElement("#"+t.id.toString(),i),VMM.attachElement("#text_thumb_"+t.id.toString(),e.html),VMM.attachElement("#marker_content_"+t.id.toString(),e.html)
}).error(function(e,i){trace("TWITTER error"),trace("TWITTER ERROR: "+i+" "+e.responseText),clearTimeout(n),VMM.attachElement("#"+t.id,VMM.MediaElement.loadingmessage("ERROR LOADING TWEET "+t.mid))}).success(function(){clearTimeout(n),clearTimeout(callback_timeout),e()})},getHTML:function(t){var e="http://api.twitter.com/1/statuses/oembed.json?id="+t+"&omit_script=true&include_entities=true&callback=?";VMM.getJSON(e,VMM.ExternalAPI.twitter.onJSONLoaded)},onJSONLoaded:function(t){trace("TWITTER JSON LOADED");var e=t.id;VMM.attachElement("#"+e,VMM.Util.linkify_with_twitter(t.html))},parseTwitterDate:function(t){var e=new Date(Date.parse(t));return e},prettyParseTwitterDate:function(t){var e=new Date(Date.parse(t));return VMM.Date.prettyDate(e,!0)},getTweets:function(t){for(var e=[],i=t.length,n=0;n<t.length;n++){var s="";s=t[n].tweet.match("status/")?t[n].tweet.split("status/")[1]:t[n].tweet.match("statuses/")?t[n].tweet.split("statuses/")[1]:"";var a="http://api.twitter.com/1/statuses/show.json?id="+s+"&include_entities=true&callback=?";VMM.getJSON(a,function(t){var n={},s="<div class='twitter'><blockquote><p>",a=VMM.Util.linkify_with_twitter(t.text,"_blank");if(s+=a,s+="</p>",s+="\u2014 "+t.user.name+" (<a href='https://twitter.com/"+t.user.screen_name+"'>@"+t.user.screen_name+"</a>) <a href='https://twitter.com/"+t.user.screen_name+"/status/"+t.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(t.created_at)+" </a></blockquote></div>",n.content=s,n.raw=t,e.push(n),e.length==i){var o={tweetdata:e};VMM.fireEvent(global,"TWEETSLOADED",o)}}).success(function(){trace("second success")}).error(function(){trace("error")}).complete(function(){trace("complete")})}},getTweetSearch:function(t,e){var i=40;null!=e&&""!=e&&(i=e);var n="http://search.twitter.com/search.json?q="+t+"&rpp="+i+"&include_entities=true&result_type=mixed",s=[];VMM.getJSON(n,function(t){for(var e=0;e<t.results.length;e++){var i={},n="<div class='twitter'><blockquote><p>",a=VMM.Util.linkify_with_twitter(t.results[e].text,"_blank");n+=a,n+="</p>",n+="\u2014 "+t.results[e].from_user_name+" (<a href='https://twitter.com/"+t.results[e].from_user+"'>@"+t.results[e].from_user+"</a>) <a href='https://twitter.com/"+t.results[e].from_user+"/status/"+t.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(t.results[e].created_at)+" </a></blockquote></div>",i.content=n,i.raw=t.results[e],s.push(i)}var o={tweetdata:s};VMM.fireEvent(global,"TWEETSLOADED",o)})},prettyHTML:function(t,e){var t=t.toString(),i="http://api.twitter.com/1/statuses/show.json?id="+t+"&include_entities=true&callback=?",n=setTimeout(VMM.ExternalAPI.twitter.errorTimeOut,VMM.master_config.timers.api,t);VMM.getJSON(i,VMM.ExternalAPI.twitter.formatJSON).error(function(e,i){trace("TWITTER error"),trace("TWITTER ERROR: "+i+" "+e.responseText),VMM.attachElement("#twitter_"+t,"<p>ERROR LOADING TWEET "+t+"</p>")}).success(function(t){clearTimeout(n),e&&VMM.ExternalAPI.twitter.secondaryMedia(t)})},formatJSON:function(t){var e=t.id_str,i="<blockquote><p>",n=VMM.Util.linkify_with_twitter(t.text,"_blank");i+=n,i+="</p></blockquote>",i+="<div class='vcard author'>",i+="<a class='screen-name url' href='https://twitter.com/"+t.user.screen_name+"' data-screen-name='"+t.user.screen_name+"' target='_blank'>",i+="<span class='avatar'><img src=' "+t.user.profile_image_url+"'  alt=''></span>",i+="<span class='fn'>"+t.user.name+"</span>",i+="<span class='nickname'>@"+t.user.screen_name+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>","undefined"!=typeof t.entities.media&&"photo"==t.entities.media[0].type&&(i+="<img src=' "+t.entities.media[0].media_url+"'  alt=''>"),VMM.attachElement("#twitter_"+e.toString(),i),VMM.attachElement("#text_thumb_"+e.toString(),t.text)}},googlemaps:{maptype:"toner",setMapType:function(t){""!=t&&(VMM.ExternalAPI.googlemaps.maptype=t)},get:function(t){var e,i;t.vars=VMM.Util.getUrlVars(t.id),e=""!=VMM.ExternalAPI.keys.google?VMM.ExternalAPI.keys.google:Aes.Ctr.decrypt(VMM.ExternalAPI.keys_master.google,VMM.ExternalAPI.keys_master.vp,256),i="http://maps.googleapis.com/maps/api/js?key="+e+"&v=3.9&libraries=places&sensor=false&callback=VMM.ExternalAPI.googlemaps.onMapAPIReady",VMM.master_config.googlemaps.active?VMM.master_config.googlemaps.que.push(t):(VMM.master_config.googlemaps.que.push(t),VMM.master_config.googlemaps.api_loaded||LoadLib.js(i,function(){trace("Google Maps API Library Loaded")}))},create:function(t){VMM.ExternalAPI.googlemaps.createAPIMap(t)},createiFrameMap:function(t){var e=t.id+"&output=embed",i="",n=t.uid.toString()+"_gmap";i+="<div class='google-map' id='"+n+"' style='width=100%;height=100%;'>",i+="<iframe width='100%' height='100%' frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='"+e+"'></iframe>",i+="</div>",VMM.attachElement("#"+t.uid,i)},createAPIMap:function(t){function e(t){return t in VMM.ExternalAPI.googlemaps.map_providers?(c=VMM.ExternalAPI.googlemaps.map_attribution[VMM.ExternalAPI.googlemaps.map_providers[t].attribution],VMM.ExternalAPI.googlemaps.map_providers[t]):VMM.ExternalAPI.googlemaps.defaultType(t)?(trace("GOOGLE MAP DEFAULT TYPE"),google.maps.MapTypeId[t.toUpperCase()]):void trace("Not a maptype: "+t)}function i(){var e,i=new google.maps.Geocoder,s=VMM.Util.getUrlVars(t.id).q;if(s.match("loc:")){var a=s.split(":")[1].split("+");d=new google.maps.LatLng(parseFloat(a[0]),parseFloat(a[1])),f=!0}i.geocode({address:s},function(t,i){i==google.maps.GeocoderStatus.OK?(e=new google.maps.Marker({map:o,position:t[0].geometry.location}),"undefined"!=typeof t[0].geometry.viewport?o.fitBounds(t[0].geometry.viewport):"undefined"!=typeof t[0].geometry.bounds?o.fitBounds(t[0].geometry.bounds):o.setCenter(t[0].geometry.location),f&&o.panTo(d),m&&o.setZoom(p)):(trace("Geocode for "+s+" was not successful for the following reason: "+i),trace("TRYING PLACES SEARCH"),f&&o.panTo(d),m&&o.setZoom(p),n())})}function n(){function e(e,n){if(n==google.maps.places.PlacesServiceStatus.OK){for(var s=0;s<e.length;s++);f?o.panTo(d):e.length>=1&&(o.panTo(e[0].geometry.location),m&&o.setZoom(p))}else trace("Place search for "+i.query+" was not successful for the following reason: "+n),trace("YOU MAY NEED A GOOGLE MAPS API KEY IN ORDER TO USE THIS FEATURE OF TIMELINEJS"),trace("FIND OUT HOW TO GET YOUR KEY HERE: https://developers.google.com/places/documentation/#Authentication"),f?(o.panTo(d),m&&o.setZoom(p)):(trace("USING SIMPLE IFRAME MAP EMBED"),t.id[0].match("https")&&(t.id=t.url[0].replace("https","http")),VMM.ExternalAPI.googlemaps.createiFrameMap(t))}var i,n,s,a,r;place_search=new google.maps.places.PlacesService(o),n=new google.maps.InfoWindow,i={query:"",types:["country","neighborhood","political","locality","geocode"]},"string"==type.of(VMM.Util.getUrlVars(t.id).q)&&(i.query=VMM.Util.getUrlVars(t.id).q),f?(i.location=d,i.radius="15000"):(a=new google.maps.LatLng(-89.999999,-179.999999),r=new google.maps.LatLng(89.999999,179.999999),s=new google.maps.LatLngBounds(a,r)),place_search.textSearch(i,e)}function s(){var e,i,n,s;e=t.id+"&output=kml",e=e.replace("&output=embed",""),i=new google.maps.KmlLayer(e,{preserveViewport:!0}),n=new google.maps.InfoWindow,i.setMap(o),google.maps.event.addListenerOnce(i,"defaultviewport_changed",function(){f?o.panTo(d):o.fitBounds(i.getDefaultViewport()),m&&o.setZoom(p)}),google.maps.event.addListener(i,"click",function(t){function e(t){n.setContent(t),n.open(o)}s=t.featureData.description,e(s)})}var a,o,r,l,c="",h=t.uid.toString()+"_gmap",u="",d=new google.maps.LatLng(41.875696,-87.624207),p=11,f=!1,m=!1;google.maps.VeriteMapType=function(t){if(VMM.ExternalAPI.googlemaps.defaultType(t))return google.maps.MapTypeId[t.toUpperCase()];var i=e(t);return google.maps.ImageMapType.call(this,{getTileUrl:function(t,e){var n=(e+t.x+t.y)%VMM.ExternalAPI.googlemaps.map_subdomains.length;return[i.url.replace("{S}",VMM.ExternalAPI.googlemaps.map_subdomains[n]).replace("{Z}",e).replace("{X}",t.x).replace("{Y}",t.y).replace("{z}",e).replace("{x}",t.x).replace("{y}",t.y)]},tileSize:new google.maps.Size(256,256),name:t,minZoom:i.minZoom,maxZoom:i.maxZoom})},google.maps.VeriteMapType.prototype=new google.maps.ImageMapType("_"),a=""!=VMM.ExternalAPI.googlemaps.maptype?VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)?google.maps.MapTypeId[VMM.ExternalAPI.googlemaps.maptype.toUpperCase()]:VMM.ExternalAPI.googlemaps.maptype:"toner","string"==type.of(VMM.Util.getUrlVars(t.id).ll)?(f=!0,l=VMM.Util.getUrlVars(t.id).ll.split(","),d=new google.maps.LatLng(parseFloat(l[0]),parseFloat(l[1]))):"string"==type.of(VMM.Util.getUrlVars(t.id).sll)&&(l=VMM.Util.getUrlVars(t.id).sll.split(","),d=new google.maps.LatLng(parseFloat(l[0]),parseFloat(l[1]))),"string"==type.of(VMM.Util.getUrlVars(t.id).z)&&(m=!0,p=parseFloat(VMM.Util.getUrlVars(t.id).z)),r={zoom:p,draggable:!1,disableDefaultUI:!0,mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},center:d,mapTypeId:a,mapTypeControlOptions:{mapTypeIds:[a]}},VMM.attachElement("#"+t.uid,"<div class='google-map' id='"+h+"' style='width=100%;height=100%;'></div>"),o=new google.maps.Map(document.getElementById(h),r),VMM.ExternalAPI.googlemaps.defaultType(VMM.ExternalAPI.googlemaps.maptype)||(o.mapTypes.set(a,new google.maps.VeriteMapType(a)),u="<div class='map-attribution'><div class='attribution-text'>"+c+"</div></div>",VMM.appendElement("#"+h,u)),"string"==type.of(VMM.Util.getUrlVars(t.id).msid)?s():"string"==type.of(VMM.Util.getUrlVars(t.id).q)&&i()},pushQue:function(){for(var t=0;t<VMM.master_config.googlemaps.que.length;t++)VMM.ExternalAPI.googlemaps.create(VMM.master_config.googlemaps.que[t]);VMM.master_config.googlemaps.que=[]},onMapAPIReady:function(){VMM.master_config.googlemaps.map_active=!0,VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onPlacesAPIReady:function(){VMM.master_config.googlemaps.places_active=!0,VMM.ExternalAPI.googlemaps.onAPIReady()},onAPIReady:function(){VMM.master_config.googlemaps.active||VMM.master_config.googlemaps.map_active&&VMM.master_config.googlemaps.places_active&&(VMM.master_config.googlemaps.active=!0,VMM.ExternalAPI.googlemaps.pushQue())},defaultType:function(t){return"satellite"==t.toLowerCase()||"hybrid"==t.toLowerCase()||"terrain"==t.toLowerCase()||"roadmap"==t.toLowerCase()?!0:!1},map_subdomains:["","a.","b.","c.","d."],map_attribution:{stamen:"Map tiles by <a href='http://stamen.com'>Stamen Design</a>, under <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a>. Data by <a href='http://openstreetmap.org'>OpenStreetMap</a>, under <a href='http://creativecommons.org/licenses/by-sa/3.0'>CC BY SA</a>.",apple:"Map data &copy; 2012  Apple, Imagery &copy; 2012 Apple"},map_providers:{toner:{url:"http://{S}tile.stamen.com/toner/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-lines":{url:"http://{S}tile.stamen.com/toner-lines/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},"toner-labels":{url:"http://{S}tile.stamen.com/toner-labels/{Z}/{X}/{Y}.png",minZoom:0,maxZoom:20,attribution:"stamen"},sterrain:{url:"http://{S}tile.stamen.com/terrain/{Z}/{X}/{Y}.jpg",minZoom:4,maxZoom:20,attribution:"stamen"},apple:{url:"http://gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_US&z={z}&x={x}&y={y}&v=9",minZoom:4,maxZoom:14,attribution:"apple"},watercolor:{url:"http://{S}tile.stamen.com/watercolor/{Z}/{X}/{Y}.jpg",minZoom:3,maxZoom:16,attribution:"stamen"}}},googleplus:{get:function(t){var e={user:t.user,activity:t.id,id:t.uid};VMM.master_config.googleplus.que.push(e),VMM.master_config.googleplus.active=!0},create:function(t,e){var i,n,s="",a="",o="",r="",l="";googleplus_timeout=setTimeout(VMM.ExternalAPI.googleplus.errorTimeOut,VMM.master_config.timers.api,t),callback_timeout=setTimeout(e,VMM.master_config.timers.api,t),a=""!=VMM.master_config.Timeline.api_keys.google?VMM.master_config.Timeline.api_keys.google:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.google,VMM.master_config.vp,256),i="https://www.googleapis.com/plus/v1/people/"+t.user+"/activities/public?alt=json&maxResults=100&fields=items(id,url)&key="+a,s="GOOGLE PLUS API CALL",VMM.getJSON(i,function(e){for(var i=0;i<e.items.length;i++)if(trace("loop"),e.items[i].url.split("posts/")[1]==t.activity){trace("FOUND IT!!"),o=e.items[i].id,n="https://www.googleapis.com/plus/v1/activities/"+o+"?alt=json&key="+a,VMM.getJSON(n,function(e){if(trace(e),"undefined"!=typeof e.annotation?(r+="<div class='googleplus-annotation'>'"+e.annotation+"</div>",r+=e.object.content):r+=e.object.content,"undefined"!=typeof e.object.attachments){for(var i=0;i<e.object.attachments.length;i++)"photo"==e.object.attachments[i].objectType?l="<a href='"+e.object.url+"' target='_blank'><img src='"+e.object.attachments[i].image.url+"' class='article-thumb'></a>"+l:"video"==e.object.attachments[i].objectType?(l="<img src='"+e.object.attachments[i].image.url+"' class='article-thumb'>"+l,l+="<div>",l+="<a href='"+e.object.attachments[i].url+"' target='_blank'>",l+="<h5>"+e.object.attachments[i].displayName+"</h5>",l+="</a>",l+="</div>"):"article"==e.object.attachments[i].objectType&&(l+="<div>",l+="<a href='"+e.object.attachments[i].url+"' target='_blank'>",l+="<h5>"+e.object.attachments[i].displayName+"</h5>",l+="<p>"+e.object.attachments[i].content+"</p>",l+="</a>",l+="</div>"),trace(e.object.attachments[i]);l="<div class='googleplus-attachments'>"+l+"</div>"}s="<div class='googleplus-content'>"+r+l+"</div>",s+="<div class='vcard author'><a class='screen-name url' href='"+e.url+"' target='_blank'>",s+="<span class='avatar'><img src='"+e.actor.image.url+"' style='max-width: 32px; max-height: 32px;'></span>",s+="<span class='fn'>"+e.actor.displayName+"</span>",s+="<span class='nickname'><span class='thumbnail-inline'></span></span>",s+="</a></div>",VMM.attachElement("#googleplus_"+t.activity,s)});break}}).error(function(e){var i=VMM.parseJSON(e.responseText);trace(i.error.message),VMM.attachElement("#googleplus_"+t.activity,VMM.MediaElement.loadingmessage("<p>ERROR LOADING GOOGLE+ </p><p>"+i.error.message+"</p>"))}).success(function(){clearTimeout(googleplus_timeout),clearTimeout(callback_timeout),e()})},pushQue:function(){VMM.master_config.googleplus.que.length>0&&(VMM.ExternalAPI.googleplus.create(VMM.master_config.googleplus.que[0],VMM.ExternalAPI.googleplus.pushQue),VMM.master_config.googleplus.que.remove(0))},errorTimeOut:function(t){trace("GOOGLE+ JSON ERROR TIMEOUT "+t.activity),VMM.attachElement("#googleplus_"+t.activity,VMM.MediaElement.loadingmessage("<p>Still waiting on GOOGLE+ </p><p>"+t.activity+"</p>"))}},googledocs:{get:function(t){VMM.master_config.googledocs.que.push(t),VMM.master_config.googledocs.active=!0},create:function(t){var e="";e=t.id.match(/docs.google.com/i)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t.id+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='http://docs.google.com/viewer?url="+t.id+"&amp;embedded=true'></iframe>",VMM.attachElement("#"+t.uid,e)},pushQue:function(){for(var t=0;t<VMM.master_config.googledocs.que.length;t++)VMM.ExternalAPI.googledocs.create(VMM.master_config.googledocs.que[t]);VMM.master_config.googledocs.que=[]}},flickr:{get:function(t){VMM.master_config.flickr.que.push(t),VMM.master_config.flickr.active=!0},create:function(t,e){var i,n=setTimeout(e,VMM.master_config.timers.api,t);i="undefined"!=typeof VMM.master_config.Timeline&&""!=VMM.master_config.Timeline.api_keys.flickr?VMM.master_config.Timeline.api_keys.flickr:Aes.Ctr.decrypt(VMM.master_config.api_keys_master.flickr,VMM.master_config.vp,256);var s="http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+i+"&photo_id="+t.id+"&format=json&jsoncallback=?";VMM.getJSON(s,function(e){var i,n,s=(e.sizes.size[0].url.split("photos/")[1].split("/")[1],"#"+t.uid),a="#"+t.uid+"_thumb",o=!1,r="Large";r=VMM.ExternalAPI.flickr.sizes(VMM.master_config.sizes.api.height);for(var l=0;l<e.sizes.size.length;l++)e.sizes.size[l].label==r&&(o=!0,i=e.sizes.size[l].source);o||(i=e.sizes.size[e.sizes.size.length-2].source),n=e.sizes.size[0].source,VMM.Lib.attr(s,"src",i),VMM.attachElement(a,"<img src='"+n+"'>")}).error(function(t,e){trace("FLICKR error"),trace("FLICKR ERROR: "+e+" "+t.responseText)}).success(function(){clearTimeout(n),e()})},pushQue:function(){VMM.master_config.flickr.que.length>0&&(VMM.ExternalAPI.flickr.create(VMM.master_config.flickr.que[0],VMM.ExternalAPI.flickr.pushQue),VMM.master_config.flickr.que.remove(0))},sizes:function(t){var e="";return e=75>=t?"Thumbnail":180>=t?"Small":240>=t?"Small 320":375>=t?"Medium":480>=t?"Medium 640":600>=t?"Large":"Large"}},instagram:{get:function(t,e){return e?"http://instagr.am/p/"+t.id+"/media/?size=t":"http://instagr.am/p/"+t.id+"/media/?size="+VMM.ExternalAPI.instagram.sizes(VMM.master_config.sizes.api.height)},sizes:function(t){var e="";return e=150>=t?"t":306>=t?"m":"l"}},soundcloud:{get:function(t){VMM.master_config.soundcloud.que.push(t),VMM.master_config.soundcloud.active=!0},create:function(t,e){var i="http://soundcloud.com/oembed?url="+t.id+"&format=js&callback=?";VMM.getJSON(i,function(i){VMM.attachElement("#"+t.uid,i.html),e()})},pushQue:function(){VMM.master_config.soundcloud.que.length>0&&(VMM.ExternalAPI.soundcloud.create(VMM.master_config.soundcloud.que[0],VMM.ExternalAPI.soundcloud.pushQue),VMM.master_config.soundcloud.que.remove(0))}},wikipedia:{get:function(t){VMM.master_config.wikipedia.que.push(t),VMM.master_config.wikipedia.active=!0},create:function(t,e){var i="http://"+t.lang+".wikipedia.org/w/api.php?action=query&prop=extracts&redirects=&titles="+t.id+"&exintro=1&format=json&callback=?";if(callback_timeout=setTimeout(e,VMM.master_config.timers.api,t),"Explorer"==VMM.Browser.browser&&parseInt(VMM.Browser.version,10)>=7&&window.XDomainRequest){var n="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+t.id+"' target='_blank'>"+t.url+"</a></h4>";n+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",n+="<p>Wikipedia entry unable to load using Internet Explorer 8 or below.</p>",VMM.attachElement("#"+t.uid,n)}VMM.getJSON(i,function(e){if(e.query){var i,n,s="",a="",o=1,r=[];i=VMM.Util.getObjectAttributeByIndex(e.query.pages,0).extract,n=VMM.Util.getObjectAttributeByIndex(e.query.pages,0).title,i.match("<p>")?r=i.split("<p>"):r.push(i);for(var l=0;l<r.length;l++)o>=l+1&&l+1<r.length&&(a+="<p>"+r[l+1]);s="<h4><a href='http://"+VMM.master_config.language.api.wikipedia+".wikipedia.org/wiki/"+n+"' target='_blank'>"+n+"</a></h4>",s+="<span class='wiki-source'>"+VMM.master_config.language.messages.wikipedia+"</span>",s+=VMM.Util.linkify_wikipedia(a),i.match("REDIRECT")||VMM.attachElement("#"+t.uid,s)}}).error(function(i,n,s){trace("WIKIPEDIA error"),trace("WIKIPEDIA ERROR: "+n+" "+i.responseText),trace(s),VMM.attachElement("#"+t.uid,VMM.MediaElement.loadingmessage("<p>Wikipedia is not responding</p>")),clearTimeout(callback_timeout),VMM.master_config.wikipedia.tries<4?(trace("WIKIPEDIA ATTEMPT "+VMM.master_config.wikipedia.tries),trace(t),VMM.master_config.wikipedia.tries++,VMM.ExternalAPI.wikipedia.create(t,e)):e()}).success(function(){VMM.master_config.wikipedia.tries=0,clearTimeout(callback_timeout),e()})},pushQue:function(){VMM.master_config.wikipedia.que.length>0&&(trace("WIKIPEDIA PUSH QUE "+VMM.master_config.wikipedia.que.length),VMM.ExternalAPI.wikipedia.create(VMM.master_config.wikipedia.que[0],VMM.ExternalAPI.wikipedia.pushQue),VMM.master_config.wikipedia.que.remove(0))}},youtube:{get:function(t){var e="http://gdata.youtube.com/feeds/api/videos/"+t.id+"?v=2&alt=jsonc&callback=?";VMM.master_config.youtube.que.push(t),VMM.master_config.youtube.active||VMM.master_config.youtube.api_loaded||LoadLib.js("http://www.youtube.com/player_api",function(){trace("YouTube API Library Loaded")}),VMM.getJSON(e,function(e){VMM.ExternalAPI.youtube.createThumb(e,t)})},create:function(t){if("undefined"!=typeof t.start){var e=t.start.toString(),i=0,n=0;e.match("m")?(i=parseInt(e.split("m")[0],10),n=parseInt(e.split("m")[1].split("s")[0],10),t.start=60*i+n):t.start=0}else t.start=0;var s={active:!1,player:{},name:t.uid,playing:!1,hd:!1};"undefined"!=typeof t.hd&&(s.hd=!0),s.player[t.id]=new YT.Player(t.uid,{height:"390",width:"640",playerVars:{enablejsapi:1,color:"white",showinfo:0,theme:"light",start:t.start,rel:0},videoId:t.id,events:{onReady:VMM.ExternalAPI.youtube.onPlayerReady,onStateChange:VMM.ExternalAPI.youtube.onStateChange}}),VMM.master_config.youtube.array.push(s)},createThumb:function(t,e){if(trace("CREATE THUMB"),trace(t),trace(e),"undefined"!=typeof t.data){var i="#"+e.uid+"_thumb";VMM.attachElement(i,"<img src='"+t.data.thumbnail.sqDefault+"'>")}},pushQue:function(){for(var t=0;t<VMM.master_config.youtube.que.length;t++)VMM.ExternalAPI.youtube.create(VMM.master_config.youtube.que[t]);VMM.master_config.youtube.que=[]},onAPIReady:function(){VMM.master_config.youtube.active=!0,VMM.ExternalAPI.youtube.pushQue()},stopPlayers:function(){for(var t=0;t<VMM.master_config.youtube.array.length;t++)if(VMM.master_config.youtube.array[t].playing){var e=VMM.master_config.youtube.array[t].name;VMM.master_config.youtube.array[t].player[e].stopVideo()}},onStateChange:function(t){for(var e=0;e<VMM.master_config.youtube.array.length;e++){var i=VMM.master_config.youtube.array[e].name;VMM.master_config.youtube.array[e].player[i]==t.target&&t.data==YT.PlayerState.PLAYING&&(VMM.master_config.youtube.array[e].playing=!0,trace(VMM.master_config.youtube.array[e].hd),VMM.master_config.youtube.array[e].hd)}},onPlayerReady:function(){}},vimeo:{get:function(t){VMM.master_config.vimeo.que.push(t),VMM.master_config.vimeo.active=!0},create:function(t,e){trace("VIMEO CREATE");var i="http://vimeo.com/api/v2/video/"+t.id+".json",n="http://player.vimeo.com/video/"+t.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff";VMM.getJSON(i,function(i){VMM.ExternalAPI.vimeo.createThumb(i,t),e()}),VMM.attachElement("#"+t.uid,"<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+n+"'></iframe>")},createThumb:function(t,e){trace("VIMEO CREATE THUMB");var i="#"+e.uid+"_thumb";VMM.attachElement(i,"<img src='"+t[0].thumbnail_small+"'>")},pushQue:function(){VMM.master_config.vimeo.que.length>0&&(VMM.ExternalAPI.vimeo.create(VMM.master_config.vimeo.que[0],VMM.ExternalAPI.vimeo.pushQue),VMM.master_config.vimeo.que.remove(0))}},vine:{get:function(t){VMM.master_config.vine.que.push(t),VMM.master_config.vine.active=!0},create:function(t){trace("VINE CREATE");var e="https://vine.co/v/"+t.id+"/embed/simple";VMM.attachElement("#"+t.uid,"<iframe frameborder='0' width='100%' height='100%' src='"+e+"'></iframe><script async src='http://platform.vine.co/static/scripts/embed.js' charset='utf-8'></script>")},pushQue:function(){VMM.master_config.vine.que.length>0&&(VMM.ExternalAPI.vine.create(VMM.master_config.vine.que[0],VMM.ExternalAPI.vine.pushQue),VMM.master_config.vine.que.remove(0))}},webthumb:{get:function(t){VMM.master_config.webthumb.que.push(t),VMM.master_config.webthumb.active=!0},sizes:function(t){var e="";return e=150>=t?"t":306>=t?"m":"l"},create:function(t){trace("WEB THUMB CREATE");var e="http://free.pagepeeker.com/v2/thumbs.php?";url=t.id.replace("http://",""),VMM.attachElement("#"+t.uid,"<a href='"+t.id+"' target='_blank'><img src='"+e+"size=x&url="+url+"'></a>"),VMM.attachElement("#"+t.uid+"_thumb","<img src='"+e+"size=t&url="+url+"'>")},pushQue:function(){for(var t=0;t<VMM.master_config.webthumb.que.length;t++)VMM.ExternalAPI.webthumb.create(VMM.master_config.webthumb.que[t]);VMM.master_config.webthumb.que=[]}}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.MediaElement&&(VMM.MediaElement={init:function(){return this},loadingmessage:function(t){return"<div class='vco-loading'><div class='vco-loading-container'><div class='vco-loading-icon'></div><div class='vco-message'><p>"+t+"</p></div></div></div>"},thumbnail:function(t,e,i,n){var s=16,a=24,o="";if(null!=e&&""!=e&&(s=e),null!=i&&""!=i&&(a=i),null!=n&&""!=n&&(o=n),null!=t.media&&""!=t.media){var r="",l=VMM.MediaType(t.media);return null!=t.thumbnail&&""!=t.thumbnail?(trace("CUSTOM THUMB"),r="<div class='thumbnail thumb-custom' id='"+n+"_custom_thumb'><img src='"+t.thumbnail+"'></div>"):r="image"==l.type?"<div class='thumbnail thumb-photo'></div>":"flickr"==l.type?"<div class='thumbnail thumb-photo' id='"+n+"_thumb'></div>":"instagram"==l.type?"<div class='thumbnail thumb-instagram' id='"+n+"_thumb'><img src='"+VMM.ExternalAPI.instagram.get(l.id,!0)+"'></div>":"youtube"==l.type?"<div class='thumbnail thumb-youtube' id='"+n+"_thumb'></div>":"googledoc"==l.type?"<div class='thumbnail thumb-document'></div>":"vimeo"==l.type?"<div class='thumbnail thumb-vimeo' id='"+n+"_thumb'></div>":"vine"==l.type?"<div class='thumbnail thumb-vine'></div>":"dailymotion"==l.type?"<div class='thumbnail thumb-video'></div>":"twitter"==l.type?"<div class='thumbnail thumb-twitter'></div>":"twitter-ready"==l.type?"<div class='thumbnail thumb-twitter'></div>":"soundcloud"==l.type?"<div class='thumbnail thumb-audio'></div>":"google-map"==l.type?"<div class='thumbnail thumb-map'></div>":"googleplus"==l.type?"<div class='thumbnail thumb-googleplus'></div>":"wikipedia"==l.type?"<div class='thumbnail thumb-wikipedia'></div>":"storify"==l.type?"<div class='thumbnail thumb-storify'></div>":"quote"==l.type?"<div class='thumbnail thumb-quote'></div>":"iframe"==l.type?"<div class='thumbnail thumb-video'></div>":"unknown"==l.type?l.id.match("blockquote")?"<div class='thumbnail thumb-quote'></div>":"<div class='thumbnail thumb-plaintext'></div>":"website"==l.type?"<div class='thumbnail thumb-website' id='"+n+"_thumb'></div>":"<div class='thumbnail thumb-plaintext'></div>"}},create:function(t,e){var i=!1,n=VMM.MediaElement.loadingmessage(VMM.master_config.language.messages.loading+"...");if(null!=t.media&&""!=t.media){var s,a="",o="",r="",l="",c=!1;return s=VMM.MediaType(t.media),s.uid=e,i=!0,null!=t.credit&&""!=t.credit&&(r="<div class='credit'>"+VMM.Util.linkify_with_twitter(t.credit,"_blank")+"</div>"),null!=t.caption&&""!=t.caption&&(o="<div class='caption'>"+VMM.Util.linkify_with_twitter(t.caption,"_blank")+"</div>"),"image"==s.type?(s.id.match("https://")&&(s.id=s.id.replace("https://","http://")),a="<div class='media-image media-shadow'><img src='"+s.id+"' class='media-image'></div>"):"flickr"==s.type?(a="<div class='media-image media-shadow'><a href='"+s.link+"' target='_blank'><img id='"+e+"'></a></div>",VMM.ExternalAPI.flickr.get(s)):"instagram"==s.type?a="<div class='media-image media-shadow'><a href='"+s.link+"' target='_blank'><img src='"+VMM.ExternalAPI.instagram.get(s)+"'></a></div>":"googledoc"==s.type?(a="<div class='media-frame media-shadow doc' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.googledocs.get(s)):"youtube"==s.type?(a="<div class='media-shadow'><div class='media-frame video youtube' id='"+s.uid+"'>"+n+"</div></div>",VMM.ExternalAPI.youtube.get(s)):"vimeo"==s.type?(a="<div class='media-shadow media-frame video vimeo' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.vimeo.get(s)):"dailymotion"==s.type?a="<div class='media-shadow'><iframe class='media-frame video dailymotion' autostart='false' frameborder='0' width='100%' height='100%' src='http://www.dailymotion.com/embed/video/"+s.id+"'></iframe></div>":"vine"==s.type?(a="<div class='media-shadow media-frame video vine' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.vine.get(s)):"twitter"==s.type?(a="<div class='twitter' id='"+s.uid+"'>"+n+"</div>",c=!0,VMM.ExternalAPI.twitter.get(s)):"twitter-ready"==s.type?(c=!0,a=s.id):"soundcloud"==s.type?(a="<div class='media-frame media-shadow soundcloud' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.soundcloud.get(s)):"google-map"==s.type?(a="<div class='media-frame media-shadow map' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.googlemaps.get(s)):"googleplus"==s.type?(l="googleplus_"+s.id,a="<div class='googleplus' id='"+l+"'>"+n+"</div>",c=!0,VMM.ExternalAPI.googleplus.get(s)):"wikipedia"==s.type?(a="<div class='wikipedia' id='"+s.uid+"'>"+n+"</div>",c=!0,VMM.ExternalAPI.wikipedia.get(s)):"storify"==s.type?(c=!0,a="<div class='plain-text-quote'>"+s.id+"</div>"):"iframe"==s.type?(c=!0,a="<div class='media-shadow'><iframe class='media-frame video' autostart='false' frameborder='0' width='100%' height='100%' src='"+s.id+"'></iframe></div>"):"quote"==s.type?(c=!0,a="<div class='plain-text-quote'>"+s.id+"</div>"):"unknown"==s.type?(trace("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML"),c=!0,a="<div class='plain-text'><div class='container'>"+VMM.Util.properQuotes(s.id)+"</div></div>"):"website"==s.type?(a="<div class='media-shadow website' id='"+s.uid+"'>"+n+"</div>",VMM.ExternalAPI.webthumb.get(s)):(trace("NO KNOWN MEDIA TYPE FOUND"),trace(s.type)),a="<div class='media-container' >"+a+r+o+"</div>",c?"<div class='text-media'><div class='media-wrapper'>"+a+"</div></div>":"<div class='media-wrapper'>"+a+"</div>"}}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.MediaType&&(VMM.MediaType=function(t){var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=!1,n={type:"unknown",id:"",start:0,hd:!1,link:"",lang:VMM.Language.lang,uniqueid:VMM.Util.unique_ID(6)};if(e.match("div class='twitter'"))n.type="twitter-ready",n.id=e,i=!0;else if(e.match("(www.)?youtube|youtu.be"))e.match("v=")?n.id=VMM.Util.getUrlVars(e).v:e.match("/embed/")?n.id=e.split("embed/")[1].split(/[?&]/)[0]:e.match(/v\/|v=|youtu\.be\//)?n.id=e.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:trace("YOUTUBE IN URL BUT NOT A VALID VIDEO"),n.start=VMM.Util.getUrlVars(e).t,n.hd=VMM.Util.getUrlVars(e).hd,n.type="youtube",i=!0;else if(e.match("(player.)?vimeo.com"))n.type="vimeo",n.id=e.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0],i=!0;else if(e.match("(www.)?dailymotion.com"))n.id=e.split(/video\/|\/\/dailymotion\.com\//)[1],n.type="dailymotion",i=!0;else if(e.match("(www.)?vine.co"))trace("VINE"),e.match("vine.co/v/")&&(n.id=e.split("vine.co/v/")[1],trace(n.id)),trace(e),n.type="vine",i=!0;else if(e.match("(player.)?soundcloud.com"))n.type="soundcloud",n.id=e,i=!0;else if(e.match("(www.)?twitter.com")&&e.match("status"))n.id=e.match("status/")?e.split("status/")[1]:e.match("statuses/")?e.split("statuses/")[1]:"",n.type="twitter",i=!0;else if(e.match("maps.google")&&!e.match("staticmap"))n.type="google-map",n.id=e.split(/src=['|"][^'|"]*?['|"]/gi),i=!0;else if(e.match("plus.google"))n.type="googleplus",n.id=e.split("/posts/")[1],n.user=e.split("/posts/")[0].match("u/0/")?e.split("u/0/")[1].split("/posts")[0]:e.split("google.com/")[1].split("/posts/")[0],i=!0;else if(e.match("flickr.com/photos"))n.type="flickr",n.id=e.split("photos/")[1].split("/")[1],n.link=e,i=!0;else if(e.match("instagr.am/p/"))n.type="instagram",n.link=e,n.id=e.split("/p/")[1].split("/")[0],i=!0;else if(e.match(/jpg|jpeg|png|gif/i)||e.match("staticmap")||e.match("yfrog.com")||e.match("twitpic.com"))n.type="image",n.id=e,i=!0;else if(VMM.FileExtention.googleDocType(e))n.type="googledoc",n.id=e,i=!0;else if(e.match("(www.)?wikipedia.org")){n.type="wikipedia";var s=e.split("wiki/")[1].split("#")[0].replace("_"," ");n.id=s.replace(" ","%20"),n.lang=e.split("//")[1].split(".wikipedia")[0],i=!0}else 0==e.indexOf("http://")?(n.type="website",n.id=e,i=!0):e.match("storify")?(n.type="storify",n.id=e,i=!0):e.match("blockquote")?(n.type="quote",n.id=e,i=!0):e.match("iframe")?(n.type="iframe",trace("IFRAME"),trace(e.match(/src\=([^\s]*)\s/)[1].split(/"/)[1]),n.id=e.match(/src\=([^\s]*)\s/)[1].split(/"/)[1],i=!0):(trace("unknown media"),n.type="unknown",n.id=e,i=!0);return i?n:(trace("No valid media id detected"),trace(e),!1)}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.TextElement&&(VMM.TextElement={init:function(){return this},create:function(t){return t}}.init()),"undefined"!=typeof VMM&&"undefined"==typeof VMM.DragSlider&&(VMM.DragSlider=function(){function t(t,s){VMM.bindEvent(t,i,u.down,{element:s,delement:t}),VMM.bindEvent(t,n,u.up,{element:s,delement:t}),VMM.bindEvent(t,e,u.leave,{element:s,delement:t})}function e(t){return VMM.unbindEvent(t.data.delement,s,u.move),h.touch||t.preventDefault(),t.stopPropagation(),h.sliding?(h.sliding=!1,o(t.data.element,t.data.delement,t),!1):!0}function i(t){return a(t.data.element,t.data.delement,t),h.touch||t.preventDefault(),!0}function n(t){return h.touch||t.preventDefault(),h.sliding?(h.sliding=!1,o(t.data.element,t.data.delement,t),!1):!0}function s(t){r(t.data.element,t)}function a(t,e,i){h.touch?(trace("IS TOUCH"),VMM.Lib.css(t,"-webkit-transition-duration","0"),h.pagex.start=i.originalEvent.touches[0].screenX,h.pagey.start=i.originalEvent.touches[0].screenY):(h.pagex.start=i.pageX,h.pagey.start=i.pageY),h.left.start=c(t),h.time.start=(new Date).getTime(),VMM.Lib.stop(t),VMM.bindEvent(e,s,u.move,{element:t})
}function o(t,e,i){VMM.unbindEvent(e,s,u.move),l(t,i)}function r(t,e){var i;h.sliding=!0,h.touch?(h.pagex.end=e.originalEvent.touches[0].screenX,h.pagey.end=e.originalEvent.touches[0].screenY):(h.pagex.end=e.pageX,h.pagey.end=e.pageY),h.left.end=c(t),i=-(h.pagex.start-h.pagex.end-h.left.start),Math.abs(h.pagey.start)-Math.abs(h.pagey.end)>10&&(trace("SCROLLING Y"),trace(Math.abs(h.pagey.start)-Math.abs(h.pagey.end))),Math.abs(i-h.left.start)>10&&(VMM.Lib.css(t,"left",i),e.preventDefault(),e.stopPropagation())}function l(t){var e={left:h.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-h.time.start),time_adjust:10*((new Date).getTime()-h.time.start)},i=3e3;h.touch&&(i=6e3),e.change.x=i*(Math.abs(h.pagex.end)-Math.abs(h.pagex.start)),e.left_adjust=Math.round(e.change.x/e.time),e.left=Math.min(e.left+e.left_adjust),h.constraint&&(e.left>h.constraint.left?(e.left=h.constraint.left,e.time>5e3&&(e.time=5e3)):e.left<h.constraint.right&&(e.left=h.constraint.right,e.time>5e3&&(e.time=5e3))),VMM.fireEvent(f,"DRAGUPDATE",[e]),m||e.time>0&&(h.touch?VMM.Lib.animate(t,e.time,"easeOutCirc",{left:e.left}):VMM.Lib.animate(t,e.time,h.ease,{left:e.left}))}function c(t){return parseInt(VMM.Lib.css(t,"left").substring(0,VMM.Lib.css(t,"left").length-2),10)}var h={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},pagey:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},u={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},d={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},p={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},f=this,m=!1;this.createPanel=function(e,i,n,s,a){h.element=e,h.element_move=i,null!=a&&""!=a&&(m=a),h.constraint=null!=n&&""!=n?n:!1,h.touch=s?s:!1,trace("TOUCH"+h.touch),u=h.touch?p:d,t(h.element,h.element_move)},this.updateConstraint=function(t){trace("updateConstraint"),h.constraint=t},this.cancelSlide=function(){return VMM.unbindEvent(h.element,s,u.move),!0}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Slider&&(VMM.Slider=function(t,e){function i(t,e){var i=!0,n=!1;null!=t&&(i=t),null!=e&&(n=e),I=_.slider.width,_.slider.nav.height=VMM.Lib.height(j.prevBtnContainer),_.slider.content.padding="mobile"==VMM.Browser.device||640>=I?10:_.slider.content.padding_default,_.slider.content.width=I-2*_.slider.content.padding,VMM.Lib.width(C,V.length*_.slider.content.width),n&&VMM.Lib.css(k,"left",V[A].leftpos()),d(),p(),VMM.Lib.css(j.nextBtn,"left",I-_.slider.nav.width),VMM.Lib.height(j.prevBtn,_.slider.height),VMM.Lib.height(j.nextBtn,_.slider.height),VMM.Lib.css(j.nextBtnContainer,"top",_.slider.height/2-_.slider.nav.height/2+10),VMM.Lib.css(j.prevBtnContainer,"top",_.slider.height/2-_.slider.nav.height/2+10),VMM.Lib.height(x,_.slider.height),VMM.Lib.width(x,I),i&&f(A,"linear",1),0==A&&VMM.Lib.visible(j.prevBtn,!1)}function n(t,e){trace("DRAG FINISH"),trace(e.left_adjust),trace(_.slider.width/2),e.left_adjust<0?Math.abs(e.left_adjust)>_.slider.width/2?A==V.length-1?m():(f(A+1,"easeOutExpo"),l()):m():Math.abs(e.left_adjust)>_.slider.width/2?0==A?m():(f(A-1,"easeOutExpo"),l()):m()}function s(){A==V.length-1?m():(f(A+1),l())}function a(){0==A?m():(f(A-1),l())}function o(t){switch(t.keyCode){case 39:s(t);break;case 37:a(t)}}function r(){v()}function l(){_.current_slide=A,VMM.fireEvent(P,"UPDATE")}function c(t){var e=0;for(VMM.attachElement(C,""),V=[],e=0;e<t.length;e++){var i=new VMM.Slider.Slide(t[e],C);V.push(i)}}function h(t){var e=0;if(t)u();else{for(e=0;e<V.length;e++)V[e].clearTimers();M=setTimeout(u,_.duration)}}function u(){var t=0;for(t=0;t<V.length;t++)V[t].enqueue=!0;for(t=0;t<_.preload;t++)A+t>V.length-1||(V[A+t].show(),V[A+t].enqueue=!1),0>A-t||(V[A-t].show(),V[A-t].enqueue=!1);if(V.length>50)for(t=0;t<V.length;t++)V[t].enqueue&&V[t].hide();d()}function d(){var t=0,e=".slider-item .layout-text-media .media .media-container ",i=".slider-item .layout-media .media .media-container ",n=".slider-item .media .media-container",s=!1,a={text_media:{width:_.slider.content.width/100*60,height:_.slider.height-60,video:{width:0,height:0},text:{width:_.slider.content.width/100*40-30,height:_.slider.height}},media:{width:_.slider.content.width,height:_.slider.height-110,video:{width:0,height:0}}};for(("mobile"==VMM.Browser.device||641>I)&&(s=!0),VMM.master_config.sizes.api.width=a.media.width,VMM.master_config.sizes.api.height=a.media.height,a.text_media.video=VMM.Util.ratio.fit(a.text_media.width,a.text_media.height,16,9),a.media.video=VMM.Util.ratio.fit(a.media.width,a.media.height,16,9),VMM.Lib.css(".slider-item","width",_.slider.content.width),VMM.Lib.height(".slider-item",_.slider.height),s?(a.text_media.width=_.slider.content.width-2*_.slider.content.padding,a.media.width=_.slider.content.width-2*_.slider.content.padding,a.text_media.height=_.slider.height/100*50-50,a.media.height=_.slider.height/100*70-40,a.text_media.video=VMM.Util.ratio.fit(a.text_media.width,a.text_media.height,16,9),a.media.video=VMM.Util.ratio.fit(a.media.width,a.media.height,16,9),VMM.Lib.css(".slider-item .layout-text-media .text","width","100%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width",a.media.width),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .media","float","none"),VMM.Lib.addClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .media blockquote p","line-height","18px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","16px"),VMM.Lib.css(".slider-item","overflow-y","auto")):(VMM.Lib.css(".slider-item .layout-text-media .text","width","40%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width",a.text_media.text.width),VMM.Lib.removeClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .layout-text-media .media","float","left"),VMM.Lib.css(".slider-item .layout-text-media","display","table"),VMM.Lib.css(".slider-item .media blockquote p","line-height","36px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","28px"),VMM.Lib.css(".slider-item","display","table"),VMM.Lib.css(".slider-item","overflow-y","auto")),VMM.Lib.css(e+".media-frame","max-width",a.text_media.width),VMM.Lib.height(e+".media-frame",a.text_media.height),VMM.Lib.width(e+".media-frame",a.text_media.width),VMM.Lib.css(e+"img","max-height",a.text_media.height),VMM.Lib.css(i+"img","max-height",a.media.height),VMM.Lib.css(e+"img","max-width",a.text_media.width),VMM.Lib.css(e+".avatar img","max-width",32),VMM.Lib.css(e+".avatar img","max-height",32),VMM.Lib.css(i+".avatar img","max-width",32),VMM.Lib.css(i+".avatar img","max-height",32),VMM.Lib.css(e+".article-thumb","max-width","50%"),VMM.Lib.css(i+".article-thumb","max-width",200),VMM.Lib.width(e+".media-frame",a.text_media.video.width),VMM.Lib.height(e+".media-frame",a.text_media.video.height),VMM.Lib.width(i+".media-frame",a.media.video.width),VMM.Lib.height(i+".media-frame",a.media.video.height),VMM.Lib.css(i+".media-frame","max-height",a.media.video.height),VMM.Lib.css(i+".media-frame","max-width",a.media.video.width),VMM.Lib.height(i+".soundcloud",168),VMM.Lib.height(e+".soundcloud",168),VMM.Lib.width(i+".soundcloud",a.media.width),VMM.Lib.width(e+".soundcloud",a.text_media.width),VMM.Lib.css(n+".soundcloud","max-height",168),VMM.Lib.height(e+".map",a.text_media.height),VMM.Lib.width(e+".map",a.text_media.width),VMM.Lib.css(i+".map","max-height",a.media.height),VMM.Lib.width(i+".map",a.media.width),VMM.Lib.height(e+".doc",a.text_media.height),VMM.Lib.width(e+".doc",a.text_media.width),VMM.Lib.height(i+".doc",a.media.height),VMM.Lib.width(i+".doc",a.media.width),VMM.Lib.width(i+".wikipedia",a.media.width),VMM.Lib.width(i+".twitter",a.media.width),VMM.Lib.width(i+".plain-text-quote",a.media.width),VMM.Lib.width(i+".plain-text",a.media.width),VMM.Lib.css(n,"max-width",a.media.width),VMM.Lib.css(e+".caption","max-width",a.text_media.video.width),VMM.Lib.css(i+".caption","max-width",a.media.video.width),t=0;t<V.length;t++)V[t].layout(s),V[t].content_height()>_.slider.height+20?V[t].css("display","block"):V[t].css("display","table")}function p(){var t=0,e=0;for(e=0;e<V.length;e++)t=e*(_.slider.width+_.spacing),V[e].leftpos(t)}function f(t,e,i,n,s){var a,o=_.ease,r=_.duration,l=!1,c=!1,u="";if(VMM.ExternalAPI.youtube.stopPlayers(),A=t,a=V[A].leftpos(),0==A&&(c=!0),A+1>=V.length&&(l=!0),null!=e&&""!=e&&(o=e),null!=i&&""!=i&&(r=i),"mobile"==VMM.Browser.device?(VMM.Lib.visible(j.prevBtn,!1),VMM.Lib.visible(j.nextBtn,!1)):(c?VMM.Lib.visible(j.prevBtn,!1):(VMM.Lib.visible(j.prevBtn,!0),u=VMM.Util.unlinkify(E[A-1].title),"timeline"==_.type?"undefined"==typeof E[A-1].date?(VMM.attachElement(j.prevDate,u),VMM.attachElement(j.prevTitle,"")):(VMM.attachElement(j.prevDate,VMM.Date.prettyDate(E[A-1].startdate,!1,E[A-1].precisiondate)),VMM.attachElement(j.prevTitle,u)):VMM.attachElement(j.prevTitle,u)),l?VMM.Lib.visible(j.nextBtn,!1):(VMM.Lib.visible(j.nextBtn,!0),u=VMM.Util.unlinkify(E[A+1].title),"timeline"==_.type?"undefined"==typeof E[A+1].date?(VMM.attachElement(j.nextDate,u),VMM.attachElement(j.nextTitle,"")):(VMM.attachElement(j.nextDate,VMM.Date.prettyDate(E[A+1].startdate,!1,E[A+1].precisiondate)),VMM.attachElement(j.nextTitle,u)):VMM.attachElement(j.nextTitle,u))),n?VMM.Lib.css(k,"left",-(a-_.slider.content.padding)):(VMM.Lib.stop(k),VMM.Lib.animate(k,r,o,{left:-(a-_.slider.content.padding)})),s&&VMM.fireEvent(P,"LOADED"),V[A].height()>_.slider_height)VMM.Lib.css(".slider","overflow-y","scroll");else{VMM.Lib.css(P,"overflow-y","hidden");var d=0;try{d=VMM.Lib.prop(P,"scrollHeight"),VMM.Lib.animate(P,r,o,{scrollTop:d-VMM.Lib.height(P)})}catch(p){d=VMM.Lib.height(P)}}h(),VMM.fireEvent(w,"MESSAGE","TEST")}function m(){VMM.Lib.stop(k),VMM.Lib.animate(k,_.duration,"easeOutExpo",{left:-V[A].leftpos()+_.slider.content.padding})}function g(t,e){trace("showMessege "+e),VMM.attachElement(D,"<div class='vco-explainer'><div class='vco-explainer-container'><div class='vco-bezel'><div class='vco-gesture-icon'></div><div class='vco-message'><p>"+e+"</p></div></div></div></div>")}function v(){VMM.Lib.detach(D)}function b(){var t="<div class='icon'>&nbsp;</div>";j.nextBtn=VMM.appendAndGetElement(w,"<div>","nav-next"),j.prevBtn=VMM.appendAndGetElement(w,"<div>","nav-previous"),j.nextBtnContainer=VMM.appendAndGetElement(j.nextBtn,"<div>","nav-container",t),j.prevBtnContainer=VMM.appendAndGetElement(j.prevBtn,"<div>","nav-container",t),"timeline"==_.type&&(j.nextDate=VMM.appendAndGetElement(j.nextBtnContainer,"<div>","date",""),j.prevDate=VMM.appendAndGetElement(j.prevBtnContainer,"<div>","date","")),j.nextTitle=VMM.appendAndGetElement(j.nextBtnContainer,"<div>","title",""),j.prevTitle=VMM.appendAndGetElement(j.prevBtnContainer,"<div>","title",""),VMM.bindEvent(".nav-next",s),VMM.bindEvent(".nav-previous",a),VMM.bindEvent(window,o,"keydown")}function y(){var t=3e3;VMM.attachElement(P,""),w=VMM.getElement(P),x=VMM.appendAndGetElement(w,"<div>","slider-container-mask"),k=VMM.appendAndGetElement(x,"<div>","slider-container"),C=VMM.appendAndGetElement(k,"<div>","slider-item-container"),b(),c(E),("tablet"==VMM.Browser.device||"mobile"==VMM.Browser.device)&&(_.duration=500,t=1e3,T=new VMM.DragSlider,T.createPanel(w,k,"",_.touch,!0),VMM.bindEvent(T,n,"DRAGUPDATE"),D=VMM.appendAndGetElement(x,"<div>","vco-feedback",""),g(null,"Swipe to Navigate"),VMM.Lib.height(D,_.slider.height),VMM.bindEvent(D,r),VMM.bindEvent(D,r,"touchend")),i(!1,!0),VMM.Lib.visible(j.prevBtn,!1),f(_.current_slide,"easeOutExpo",t,!0,!0),L=!0}var _,M,w,x,k,C,T,D,E=[],V=[],S=[],A=0,I=960,L=!1,P=t,j={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};_="undefined"!=typeof e?e:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,ajax_timeout:3e3,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}},this.ver="0.6",_.slider.width=_.width,_.slider.height=_.height,this.init=function(t){V=[],S=[],"undefined"!=typeof t?this.setData(t):trace("WAITING ON DATA")},this.width=function(t){return null==t||""==t?_.slider.width:(_.slider.width=t,void i())},this.height=function(t){return null==t||""==t?_.slider.height:(_.slider.height=t,void i())},this.setData=function(t){"undefined"!=typeof t?(E=t,y()):trace("NO DATA")},this.getData=function(){return E},this.setConfig=function(t){"undefined"!=typeof t?_=t:trace("NO CONFIG DATA")},this.getConfig=function(){return _},this.setSize=function(t,e){null!=t&&(_.slider.width=t),null!=e&&(_.slider.height=e),L&&i()},this.active=function(){return L},this.getCurrentNumber=function(){return A},this.setSlide=function(t){f(t)}}),"undefined"!=typeof VMM.Slider&&(VMM.Slider.Slide=function(t,e){var i,n,s,a,o,r,l=t,o="",c=!1,h=!1,u=!1,d=!0,p=!1,f="slide_",m={pushque:"",render:"",relayout:"",remove:"",skinny:!1},g={pushque:500,render:100,relayout:100,remove:3e4};f+=l.uniqueid,this.enqueue=d,this.id=f,o=VMM.appendAndGetElement(e,"<div>","slider-item"),"undefined"!=typeof l.classname?(trace("HAS CLASSNAME"),VMM.Lib.addClass(o,l.classname)):(trace("NO CLASSNAME"),trace(l)),r={slide:"",text:"",media:"",media_element:"",layout:"content-container layout",has:{headline:!1,text:!1,media:!1}},this.show=function(t){d=!1,m.skinny=t,p=!1,clearTimeout(m.remove),c||(h?(clearTimeout(m.relayout),m.relayout=setTimeout(y,g.relayout)):v(t))},this.hide=function(){c&&!p&&(p=!0,clearTimeout(m.remove),m.remove=setTimeout(b,g.remove))},this.clearTimers=function(){clearTimeout(m.relayout),clearTimeout(m.pushque),clearTimeout(m.render)},this.layout=function(t){c&&h&&_(t)},this.elem=function(){return o},this.position=function(){return VMM.Lib.position(o)},this.leftpos=function(t){return"undefined"==typeof t?VMM.Lib.position(o).left:void VMM.Lib.css(o,"left",t)},this.animate=function(t,e,i){VMM.Lib.animate(o,t,e,i)},this.css=function(t,e){VMM.Lib.css(o,t,e)},this.opacity=function(t){VMM.Lib.css(o,"opacity",t)},this.width=function(){return VMM.Lib.width(o)},this.height=function(){return VMM.Lib.height(o)},this.content_height=function(){var t=VMM.Lib.find(o,".content")[0];return"undefined"!=t&&null!=t?VMM.Lib.height(t):0};var v=function(t){trace("RENDER "+f),c=!0,h=!0,m.skinny=t,M(),clearTimeout(m.pushque),clearTimeout(m.render),m.pushque=setTimeout(VMM.ExternalAPI.pushQues,g.pushque)},b=function(){trace("REMOVE SLIDE TIMER FINISHED"),c=!1,VMM.Lib.detach(n),VMM.Lib.detach(i)},y=function(){c=!0,_(m.skinny,!0)},_=function(t,e){r.has.text?t?(!u||e)&&(VMM.Lib.removeClass(s,"pad-left"),VMM.Lib.detach(n),VMM.Lib.detach(i),VMM.Lib.append(s,n),VMM.Lib.append(s,i),u=!0):(u||e)&&(VMM.Lib.addClass(s,"pad-left"),VMM.Lib.detach(n),VMM.Lib.detach(i),VMM.Lib.append(s,i),VMM.Lib.append(s,n),u=!1):e&&(r.has.headline&&(VMM.Lib.detach(n),VMM.Lib.append(s,n)),VMM.Lib.detach(i),VMM.Lib.append(s,i))},M=function(){if(trace("BUILDSLIDE"),a=VMM.appendAndGetElement(o,"<div>","content"),s=VMM.appendAndGetElement(a,"<div>"),null!=l.startdate&&""!=l.startdate&&"date"==type.of(l.startdate)&&"start"!=l.type){var t=VMM.Date.prettyDate(l.startdate,!1,l.precisiondate),e=VMM.Date.prettyDate(l.enddate,!1,l.precisiondate),c="";null!=l.tag&&""!=l.tag&&(c=VMM.createElement("span",l.tag,"slide-tag")),r.text+=t!=e?VMM.createElement("h2",t+" &mdash; "+e+c,"date"):VMM.createElement("h2",t+c,"date")}null!=l.headline&&""!=l.headline&&(r.has.headline=!0,r.text+="start"==l.type?VMM.createElement("h2",VMM.Util.linkify_with_twitter(l.headline,"_blank"),"start"):VMM.createElement("h3",VMM.Util.linkify_with_twitter(l.headline,"_blank"))),null!=l.text&&""!=l.text&&(r.has.text=!0,r.text+=VMM.createElement("p",VMM.Util.linkify_with_twitter(l.text,"_blank"))),(r.has.text||r.has.headline)&&(r.text=VMM.createElement("div",r.text,"container"),n=VMM.appendAndGetElement(s,"<div>","text",VMM.TextElement.create(r.text))),l.needs_slug,null!=l.asset&&""!=l.asset&&null!=l.asset.media&&""!=l.asset.media&&(r.has.media=!0,i=VMM.appendAndGetElement(s,"<div>","media",VMM.MediaElement.create(l.asset,l.uniqueid))),r.has.text&&(r.layout+="-text"),r.has.media&&(r.layout+="-media"),r.has.text?m.skinny?(VMM.Lib.addClass(s,r.layout),u=!0):(VMM.Lib.addClass(s,r.layout),VMM.Lib.addClass(s,"pad-left"),VMM.Lib.detach(n),VMM.Lib.append(s,n)):VMM.Lib.addClass(s,r.layout)}}),function(t,e,i,n){"use strict";var s=i("html"),a=i(t),o=i(e),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,h=e.createTouch!==n,u=function(t){return t&&t.hasOwnProperty&&t instanceof i},d=function(t){return t&&"string"===i.type(t)},p=function(t){return d(t)&&t.indexOf("%")>0},f=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},m=function(t,e){var i=parseInt(t,10)||0;return e&&p(t)&&(i=r.getViewport()[e]/100*i),Math.ceil(i)},g=function(t,e){return m(t,e)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(i.isPlainObject(e)||(e={}),!1!==r.close(!0))?(i.isArray(t)||(t=u(t)?i(t).get():[t]),i.each(t,function(s,a){var o,l,c,h,p,f,m,g={};"object"===i.type(a)&&(a.nodeType&&(a=i(a)),u(a)?(g={href:a.data("fancybox-href")||a.attr("href"),title:a.data("fancybox-title")||a.attr("title"),isDom:!0,element:a},i.metadata&&i.extend(!0,g,a.metadata())):g=a),o=e.href||g.href||(d(a)?a:null),l=e.title!==n?e.title:g.title||"",c=e.content||g.content,h=c?"html":e.type||g.type,!h&&g.isDom&&(h=a.data("fancybox-type"),h||(p=a.prop("class").match(/fancybox\.(\w+)/),h=p?p[1]:null)),d(o)&&(h||(r.isImage(o)?h="image":r.isSWF(o)?h="swf":"#"===o.charAt(0)?h="inline":d(a)&&(h="html",c=a)),"ajax"===h&&(f=o.split(/\s+/,2),o=f.shift(),m=f.shift())),c||("inline"===h?o?c=i(d(o)?o.replace(/.*(?=#[^\s]+$)/,""):o):g.isDom&&(c=a):"html"===h?c=o:h||o||!g.isDom||(h="inline",c=a)),i.extend(g,{href:o,type:h,content:c,title:l,selector:m}),t[s]=g}),r.opts=i.extend(!0,{},r.defaults,e),e.keys!==n&&(r.opts.keys=e.keys?i.extend({},r.defaults.keys,e.keys):!1),r.group=t,r._start(r.opts.index)):void 0},cancel:function(){var t=r.coming;t&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t))},close:function(t){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&t!==!0?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},i=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){e(),o.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")},s=function(){r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),r.trigger("onPlayStart"))};t===!0||!r.player.isActive&&t!==!1?s():n()},next:function(t){var e=r.current;e&&(d(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(d(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var s=r.current;s&&(t=m(t),r.direction=e||s.direction[t>=s.index?"next":"prev"],r.router=i||"jumpto",s.loop&&(0>t&&(t=s.group.length+t%s.group.length),t%=s.group.length),s.group[t]!==n&&(r.cancel(),r._start(t)))},reposition:function(t,e){var n,s=r.current,a=s?s.wrap:null;a&&(n=r._getPosition(e),t&&"scroll"===t.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),s.pos=i.extend({},s.dim,n)))},update:function(t){var e=t&&t.type,i=!e||"orientationchange"===e;i&&(clearTimeout(c),c=null),r.isOpen&&!c&&(c=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&r._setDimension(),"scroll"===e&&n.canShrink||r.reposition(t),r.trigger("onUpdate"),c=null)},i&&!h?0:300))},toggle:function(t){r.isOpen&&(r.current.fitToView="boolean"===i.type(t)?t:!r.current.fitToView,h&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){o.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;r.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),o.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(e=r.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=r.current&&r.current.locked||!1,i={x:a.scrollLeft(),y:a.scrollTop()};return e?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=h&&t.innerWidth?t.innerWidth:a.width(),i.h=h&&t.innerHeight?t.innerHeight:a.height()),i},unbindEvents:function(){r.wrap&&u(r.wrap)&&r.wrap.unbind(".fb"),o.unbind(".fb"),a.unbind(".fb")},bindEvents:function(){var t,e=r.current;e&&(a.bind("orientationchange.fb"+(h?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),r.update),t=e.keys,t&&o.bind("keydown.fb",function(s){var a=s.which||s.keyCode,o=s.target||s.srcElement;return 27===a&&r.coming?!1:void(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||o&&(o.type||i(o).is("[contenteditable]"))||i.each(t,function(t,o){return e.group.length>1&&o[a]!==n?(r[t](o[a]),s.preventDefault(),!1):i.inArray(a,o)>-1?(r[t](),s.preventDefault(),!1):void 0}))}),i.fn.mousewheel&&e.mouseWheel&&r.wrap.bind("mousewheel.fb",function(t,n,s,a){for(var o=t.target||null,l=i(o),c=!1;l.length&&!(c||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)c=f(l[0]),l=i(l).parent();0===n||c||r.group.length>1&&!e.canShrink&&(a>0||s>0?r.prev(a>0?"down":"left"):(0>a||0>s)&&r.next(0>a?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,s=e||r.coming||r.current;if(s){if(i.isFunction(s[t])&&(n=s[t].apply(s,Array.prototype.slice.call(arguments,1))),n===!1)return!1;s.helpers&&i.each(s.helpers,function(e,n){n&&r.helpers[e]&&i.isFunction(r.helpers[e][t])&&r.helpers[e][t](i.extend(!0,{},r.helpers[e].defaults,n),s)}),o.trigger(t)}},isImage:function(t){return d(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return d(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,s,a,o,l={};if(t=m(t),e=r.group[t]||null,!e)return!1;if(l=i.extend(!0,{},r.opts,e),a=l.margin,o=l.padding,"number"===i.type(a)&&(l.margin=[a,a,a,a]),"number"===i.type(o)&&(l.padding=[o,o,o,o]),l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=r.group,l.index=t,r.coming=l,!1===r.trigger("beforeLoad"))return void(r.coming=null);if(s=l.type,n=l.href,!s)return r.coming=null,r.current&&r.router&&"jumpto"!==r.router?(r.current.index=t,r[r.router](r.direction)):!1;if(r.isActive=!0,("image"===s||"swf"===s)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===s&&(l.aspectRatio=!0),"iframe"===s&&h&&(l.scrolling="scroll"),l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+s+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,g(l.padding[t]))}),r.trigger("onReady"),"inline"===s||"html"===s){if(!l.content||!l.content.length)return r._error("content")}else if(!n)return r._error("href");"image"===s?r._loadImage():"ajax"===s?r._loadAjax():"iframe"===s?r._loadIframe():r._afterLoad()},_error:function(t){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},t.src=r.coming.href,t.complete!==!0&&r.showLoading()},_loadAjax:function(){var t=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,r._afterLoad())}}))},_loadIframe:function(){var t=r.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",h?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(r.showLoading(),e.one("load",function(){i(this).data("ready",1),h||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||r._afterLoad()},_preloadImages:function(){var t,e,i=r.group,n=r.current,s=i.length,a=n.preload?Math.min(n.preload,s-1):0;for(e=1;a>=e;e+=1)t=i[(n.index+e)%s],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,s,a,o,l=r.coming,c=r.current,h="fancybox-placeholder";if(r.hideLoading(),l&&r.isActive!==!1){if(!1===r.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),void(r.coming=null);switch(c&&(r.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),t=l,e=l.content,n=l.type,s=l.scrolling,i.extend(r,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:c}),a=t.href,n){case"inline":case"ajax":case"html":t.selector?e=i("<div>").html(e).find(t.selector):u(e)&&(e.data(h)||e.data(h,i('<div class="'+h+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data(h)).data(h,!1)}));break;case"image":e=t.tpl.image.replace("{href}",a);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',o="",i.each(t.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',o+=" "+t+'="'+i+'"'}),e+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}u(e)&&e.parent().is(t.inner)||t.inner.append(e),r.trigger("beforeShow"),t.inner.css("overflow","yes"===s?"scroll":"no"===s?"hidden":s),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?c.prevMethod&&r.transitions[c.prevMethod]():i(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?t.nextMethod:t.openMethod](),r._preloadImages()}},_setDimension:function(){var t,e,n,s,a,o,l,c,h,u,d,f,v,b,y,_=r.getViewport(),M=0,w=!1,x=!1,k=r.wrap,C=r.skin,T=r.inner,D=r.current,E=D.width,V=D.height,S=D.minWidth,A=D.minHeight,I=D.maxWidth,L=D.maxHeight,P=D.scrolling,j=D.scrollOutside?D.scrollbarWidth:0,N=D.margin,O=m(N[1]+N[3]),F=m(N[0]+N[2]);if(k.add(C).add(T).width("auto").height("auto").removeClass("fancybox-tmp"),t=m(C.outerWidth(!0)-C.width()),e=m(C.outerHeight(!0)-C.height()),n=O+t,s=F+e,a=p(E)?(_.w-n)*m(E)/100:E,o=p(V)?(_.h-s)*m(V)/100:V,"iframe"===D.type){if(b=D.content,D.autoHeight&&1===b.data("ready"))try{b[0].contentWindow.document.location&&(T.width(a).height(9999),y=b.contents().find("body"),j&&y.css("overflow-x","hidden"),o=y.outerHeight(!0))}catch(H){}}else(D.autoWidth||D.autoHeight)&&(T.addClass("fancybox-tmp"),D.autoWidth||T.width(a),D.autoHeight||T.height(o),D.autoWidth&&(a=T.width()),D.autoHeight&&(o=T.height()),T.removeClass("fancybox-tmp"));if(E=m(a),V=m(o),h=a/o,S=m(p(S)?m(S,"w")-n:S),I=m(p(I)?m(I,"w")-n:I),A=m(p(A)?m(A,"h")-s:A),L=m(p(L)?m(L,"h")-s:L),l=I,c=L,D.fitToView&&(I=Math.min(_.w-n,I),L=Math.min(_.h-s,L)),f=_.w-O,v=_.h-F,D.aspectRatio?(E>I&&(E=I,V=m(E/h)),V>L&&(V=L,E=m(V*h)),S>E&&(E=S,V=m(E/h)),A>V&&(V=A,E=m(V*h))):(E=Math.max(S,Math.min(E,I)),D.autoHeight&&"iframe"!==D.type&&(T.width(E),V=T.height()),V=Math.max(A,Math.min(V,L))),D.fitToView)if(T.width(E).height(V),k.width(E+t),u=k.width(),d=k.height(),D.aspectRatio)for(;(u>f||d>v)&&E>S&&V>A&&!(M++>19);)V=Math.max(A,Math.min(L,V-10)),E=m(V*h),S>E&&(E=S,V=m(E/h)),E>I&&(E=I,V=m(E/h)),T.width(E).height(V),k.width(E+t),u=k.width(),d=k.height();else E=Math.max(S,Math.min(E,E-(u-f))),V=Math.max(A,Math.min(V,V-(d-v)));j&&"auto"===P&&o>V&&f>E+t+j&&(E+=j),T.width(E).height(V),k.width(E+t),u=k.width(),d=k.height(),w=(u>f||d>v)&&E>S&&V>A,x=D.aspectRatio?l>E&&c>V&&a>E&&o>V:(l>E||c>V)&&(a>E||o>V),i.extend(D,{dim:{width:g(u),height:g(d)},origWidth:a,origHeight:o,canShrink:w,canExpand:x,wPadding:t,hPadding:e,wrapSpace:d-C.outerHeight(!0),skinSpace:C.height()-V}),!b&&D.autoHeight&&V>A&&L>V&&!x&&T.height("auto")},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,s=r.wrap.width()+n[1]+n[3],a=r.wrap.height()+n[0]+n[2],o={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&a<=i.h&&s<=i.w?o.position="fixed":e.locked||(o.top+=i.y,o.left+=i.x),o.top=g(Math.max(o.top,o.top+(i.h-a)*e.topRatio)),o.left=g(Math.max(o.left,o.left+(i.w-s)*e.leftRatio)),o},_afterZoomIn:function(){var t=r.current;t&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(t.closeClick||t.nextClick&&r.group.length>1)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){i(e.target).is("a")||i(e.target).parent().is("a")||(e.preventDefault(),r[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()
}),t.arrows&&r.group.length>1&&((t.loop||t.index>0)&&i(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&i(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),t.loop||t.index!==t.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(t){t=t||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,i=t.orig,n={},s=50,a=50,o=t.hPadding,l=t.wPadding,c=r.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),u(i)?(n=i.offset(),i.is("img")&&(s=i.outerWidth(),a=i.outerHeight())):(n.top=c.y+(c.h-a)*t.topRatio,n.left=c.x+(c.w-s)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(n.top-=c.y,n.left-=c.x),n={top:g(n.top-o*t.topRatio),left:g(n.left-l*t.leftRatio),width:g(s+l),height:g(a+o)}},step:function(t,e){var i,n,s,a=e.prop,o=r.current,l=o.wrapSpace,c=o.skinSpace;("width"===a||"height"===a)&&(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(i=1-i),n="width"===a?o.wPadding:o.hPadding,s=t-n,r.skin[a](m("width"===a?s:s-l*i)),r.inner[a](m("width"===a?s:s-l*i-c*i)))},zoomIn:function(){var t=r.current,e=t.pos,n=t.openEffect,s="elastic"===n,a=i.extend({opacity:1},e);delete a.position,s?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),r.wrap.css(e).animate(a,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:s?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t,e=r.current,i=e.nextEffect,n=e.pos,s={opacity:1},a=r.direction,o=200;n.opacity=.1,"elastic"===i&&(t="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[t]=g(m(n[t])-o),s[t]="+="+o+"px"):(n[t]=g(m(n[t])+o),s[t]="-="+o+"px")),"none"===i?r._afterZoomIn():r.wrap.css(n).animate(s,{duration:e.nextSpeed,easing:e.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.previous,e=t.prevEffect,n={opacity:.1},s=r.direction,a=200;"elastic"===e&&(n["down"===s||"up"===s?"top":"left"]=("up"===s||"left"===s?"-":"+")+"="+a+"px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(t){t=i.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:t.parent),this.fixed=!1,t.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(a.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){return i(t.target).hasClass("fancybox-overlay")?(r.isActive?r.close():e.close(),!1):void 0}),this.overlay.css(t.css).show()},close:function(){var t,e;a.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),t=a.scrollTop(),e=a.scrollLeft(),this.el.removeClass("fancybox-lock"),a.scrollTop(t).scrollLeft(e)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var t,i="100%";this.overlay.width(i).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),o.width()>t&&(i=o.width())):o.width()>a.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(t,e){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(n||(this.margin=o.height()>a.height()?i("html").css("margin-right").replace("px",""):!1),e.locked=this.overlay.append(e.wrap),e.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var n,s;e.locked&&(this.margin!==!1&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=a.scrollTop(),s=a.scrollLeft(),this.el.addClass("fancybox-lock"),a.scrollTop(n).scrollLeft(s)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!r.coming&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,s=r.current,a=s.title,o=t.type;if(i.isFunction(a)&&(a=a.call(s.element,s)),d(a)&&""!==i.trim(a)){switch(e=i('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+a+"</div>"),o){case"inside":n=r.skin;break;case"outside":n=r.wrap;break;case"over":n=r.inner;break;default:n=r.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(m(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(t){var e,n=i(this),s=this.selector||"",a=function(a){var o,l,c=i(this).blur(),h=e;a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||c.is(".fancybox-wrap")||(o=t.groupAttr||"data-fancybox-group",l=c.attr(o),l||(o="rel",l=c.get(0)[o]),l&&""!==l&&"nofollow"!==l&&(c=s.length?i(s):n,c=c.filter("["+o+'="'+l+'"]'),h=c.index(this)),t.index=h,r.open(c,t)!==!1&&a.preventDefault())};return t=t||{},e=t.index||0,s&&t.live!==!1?o.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):n.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){var e,a;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=function(){var t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),e=i(t).width(),s.addClass("fancybox-lock-test"),a=i(t).width(),s.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(a-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);var Aes={};Aes.cipher=function(t,e){for(var i=4,n=e.length/i-1,s=[[],[],[],[]],a=0;4*i>a;a++)s[a%4][Math.floor(a/4)]=t[a];s=Aes.addRoundKey(s,e,0,i);for(var o=1;n>o;o++)s=Aes.subBytes(s,i),s=Aes.shiftRows(s,i),s=Aes.mixColumns(s,i),s=Aes.addRoundKey(s,e,o,i);s=Aes.subBytes(s,i),s=Aes.shiftRows(s,i),s=Aes.addRoundKey(s,e,n,i);for(var r=new Array(4*i),a=0;4*i>a;a++)r[a]=s[a%4][Math.floor(a/4)];return r},Aes.keyExpansion=function(t){for(var e=4,i=t.length/4,n=i+6,s=new Array(e*(n+1)),a=new Array(4),o=0;i>o;o++){var r=[t[4*o],t[4*o+1],t[4*o+2],t[4*o+3]];s[o]=r}for(var o=i;e*(n+1)>o;o++){s[o]=new Array(4);for(var l=0;4>l;l++)a[l]=s[o-1][l];if(o%i==0){a=Aes.subWord(Aes.rotWord(a));for(var l=0;4>l;l++)a[l]^=Aes.rCon[o/i][l]}else i>6&&o%i==4&&(a=Aes.subWord(a));for(var l=0;4>l;l++)s[o][l]=s[o-i][l]^a[l]}return s},Aes.subBytes=function(t,e){for(var i=0;4>i;i++)for(var n=0;e>n;n++)t[i][n]=Aes.sBox[t[i][n]];return t},Aes.shiftRows=function(t,e){for(var i=new Array(4),n=1;4>n;n++){for(var s=0;4>s;s++)i[s]=t[n][(s+n)%e];for(var s=0;4>s;s++)t[n][s]=i[s]}return t},Aes.mixColumns=function(t){for(var e=0;4>e;e++){for(var i=new Array(4),n=new Array(4),s=0;4>s;s++)i[s]=t[s][e],n[s]=128&t[s][e]?t[s][e]<<1^283:t[s][e]<<1;t[0][e]=n[0]^i[1]^n[1]^i[2]^i[3],t[1][e]=i[0]^n[1]^i[2]^n[2]^i[3],t[2][e]=i[0]^i[1]^n[2]^i[3]^n[3],t[3][e]=i[0]^n[0]^i[1]^i[2]^n[3]}return t},Aes.addRoundKey=function(t,e,i,n){for(var s=0;4>s;s++)for(var a=0;n>a;a++)t[s][a]^=e[4*i+a][s];return t},Aes.subWord=function(t){for(var e=0;4>e;e++)t[e]=Aes.sBox[t[e]];return t},Aes.rotWord=function(t){for(var e=t[0],i=0;3>i;i++)t[i]=t[i+1];return t[3]=e,t},Aes.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Aes.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Aes.Ctr={},Aes.Ctr.encrypt=function(t,e,i){var n=16;if(128!=i&&192!=i&&256!=i)return"";t=Utf8.encode(t),e=Utf8.encode(e);for(var s=i/8,a=new Array(s),o=0;s>o;o++)a[o]=isNaN(e.charCodeAt(o))?0:e.charCodeAt(o);var r=Aes.cipher(a,Aes.keyExpansion(a));r=r.concat(r.slice(0,s-16));for(var l=new Array(n),c=(new Date).getTime(),h=c%1e3,u=Math.floor(c/1e3),d=Math.floor(65535*Math.random()),o=0;2>o;o++)l[o]=h>>>8*o&255;for(var o=0;2>o;o++)l[o+2]=d>>>8*o&255;for(var o=0;4>o;o++)l[o+4]=u>>>8*o&255;for(var p="",o=0;8>o;o++)p+=String.fromCharCode(l[o]);for(var f=Aes.keyExpansion(r),m=Math.ceil(t.length/n),g=new Array(m),v=0;m>v;v++){for(var b=0;4>b;b++)l[15-b]=v>>>8*b&255;for(var b=0;4>b;b++)l[15-b-4]=v/4294967296>>>8*b;for(var y=Aes.cipher(l,f),_=m-1>v?n:(t.length-1)%n+1,M=new Array(_),o=0;_>o;o++)M[o]=y[o]^t.charCodeAt(v*n+o),M[o]=String.fromCharCode(M[o]);g[v]=M.join("")}var w=p+g.join("");return w=Base64.encode(w)},Aes.Ctr.decrypt=function(t,e,i){var n=16;if(128!=i&&192!=i&&256!=i)return"";t=Base64.decode(t),e=Utf8.encode(e);for(var s=i/8,a=new Array(s),o=0;s>o;o++)a[o]=isNaN(e.charCodeAt(o))?0:e.charCodeAt(o);var r=Aes.cipher(a,Aes.keyExpansion(a));r=r.concat(r.slice(0,s-16));var l=new Array(8);ctrTxt=t.slice(0,8);for(var o=0;8>o;o++)l[o]=ctrTxt.charCodeAt(o);for(var c=Aes.keyExpansion(r),h=Math.ceil((t.length-8)/n),u=new Array(h),d=0;h>d;d++)u[d]=t.slice(8+d*n,8+d*n+n);t=u;for(var p=new Array(t.length),d=0;h>d;d++){for(var f=0;4>f;f++)l[15-f]=d>>>8*f&255;for(var f=0;4>f;f++)l[15-f-4]=(d+1)/4294967296-1>>>8*f&255;for(var m=Aes.cipher(l,c),g=new Array(t[d].length),o=0;o<t[d].length;o++)g[o]=m[o]^t[d].charCodeAt(o),g[o]=String.fromCharCode(g[o]);p[d]=g.join("")}var v=p.join("");return v=Utf8.decode(v)};var Base64={};Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64.encode=function(t,e){e="undefined"==typeof e?!1:e;var i,n,s,a,o,r,l,c,h,u,d,p=[],f="",m=Base64.code;if(u=e?t.encodeUTF8():t,h=u.length%3,h>0)for(;h++<3;)f+="=",u+="\x00";for(h=0;h<u.length;h+=3)i=u.charCodeAt(h),n=u.charCodeAt(h+1),s=u.charCodeAt(h+2),a=i<<16|n<<8|s,o=a>>18&63,r=a>>12&63,l=a>>6&63,c=63&a,p[h/3]=m.charAt(o)+m.charAt(r)+m.charAt(l)+m.charAt(c);return d=p.join(""),d=d.slice(0,d.length-f.length)+f},Base64.decode=function(t,e){e="undefined"==typeof e?!1:e;var i,n,s,a,o,r,l,c,h,u,d=[],p=Base64.code;u=e?t.decodeUTF8():t;for(var f=0;f<u.length;f+=4)a=p.indexOf(u.charAt(f)),o=p.indexOf(u.charAt(f+1)),r=p.indexOf(u.charAt(f+2)),l=p.indexOf(u.charAt(f+3)),c=a<<18|o<<12|r<<6|l,i=c>>>16&255,n=c>>>8&255,s=255&c,d[f/4]=String.fromCharCode(i,n,s),64==l&&(d[f/4]=String.fromCharCode(i,n)),64==r&&(d[f/4]=String.fromCharCode(i));return h=d.join(""),e?h.decodeUTF8():h};var Utf8={};Utf8.encode=function(t){var e=t.replace(/[\u0080-\u07ff]/g,function(t){var e=t.charCodeAt(0);return String.fromCharCode(192|e>>6,128|63&e)});return e=e.replace(/[\u0800-\uffff]/g,function(t){var e=t.charCodeAt(0);return String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)})},Utf8.decode=function(t){var e=t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(t){var e=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(e)});return e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(t){var e=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(e)})},!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,a;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(s="hover"==this.options.trigger?"mouseenter":"focus",a="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(s,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.show?(i.hoverState="in",setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i.options.delay&&i.options.delay.hide?(i.hoverState="out",setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},show:function(){var t,e,i,n,s,a,o;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(a),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),i=this.getPosition(e),n=t[0].offsetWidth,s=t[0].offsetHeight,e?a.split(" ")[1]:a){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":o={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":o={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":o={top:i.top+i.height/2-s/2,left:i.left+i.width}}t.css(o).addClass(a).addClass("in")}},setContent:function(){var t=this.tip();t.find(".timeline-tooltip-inner").html(this.getTitle()),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).remove()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.remove()})}var i=this.tip();i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title),t=t.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),a="object"==typeof i&&i;s||n.data("tooltip",s=new e(this,a)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="timeline-tooltip"><div class="timeline-tooltip-arrow"></div><div class="timeline-tooltip-inner"></div></div>'}}(window.jQuery),"undefined"!=typeof VMM&&"undefined"==typeof VMM.StoryJS&&(VMM.StoryJS=function(){this.init=function(){}}),"undefined"!=typeof VMM&&"undefined"==typeof VMM.Timeline&&(VMM.Timeline=function(t,e,i){function n(t){"object"==typeof embed_config&&(timeline_config=embed_config),"object"==typeof timeline_config?(trace("HAS TIMELINE CONFIG"),N=VMM.Util.mergeConfig(N,timeline_config)):"object"==typeof t&&(N=VMM.Util.mergeConfig(N,t)),("mobile"==VMM.Browser.device||"tablet"==VMM.Browser.device)&&(N.touch=!0),N.nav.width=N.width,N.nav.height=200,N.feature.width=N.width,N.feature.height=N.height-N.nav.height,N.nav.zoom.adjust=parseInt(N.start_zoom_adjust,10),VMM.Timeline.Config=N,VMM.master_config.Timeline=VMM.Timeline.Config,this.events=N.events,""!=N.gmap_key&&(N.api_keys.google=N.gmap_key),trace("VERSION "+N.version),I=N.version}function s(){k=VMM.getElement(L),VMM.Lib.addClass(k,"vco-timeline"),VMM.Lib.addClass(k,"vco-storyjs"),C=VMM.appendAndGetElement(k,"<div>","vco-container vco-main"),T=VMM.appendAndGetElement(C,"<div>","vco-feature"),E=VMM.appendAndGetElement(T,"<div>","vco-slider"),V=VMM.appendAndGetElement(C,"<div>","vco-navigation"),D=VMM.appendAndGetElement(k,"<div>","vco-feedback",""),"undefined"!=typeof N.language.right_to_left&&VMM.Lib.addClass(k,"vco-right-to-left"),S=new VMM.Slider(E,N),A=new VMM.Timeline.TimeNav(V),O?VMM.Lib.width(k,N.width):N.width=VMM.Lib.width(k),F?VMM.Lib.height(k,N.height):N.height=VMM.Lib.height(k),N.touch?VMM.Lib.addClass(k,"vco-touch"):VMM.Lib.addClass(k,"vco-notouch")}function a(t,e){trace("onDataReady"),P=e.timeline,"array"!=type.of(P.era)&&(P.era=[]),x()}function o(){M()}function r(){w(),S.setSize(N.feature.width,N.feature.height),A.setSize(N.width,N.height),v()&&m()}function l(){N.loaded.slider=!0,c()}function c(){N.loaded.percentloaded=N.loaded.percentloaded+25,N.loaded.slider&&N.loaded.timenav&&y()}function h(){N.loaded.timenav=!0,c()}function u(){z=!0,N.current_slide=S.getCurrentNumber(),f(N.current_slide),A.setMarker(N.current_slide,N.ease,N.duration)}function d(){z=!0,N.current_slide=A.getCurrentNumber(),f(N.current_slide),S.setSlide(N.current_slide)}function p(t){t<=j.length-1&&t>=0&&(N.current_slide=t,S.setSlide(N.current_slide),A.setMarker(N.current_slide,N.ease,N.duration))}function f(t){N.hash_bookmark&&(window.location.hash="#"+t.toString())}function m(){var t="",e=g(window.orientation);"mobile"==VMM.Browser.device?t="portrait"==e?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"landscape"==e?"width=device-width; initial-scale=0.5, maximum-scale=0.5":"width=device-width, initial-scale=1, maximum-scale=1.0":"tablet"==VMM.Browser.device,document.getElementById("viewport")}function g(t){var e="";return e=0==t||180==t?"portrait":90==t||-90==t?"landscape":"normal"}function v(){var t=g(window.orientation);return t==N.orientation?!1:(N.orientation=t,!0)}function b(t,e,i){trace("showMessege "+e),i?VMM.attachElement(D,e):VMM.attachElement(D,VMM.MediaElement.loadingmessage(e))}function y(){VMM.Lib.animate(D,N.duration,4*N.ease,{opacity:0},_)}function _(){VMM.Lib.detach(D)}function M(){parseInt(N.start_at_slide)>0&&0==N.current_slide&&(N.current_slide=parseInt(N.start_at_slide)),N.start_at_end&&0==N.current_slide&&(N.current_slide=j.length-1),H?(H=!0,VMM.fireEvent(global,N.events.messege,"Internet Explorer "+VMM.Browser.version+" is not supported by TimelineJS. Please update your browser to version 8 or higher.")):(_(),r(),VMM.bindEvent(E,l,"LOADED"),VMM.bindEvent(V,h,"LOADED"),VMM.bindEvent(E,u,"UPDATE"),VMM.bindEvent(V,d,"UPDATE"),S.init(j),A.init(j,P.era),VMM.bindEvent(global,r,N.events.resize))}function w(){trace("UPDATE SIZE"),N.width=VMM.Lib.width(k),N.height=VMM.Lib.height(k),N.nav.width=N.width,N.feature.width=N.width,N.feature.height=N.height-N.nav.height-3,"mobile"==VMM.Browser.device,N.width<641?VMM.Lib.addClass(k,"vco-skinny"):VMM.Lib.removeClass(k,"vco-skinny")}function x(){j=[],VMM.fireEvent(global,N.events.messege,"Building Dates"),w();for(var t=0;t<P.date.length;t++)if(null!=P.date[t].startDate&&""!=P.date[t].startDate){var e={},i=VMM.Date.parse(P.date[t].startDate,!0);e.startdate=i.date,e.precisiondate=i.precision,isNaN(e.startdate)||(e.enddate=null!=P.date[t].endDate&&""!=P.date[t].endDate?VMM.Date.parse(P.date[t].endDate):e.startdate,e.needs_slug=!1,""==P.date[t].headline&&null!=P.date[t].slug&&""!=P.date[t].slug&&(e.needs_slug=!0),e.title=P.date[t].headline,e.headline=P.date[t].headline,e.type=P.date[t].type,e.date=VMM.Date.prettyDate(e.startdate,!1,e.precisiondate),e.asset=P.date[t].asset,e.fulldate=e.startdate.getTime(),e.text=P.date[t].text,e.content="",e.tag=P.date[t].tag,e.slug=P.date[t].slug,e.uniqueid=VMM.Util.unique_ID(7),e.classname=P.date[t].classname,j.push(e))}if("storify"!=P.type&&j.sort(function(t,e){return t.fulldate-e.fulldate}),null!=P.headline&&""!=P.headline&&null!=P.text&&""!=P.text){var n,i,s,e={};"undefined"!=typeof P.startDate?(i=VMM.Date.parse(P.startDate,!0),n=i.date):n=!1,trace("HAS STARTPAGE"),trace(n),n&&n<j[0].startdate?e.startdate=new Date(n):(s=j[0].startdate,e.startdate=new Date(j[0].startdate),0===s.getMonth()&&1==s.getDate()&&0===s.getHours()&&0===s.getMinutes()?e.startdate.setFullYear(s.getFullYear()-1):s.getDate()<=1&&0===s.getHours()&&0===s.getMinutes()?e.startdate.setMonth(s.getMonth()-1):0===s.getHours()&&0===s.getMinutes()?e.startdate.setDate(s.getDate()-1):0===s.getMinutes()?e.startdate.setHours(s.getHours()-1):e.startdate.setMinutes(s.getMinutes()-1)),e.uniqueid=VMM.Util.unique_ID(7),e.enddate=e.startdate,e.precisiondate=i.precision,e.title=P.headline,e.headline=P.headline,e.text=P.text,e.type="start",e.date=VMM.Date.prettyDate(P.startDate,!1,e.precisiondate),e.asset=P.asset,e.slug=!1,e.needs_slug=!1,e.fulldate=e.startdate.getTime(),N.embed&&VMM.fireEvent(global,N.events.headline,e.headline),j.unshift(e)}"storify"!=P.type&&j.sort(function(t,e){return t.fulldate-e.fulldate}),o()}var k,C,T,D,E,V,S,A,I="2.x",L="#timelinejs",P={},j=[],N={},O=!1,F=!1,H=!1,z=!1;if(L="string"==type.of(t)?t.match("#")?t:"#"+t:"#timelinejs",N={embed:!1,events:{data_ready:"DATAREADY",messege:"MESSEGE",headline:"HEADLINE",slide_change:"SLIDE_CHANGE",resize:"resize"},id:L,source:"nothing",type:"timeline",touch:!1,orientation:"normal",maptype:"toner",version:"2.x",preload:4,current_slide:0,hash_bookmark:!1,start_at_end:!1,start_at_slide:0,start_zoom_adjust:0,start_page:!1,api_keys:{google:"",flickr:"",twitter:""},interval:10,something:0,width:960,height:540,spacing:15,loaded:{slider:!1,timenav:!1,percentloaded:0},nav:{start_page:!1,interval_width:200,interval_override:!1,density:4,minor_width:0,minor_left:0,constraint:{left:0,right:0,right_min:0,right_max:0},zoom:{adjust:0},multiplier:{current:6,min:.1,max:50},rows:[1,1,1],width:960,height:200,marker:{width:150,height:50}},feature:{width:960,height:540},slider:{width:720,height:400,content:{width:720,height:400,padding:130,padding_default:130},nav:{width:100,height:200}},ease:"easeInOutExpo",duration:1e3,gmap_key:"",language:VMM.Language},null!=e&&""!=e&&(N.width=e,O=!0),null!=i&&""!=i&&(N.height=i,F=!0),window.location.hash){var W=window.location.hash.substring(1);isNaN(W)||(N.current_slide=parseInt(W))}window.onhashchange=function(){var t=window.location.hash.substring(1);N.hash_bookmark?z?p(parseInt(t)):z=!1:p(parseInt(t))},this.init=function(t,e){trace("INIT"),m(),n(t),s(),"string"==type.of(e)&&(N.source=e),VMM.Date.setLanguage(N.language),VMM.master_config.language=N.language,VMM.ExternalAPI.setKeys(N.api_keys),VMM.ExternalAPI.googlemaps.setMapType(N.maptype),VMM.bindEvent(global,a,N.events.data_ready),VMM.bindEvent(global,b,N.events.messege),VMM.fireEvent(global,N.events.messege,N.language.messages.loading_timeline),("Explorer"==VMM.Browser.browser||"MSIE"==VMM.Browser.browser)&&parseInt(VMM.Browser.version,10)<=7&&(H=!0),"string"==type.of(N.source)||"object"==type.of(N.source)?VMM.Timeline.DataObj.getData(N.source):VMM.fireEvent(global,N.events.messege,"No data source provided")},this.iframeLoaded=function(){trace("iframeLoaded")},this.reload=function(t){trace("Load new timeline data"+t),VMM.fireEvent(global,N.events.messege,N.language.messages.loading_timeline),P={},VMM.Timeline.DataObj.getData(t),N.current_slide=0,S.setSlide(0),A.setMarker(0,N.ease,N.duration)}},VMM.Timeline.Config={}),"undefined"!=typeof VMM.Timeline&&"undefined"==typeof VMM.Timeline.TimeNav&&(VMM.Timeline.TimeNav=function(t,e,n){function s(t){B.nav.constraint.left=B.width/2,B.nav.constraint.right=B.nav.constraint.right_min-B.width/2,R.updateConstraint(B.nav.constraint),VMM.Lib.css(N,"left",Math.round(B.width/2)+2),VMM.Lib.css(O,"left",Math.round(B.width/2)-8),p(B.current_slide,B.ease,B.duration,!0,t)}function a(){VMM.fireEvent(Y,"UPDATE")}function o(){R.cancelSlide(),B.nav.multiplier.current>B.nav.multiplier.min&&(B.nav.multiplier.current=B.nav.multiplier.current<=1?B.nav.multiplier.current-.25:Math.round(B.nav.multiplier.current>5?B.nav.multiplier.current>16?B.nav.multiplier.current-10:B.nav.multiplier.current-4:B.nav.multiplier.current-1),B.nav.multiplier.current<=0&&(B.nav.multiplier.current=B.nav.multiplier.min),h())}function r(){R.cancelSlide(),B.nav.multiplier.current<B.nav.multiplier.max&&(B.nav.multiplier.current=Math.round(B.nav.multiplier.current>4?B.nav.multiplier.current>16?B.nav.multiplier.current+10:B.nav.multiplier.current+4:B.nav.multiplier.current+1),B.nav.multiplier.current>=B.nav.multiplier.max&&(B.nav.multiplier.current=B.nav.multiplier.max),h())}function l(){R.cancelSlide(),p(0),a()}function c(t){var e=0,i=0;t||(t=window.event),t.originalEvent&&(t=t.originalEvent),"undefined"!=typeof t.wheelDeltaX&&(e=t.wheelDeltaY/6,e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),e&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),i=VMM.Lib.position(E).left+e,i>B.nav.constraint.left?i=B.width/2:i<B.nav.constraint.right&&(i=B.nav.constraint.right),VMM.Lib.css(E,"left",i)}function h(){trace("config.nav.multiplier "+B.nav.multiplier.current),_(!0),M(!0),w(I,X,!0,!0),w(L,J,!0),B.nav.constraint.left=B.width/2,B.nav.constraint.right=B.nav.constraint.right_min-B.width/2,R.updateConstraint(B.nav.constraint)}function u(t){R.cancelSlide(),p(t.data.number),a()}function d(t){VMM.Lib.toggleClass(t.data.elem,"zFront")}function p(t,e,i){trace("GO TO MARKER");var n=B.ease,s=B.duration,a=!1,o=!1;te=t,ie.left=B.width/2-K[te].pos_left,ie.visible.left=Math.abs(ie.left)-100,ie.visible.right=Math.abs(ie.left)+B.width+100,0==te&&(o=!0),te+1==K.length&&(a=!0),null!=e&&""!=e&&(n=e),null!=i&&""!=i&&(s=i);for(var r=0;r<K.length;r++)VMM.Lib.removeClass(K[r].marker,"active");B.start_page&&"start"==K[0].type&&(VMM.Lib.visible(K[0].marker,!1),VMM.Lib.addClass(K[0].marker,"start")),VMM.Lib.addClass(K[te].marker,"active"),VMM.Lib.stop(E),VMM.Lib.animate(E,s,n,{left:ie.left})}function f(){var t=0,e=0,i=0,n=[],s=0;for(s=0;s<K.length;s++)if("start"==Q[s].type);else{var a=y(ae,K[s].relative_pos),t=e;e=a.begin,i=e-t,n.push(i)}return VMM.Util.average(n).mean}function m(){var t=B.nav.multiplier.current,e=0;for(e=0;t>e;e++)f()<75&&B.nav.multiplier.current>1&&(B.nav.multiplier.current=B.nav.multiplier.current-1)}function g(){var t=v(Q[0].startdate),e=v(Q[Q.length-1].enddate);le.eon.type="eon",le.eon.first=t.eons,le.eon.base=Math.floor(t.eons),le.eon.last=e.eons,le.eon.number=U.eons,le.eon.multiplier=ne.eons,le.eon.minor=ne.eons,le.era.type="era",le.era.first=t.eras,le.era.base=Math.floor(t.eras),le.era.last=e.eras,le.era.number=U.eras,le.era.multiplier=ne.eras,le.era.minor=ne.eras,le.epoch.type="epoch",le.epoch.first=t.epochs,le.epoch.base=Math.floor(t.epochs),le.epoch.last=e.epochs,le.epoch.number=U.epochs,le.epoch.multiplier=ne.epochs,le.epoch.minor=ne.epochs,le.age.type="age",le.age.first=t.ages,le.age.base=Math.floor(t.ages),le.age.last=e.ages,le.age.number=U.ages,le.age.multiplier=ne.ages,le.age.minor=ne.ages,le.millenium.type="millenium",le.millenium.first=t.milleniums,le.millenium.base=Math.floor(t.milleniums),le.millenium.last=e.milleniums,le.millenium.number=U.milleniums,le.millenium.multiplier=ne.millenium,le.millenium.minor=ne.millenium,le.century.type="century",le.century.first=t.centuries,le.century.base=Math.floor(t.centuries),le.century.last=e.centuries,le.century.number=U.centuries,le.century.multiplier=ne.century,le.century.minor=ne.century,le.decade.type="decade",le.decade.first=t.decades,le.decade.base=Math.floor(t.decades),le.decade.last=e.decades,le.decade.number=U.decades,le.decade.multiplier=ne.decade,le.decade.minor=ne.decade,le.year.type="year",le.year.first=t.years,le.year.base=Math.floor(t.years),le.year.last=e.years,le.year.number=U.years,le.year.multiplier=1,le.year.minor=ne.month,le.month.type="month",le.month.first=t.months,le.month.base=Math.floor(t.months),le.month.last=e.months,le.month.number=U.months,le.month.multiplier=1,le.month.minor=Math.round(ne.week),le.week.type="week",le.week.first=t.weeks,le.week.base=Math.floor(t.weeks),le.week.last=e.weeks,le.week.number=U.weeks,le.week.multiplier=1,le.week.minor=7,le.day.type="day",le.day.first=t.days,le.day.base=Math.floor(t.days),le.day.last=e.days,le.day.number=U.days,le.day.multiplier=1,le.day.minor=24,le.hour.type="hour",le.hour.first=t.hours,le.hour.base=Math.floor(t.hours),le.hour.last=e.hours,le.hour.number=U.hours,le.hour.multiplier=1,le.hour.minor=60,le.minute.type="minute",le.minute.first=t.minutes,le.minute.base=Math.floor(t.minutes),le.minute.last=e.minutes,le.minute.number=U.minutes,le.minute.multiplier=1,le.minute.minor=60,le.second.type="decade",le.second.first=t.seconds,le.second.base=Math.floor(t.seconds),le.second.last=e.seconds,le.second.number=U.seconds,le.second.multiplier=1,le.second.minor=10}function v(t){var e={};return e.days=t/se.day,e.weeks=e.days/se.week,e.months=e.days/se.month,e.years=e.months/se.year,e.hours=e.days*se.hour,e.minutes=e.days*se.minute,e.seconds=e.days*se.second,e.decades=e.years/se.decade,e.centuries=e.years/se.century,e.milleniums=e.years/se.millenium,e.ages=e.years/se.age,e.epochs=e.years/se.epoch,e.eras=e.years/se.era,e.eons=e.years/se.eon,e}function b(t,e,i){var n,s,a=t.type,o={start:"",end:"",type:a};return n=v(e),o.start=e.months,"eon"==a?o.start=n.eons:"era"==a?o.start=n.eras:"epoch"==a?o.start=n.epochs:"age"==a?o.start=n.ages:"millenium"==a?o.start=e.milleniums:"century"==a?o.start=n.centuries:"decade"==a?o.start=n.decades:"year"==a?o.start=n.years:"month"==a?o.start=n.months:"week"==a?o.start=n.weeks:"day"==a?o.start=n.days:"hour"==a?o.start=n.hours:"minute"==a&&(o.start=n.minutes),"date"==type.of(i)?(s=v(i),o.end=i.months,"eon"==a?o.end=s.eons:"era"==a?o.end=s.eras:"epoch"==a?o.end=s.epochs:"age"==a?o.end=s.ages:"millenium"==a?o.end=i.milleniums:"century"==a?o.end=s.centuries:"decade"==a?o.end=s.decades:"year"==a?o.end=s.years:"month"==a?o.end=s.months:"week"==a?o.end=s.weeks:"day"==a?o.end=s.days:"hour"==a?o.end=s.hours:"minute"==a&&(o.end=s.minutes)):o.end=o.start,o}function y(t,e){return{begin:(e.start-ae.base)*(B.nav.interval_width/B.nav.multiplier.current),end:(e.end-ae.base)*(B.nav.interval_width/B.nav.multiplier.current)}}function _(t){var e=2,i=0,n=-2,s=0,a=150,o=6,r=0,l=B.width,c=[],h={id:p,pos:0,row:0,marker:0},u=6,d={left:ie.visible.left-l,right:ie.visible.right+l},p=0,f=0;for(B.nav.minor_width=B.width,VMM.Lib.removeClass(".flag","row1"),VMM.Lib.removeClass(".flag","row2"),VMM.Lib.removeClass(".flag","row3"),p=0;p<K.length;p++){var m,g=K[p],v=y(ae,K[p].relative_pos),b=0,_=!1;if(v.begin=Math.round(v.begin+n),v.end=Math.round(v.end+n),m=Math.round(v.end-v.begin),g.pos_left=v.begin,te==p&&(ie.left=B.width/2-v,ie.visible.left=Math.abs(ie.left),ie.visible.right=Math.abs(ie.left)+B.width,d.left=ie.visible.left-l,d.right=ie.visible.right+l),Math.abs(v.begin)>=d.left&&Math.abs(v.begin)<=d.right&&(_=!0),t?(VMM.Lib.stop(g.marker),VMM.Lib.animate(g.marker,B.duration/2,B.ease,{left:v.begin})):(VMM.Lib.stop(g.marker),VMM.Lib.css(g.marker,"left",v.begin)),p==te&&(r=v.begin),m>5&&(VMM.Lib.css(g.lineevent,"height",o),VMM.Lib.css(g.lineevent,"top",a),t?VMM.Lib.animate(g.lineevent,B.duration/2,B.ease,{width:m}):VMM.Lib.css(g.lineevent,"width",m)),Z.length>0){var M=!1,w=0;
for(f=0;f<Z.length;f++)f<B.nav.rows.current.length&&g.tag==Z[f]&&(e=f,f==B.nav.rows.current.length-1&&(trace("ON LAST ROW"),VMM.Lib.addClass(g.flag,"flag-small-last")),v.begin-i.begin<5?h.row==e&&(trace("TAGGED FLAG TOO CLOSE ON SAME ROW"),trace(h.row),trace(e),VMM.Lib.addClass(g.flag,"flag-small"),VMM.Lib.addClass(h.marker.flag,"flag-small"),e<B.nav.rows.half.length-1&&(w=2*e+1,M=!0)):VMM.Lib.removeClass(g.flag,"flag-small"));b=M?B.nav.rows.half[w]:B.nav.rows.current[e]}else v.begin-i.begin<B.nav.marker.width+B.spacing?e<B.nav.rows.current.length-1?e++:(e=0,s++):(s=1,e=1),b=B.nav.rows.current[e];i=v,h.pos=v,h.row=e,h.marker=g,c.push(h),c.length>u&&c.remove(0),t?(VMM.Lib.stop(g.flag),VMM.Lib.animate(g.flag,B.duration,B.ease,{top:b})):(VMM.Lib.stop(g.flag),VMM.Lib.css(g.flag,"top",b)),B.start_page&&"start"==K[p].type&&VMM.Lib.visible(g.marker,!1),v>B.nav.minor_width&&(B.nav.minor_width=v),v<B.nav.minor_left&&(B.nav.minor_left=v)}t&&(VMM.Lib.stop(E),VMM.Lib.animate(E,B.duration/2,B.ease,{left:B.width/2-r}))}function M(t){var e=0,i=0;for(e=0;e<G.length;e++){var n=G[e],s=y(ae,n.relative_pos),a=0,o=0,r=B.nav.marker.height*B.nav.rows.full.length,l=s.end-s.begin;if(""!=n.tag){for(r=B.nav.marker.height*B.nav.rows.full.length/B.nav.rows.current.length,i=0;i<Z.length;i++)i<B.nav.rows.current.length&&n.tag==Z[i]&&(o=i);a=B.nav.rows.current[o]}else a=-1;t?(VMM.Lib.stop(n.content),VMM.Lib.stop(n.text_content),VMM.Lib.animate(n.content,B.duration/2,B.ease,{top:a,left:s.begin,width:l,height:r}),VMM.Lib.animate(n.text_content,B.duration/2,B.ease,{left:s.begin})):(VMM.Lib.stop(n.content),VMM.Lib.stop(n.text_content),VMM.Lib.css(n.content,"left",s.begin),VMM.Lib.css(n.content,"width",l),VMM.Lib.css(n.content,"height",r),VMM.Lib.css(n.content,"top",a),VMM.Lib.css(n.text_content,"left",s.begin))}}function w(t,e,n,s){var a=0,o=B.width,r={left:ie.visible.left-o,right:ie.visible.right+o};for(not_too_many=!0,i=0,B.nav.minor_left=0,e.length>100&&(not_too_many=!1,trace("TOO MANY "+e.length)),i=0;i<e.length;i++){var l=e[i].element,c=(e[i].date,e[i].visible),h=y(ae,e[i].relative_pos),u=h.begin,d=e[i].animation,p=!0,f=!1;d.pos=u,d.animate=!1,Math.abs(u)>=r.left&&Math.abs(u)<=r.right&&(f=!0),B.nav.multiplier.current>16&&s?p=!1:65>u-a&&(35>u-a?i%4==0?0==u&&(p=!1):p=!1:VMM.Util.isEven(i)||(p=!1)),p?e[i].is_detached&&(VMM.Lib.append(t,l),e[i].is_detached=!1):(e[i].is_detached=!0,VMM.Lib.detach(l)),c?p?(d.opacity="100",n&&f&&(d.animate=!0)):(d.opacity="0",n&&not_too_many&&(d.animate=!0),e[i].interval_visible=!1):(d.opacity="100",p?(n&&not_too_many?d.animate=!0:n&&f&&(d.animate=!0),e[i].interval_visible=!0):n&&not_too_many&&(d.animate=!0)),a=u,u>B.nav.minor_width&&(B.nav.minor_width=u),u<B.nav.minor_left&&(B.nav.minor_left=u),d.animate?VMM.Lib.animate(l,B.duration/2,B.ease,{opacity:d.opacity,left:d.pos}):(VMM.Lib.css(l,"opacity",d.opacity),VMM.Lib.css(l,"left",u))}B.nav.constraint.right_min=-B.nav.minor_width+B.width,B.nav.constraint.right=B.nav.constraint.right_min+B.width/2,VMM.Lib.css(F,"left",B.nav.minor_left-B.width/2),VMM.Lib.width(F,B.nav.minor_width+B.width+Math.abs(B.nav.minor_left))}function x(t,e,i){var n,s,a=0,o=!0,r=0,l=0,c=Math.ceil(t.number)+2,h={flag:!1,offset:0},u=0;for(VMM.attachElement(i,""),t.date=new Date(Q[0].startdate.getFullYear(),0,1,0,0,0),n=t.date.getTimezoneOffset(),u=0;c>u;u++){trace(t.type);var d=!1,p={element:VMM.appendAndGetElement(i,"<div>",t.classname),date:new Date(Q[0].startdate.getFullYear(),0,1,0,0,0),visible:!1,date_string:"",type:t.interval_type,relative_pos:0,is_detached:!1,animation:{animate:!1,pos:"",opacity:"100"}};"eon"==t.type?(o&&(s=5e8*Math.floor(Q[0].startdate.getFullYear()/5e8)),p.date.setFullYear(s+5e8*a),d=!0):"era"==t.type?(o&&(s=1e8*Math.floor(Q[0].startdate.getFullYear()/1e8)),p.date.setFullYear(s+1e8*a),d=!0):"epoch"==t.type?(o&&(s=1e7*Math.floor(Q[0].startdate.getFullYear()/1e7)),p.date.setFullYear(s+1e7*a),d=!0):"age"==t.type?(o&&(s=1e6*Math.floor(Q[0].startdate.getFullYear()/1e6)),p.date.setFullYear(s+1e6*a),d=!0):"millenium"==t.type?(o&&(s=1e3*Math.floor(Q[0].startdate.getFullYear()/1e3)),p.date.setFullYear(s+1e3*a),d=!0):"century"==t.type?(o&&(s=100*Math.floor(Q[0].startdate.getFullYear()/100)),p.date.setFullYear(s+100*a),d=!0):"decade"==t.type?(o&&(s=10*Math.floor(Q[0].startdate.getFullYear()/10)),p.date.setFullYear(s+10*a),d=!0):"year"==t.type?(o&&(s=Q[0].startdate.getFullYear()),p.date.setFullYear(s+a),d=!0):"month"==t.type?(o&&(s=Q[0].startdate.getMonth()),p.date.setMonth(s+a)):"week"==t.type?(o&&(s=Q[0].startdate.getMonth()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(s+7*a)):"day"==t.type?(o&&(s=Q[0].startdate.getDate()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(s+a)):"hour"==t.type?(o&&(s=Q[0].startdate.getHours()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(Q[0].startdate.getDate()),p.date.setHours(s+a)):"minute"==t.type?(o&&(s=Q[0].startdate.getMinutes()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(Q[0].startdate.getDate()),p.date.setHours(Q[0].startdate.getHours()),p.date.setMinutes(s+a)):"second"==t.type?(o&&(s=Q[0].startdate.getSeconds()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(Q[0].startdate.getDate()),p.date.setHours(Q[0].startdate.getHours()),p.date.setMinutes(Q[0].startdate.getMinutes()),p.date.setSeconds(s+a)):"millisecond"==t.type&&(o&&(s=Q[0].startdate.getMilliseconds()),p.date.setMonth(Q[0].startdate.getMonth()),p.date.setDate(Q[0].startdate.getDate()),p.date.setHours(Q[0].startdate.getHours()),p.date.setMinutes(Q[0].startdate.getMinutes()),p.date.setSeconds(Q[0].startdate.getSeconds()),p.date.setMilliseconds(s+a)),"Firefox"==VMM.Browser.browser&&("1970"==p.date.getFullYear()&&p.date.getTimezoneOffset()!=n?(trace("FIREFOX 1970 TIMEZONE OFFSET "+p.date.getTimezoneOffset()+" SHOULD BE "+n),trace(t.type+" "+t.date),h.offset=p.date.getTimezoneOffset()/60,h.flag=!0,p.date.setHours(p.date.getHours()+h.offset)):h.flag&&(h.flag=!1,p.date.setHours(p.date.getHours()+h.offset),d&&(h.flag=!0))),p.date_string=d?p.date.getFullYear()<0?Math.abs(p.date.getFullYear()).toString()+" B.C.":p.date.getFullYear():VMM.Date.prettyDate(p.date,!0),a+=1,o=!1,p.relative_pos=b(ae,p.date),r=p.relative_pos.begin,p.relative_pos.begin>l&&(l=p.relative_pos.begin),VMM.appendElement(p.element,p.date_string),VMM.Lib.css(p.element,"text-indent",-(VMM.Lib.width(p.element)/2)),VMM.Lib.css(p.element,"opacity","0"),e.push(p)}VMM.Lib.width(F,l),w(i,e)}function k(){var t=0,e=0;if(VMM.attachElement(Y,""),E=VMM.appendAndGetElement(Y,"<div>","timenav"),V=VMM.appendAndGetElement(E,"<div>","content"),S=VMM.appendAndGetElement(E,"<div>","time"),A=VMM.appendAndGetElement(S,"<div>","time-interval-minor"),F=VMM.appendAndGetElement(A,"<div>","minor"),L=VMM.appendAndGetElement(S,"<div>","time-interval-major"),I=VMM.appendAndGetElement(S,"<div>","time-interval"),P=VMM.appendAndGetElement(Y,"<div>","timenav-background"),N=VMM.appendAndGetElement(P,"<div>","timenav-line"),O=VMM.appendAndGetElement(P,"<div>","timenav-indicator"),j=VMM.appendAndGetElement(P,"<div>","timenav-interval-background","<div class='top-highlight'></div>"),H=VMM.appendAndGetElement(Y,"<div>","vco-toolbar"),C(),T(),D(),m(),_(!1),M(),w(I,X,!1,!0),w(L,J),B.start_page&&($backhome=VMM.appendAndGetElement(H,"<div>","back-home","<div class='icon'></div>"),VMM.bindEvent(".back-home",l,"click"),VMM.Lib.attribute($backhome,"title",VMM.master_config.language.messages.return_to_title),VMM.Lib.attribute($backhome,"rel","timeline-tooltip")),R=new VMM.DragSlider,R.createPanel(Y,E,B.nav.constraint,B.touch),B.touch&&B.start_page?(VMM.Lib.addClass(H,"touch"),VMM.Lib.css(H,"top",55),VMM.Lib.css(H,"left",10)):(B.start_page&&VMM.Lib.css(H,"top",27),z=VMM.appendAndGetElement(H,"<div>","zoom-in","<div class='icon'></div>"),W=VMM.appendAndGetElement(H,"<div>","zoom-out","<div class='icon'></div>"),VMM.bindEvent(z,o,"click"),VMM.bindEvent(W,r,"click"),VMM.Lib.attribute(z,"title",VMM.master_config.language.messages.expand_timeline),VMM.Lib.attribute(z,"rel","timeline-tooltip"),VMM.Lib.attribute(W,"title",VMM.master_config.language.messages.contract_timeline),VMM.Lib.attribute(W,"rel","timeline-tooltip"),H.tooltip({selector:"div[rel=timeline-tooltip]",placement:"right"}),VMM.bindEvent(Y,c,"DOMMouseScroll"),VMM.bindEvent(Y,c,"mousewheel")),0!=B.nav.zoom.adjust)if(B.nav.zoom.adjust<0)for(t=0;t<Math.abs(B.nav.zoom.adjust);t++)r();else for(e=0;e<B.nav.zoom.adjust;e++)o();ee=!0,s(!0),VMM.fireEvent(Y,"LOADED")}function C(){var t=0,e=0;for(U=v(Q[Q.length-1].enddate-Q[0].startdate,!0),trace(U),g(),U.centuries>Q.length/B.nav.density?(ae=le.century,oe=le.millenium,re=le.decade):U.decades>Q.length/B.nav.density?(ae=le.decade,oe=le.century,re=le.year):U.years>Q.length/B.nav.density?(ae=le.year,oe=le.decade,re=le.month):U.months>Q.length/B.nav.density?(ae=le.month,oe=le.year,re=le.day):U.days>Q.length/B.nav.density?(ae=le.day,oe=le.month,re=le.hour):U.hours>Q.length/B.nav.density?(ae=le.hour,oe=le.day,re=le.minute):U.minutes>Q.length/B.nav.density?(ae=le.minute,oe=le.hour,re=le.second):U.seconds>Q.length/B.nav.density?(ae=le.second,oe=le.minute,re=le.second):(trace("NO IDEA WHAT THE TYPE SHOULD BE"),ae=le.day,oe=le.month,re=le.hour),trace("INTERVAL TYPE: "+ae.type),trace("INTERVAL MAJOR TYPE: "+oe.type),B.nav.interval_override&&(trace("INTERVAL OVERRIDE"),"centuries"==B.nav.interval_override?(ae=le.century,oe=le.millenium,re=le.decade):"decades"==B.nav.interval_override?(ae=le.decade,oe=le.century,re=le.year):"years"==B.nav.interval_override?(ae=le.year,oe=le.decade,re=le.month):"months"==B.nav.interval_override?(ae=le.month,oe=le.year,re=le.day):"days"==B.nav.interval_override?(ae=le.day,oe=le.month,re=le.hour):"hours"==B.nav.interval_override?(ae=le.hour,oe=le.day,re=le.minute):"minutes"==B.nav.interval_override?(ae=le.minute,oe=le.hour,re=le.second):"seconds"==B.nav.interval_override?(ae=le.second,oe=le.minute,re=le.second):(trace("NO IDEA WHAT THE TYPE SHOULD BE"),ae=le.day,oe=le.month,re=le.hour)),x(ae,X,I),x(oe,J,L),t=0;t<X.length;t++)for(e=0;e<J.length;e++)X[t].date_string==J[e].date_string&&VMM.attachElement(X[t].element,"")}function T(){var t=0,e=0,i=0;for(K=[],G=[],t=0;t<Q.length;t++){var n,s,a,o,r,l,c,h="",p=!1;if(n=VMM.appendAndGetElement(V,"<div>","marker"),s=VMM.appendAndGetElement(n,"<div>","flag"),a=VMM.appendAndGetElement(s,"<div>","flag-content"),o=VMM.appendAndGetElement(n,"<div>","dot"),r=VMM.appendAndGetElement(n,"<div>","line"),l=VMM.appendAndGetElement(r,"<div>","event-line"),_marker_relative_pos=b(ae,Q[t].startdate,Q[t].enddate),_marker_thumb="",null!=Q[t].asset&&""!=Q[t].asset?null!=Q[t].asset.thumbnail&&""!=Q[t].asset.thumbnail?(trace("HAS THUMBNAIL"),VMM.appendElement(a,VMM.MediaElement.thumbnail(Q[t].asset,24,24,Q[t].uniqueid))):VMM.appendElement(a,VMM.MediaElement.thumbnail(Q[t].asset,24,24,Q[t].uniqueid)):VMM.appendElement(a,"<div style='margin-right:7px;height:50px;width:2px;float:left;'></div>"),""==Q[t].title||" "==Q[t].title)if(trace("TITLE NOTHING"),"undefined"!=typeof Q[t].slug&&""!=Q[t].slug)trace("SLUG"),h=VMM.Util.untagify(Q[t].slug),p=!0;else{var f=VMM.MediaType(Q[t].asset.media);"quote"==f.type||"unknown"==f.type?(h=VMM.Util.untagify(f.id),p=!0):p=!1}else""!=Q[t].title||" "!=Q[t].title?(trace(Q[t].title),h=VMM.Util.untagify(Q[t].title),p=!0):trace("TITLE SLUG NOT FOUND "+Q[t].slug);p?VMM.appendElement(a,"<h3>"+h+"</h3>"):(VMM.appendElement(a,"<h3>"+h+"</h3>"),VMM.appendElement(a,"<h3 id='marker_content_"+Q[t].uniqueid+"'>"+h+"</h3>")),VMM.Lib.attr(n,"id",("marker_"+Q[t].uniqueid).toString()),VMM.bindEvent(s,u,"",{number:t}),VMM.bindEvent(s,d,"mouseenter mouseleave",{number:t,elem:s}),c={marker:n,flag:s,lineevent:l,type:"marker",full:!0,relative_pos:_marker_relative_pos,tag:Q[t].tag,pos_left:0},"start"==Q[t].type&&(trace("BUILD MARKER HAS START PAGE"),B.start_page=!0,c.type="start"),"storify"==Q[t].type&&(c.type="storify"),Q[t].tag&&Z.push(Q[t].tag),K.push(c)}for(Z=VMM.Util.deDupeArray(Z),B.nav.rows.current=Z.length>3?B.nav.rows.half:B.nav.rows.full,e=0;e<Z.length;e++)if(e<B.nav.rows.current.length){var m=VMM.appendAndGetElement(P,"<div>","timenav-tag");VMM.Lib.addClass(m,"timenav-tag-row-"+(e+1)),Z.length>3?VMM.Lib.addClass(m,"timenav-tag-size-half"):VMM.Lib.addClass(m,"timenav-tag-size-full"),VMM.appendElement(m,"<div><h3>"+Z[e]+"</h3></div>")}if(Z.length>3)for(i=0;i<K.length;i++)VMM.Lib.addClass(K[i].flag,"flag-small"),K[i].full=!1}function D(){var t=6,e=0,i=0;for(i=0;i<$.length;i++){var n={content:VMM.appendAndGetElement(V,"<div>","era"),text_content:VMM.appendAndGetElement(I,"<div>","era"),startdate:VMM.Date.parse($[i].startDate),enddate:VMM.Date.parse($[i].endDate),title:$[i].headline,uniqueid:VMM.Util.unique_ID(6),tag:"",relative_pos:""},s=(VMM.Date.prettyDate(n.startdate),VMM.Date.prettyDate(n.enddate),"<div>&nbsp;</div>");"undefined"!=typeof $[i].tag&&(n.tag=$[i].tag),n.relative_pos=b(ae,n.startdate,n.enddate),VMM.Lib.attr(n.content,"id",n.uniqueid),VMM.Lib.attr(n.text_content,"id",n.uniqueid+"_text"),VMM.Lib.addClass(n.content,"era"+(e+1)),VMM.Lib.addClass(n.text_content,"era"+(e+1)),t>e?e++:e=0,VMM.appendElement(n.content,s),VMM.appendElement(n.text_content,VMM.Util.unlinkify(n.title)),G.push(n)}}trace("VMM.Timeline.TimeNav");var E,V,S,A,I,L,P,j,N,O,F,H,z,W,R,q,$,B=VMM.Timeline.Config,U={},Y=t,Q=[],G=[],K=[],X=[],J=[],Z=[],te=0,ee=!1,ie={left:"",visible:{left:"",right:""}},ne={day:24,month:12,year:10,hour:60,minute:60,second:1e3,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24},se={day:864e5,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1e3,age:1e6,epoch:1e7,era:1e8,eon:5e8},ae={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_idd",interval_type:"interval"},oe={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"major",interval_type:"interval major"},re={type:"year",number:10,first:1970,last:2011,multiplier:100,classname:"_dd_minor",interval_type:"interval minor"},le={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{},age:{},epoch:{},era:{},eon:{}};q=B.nav.marker.height/2,B.nav.rows={full:[1,2*q,4*q],half:[1,q,2*q,3*q,4*q,5*q],current:[]},null!=e&&""!=e&&(B.nav.width=e),null!=n&&""!=n&&(B.nav.height=n),this.init=function(t,e){trace("VMM.Timeline.TimeNav init"),"undefined"!=typeof t?this.setData(t,e):trace("WAITING ON DATA")},this.setData=function(t,e){"undefined"!=typeof t?(Q={},Q=t,$=e,k()):trace("NO DATA")},this.setSize=function(t,e){null!=t&&(B.width=t),null!=e&&(B.height=e),ee&&s()},this.setMarker=function(t,e,i){p(t,e,i)},this.getCurrentNumber=function(){return te}}),"undefined"!=typeof VMM.Timeline&&"undefined"==typeof VMM.Timeline.DataObj&&(VMM.Timeline.DataObj={data_obj:{},model_array:[],getData:function(t){if(VMM.Timeline.DataObj.data_obj={},VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Timeline.Config.language.messages.loading_timeline),"object"==type.of(t))trace("DATA SOURCE: JSON OBJECT"),VMM.Timeline.DataObj.parseJSON(t);else if("string"==type.of(t))if(t.match("%23"))trace("DATA SOURCE: TWITTER SEARCH"),VMM.Timeline.DataObj.model.tweets.getData("%23medill");else if(t.match("spreadsheet"))trace("DATA SOURCE: GOOGLE SPREADSHEET"),VMM.Timeline.DataObj.model.googlespreadsheet.getData(t);else if(t.match("storify.com"))trace("DATA SOURCE: STORIFY"),VMM.Timeline.DataObj.model.storify.getData(t);else if(t.match(".jsonp"))trace("DATA SOURCE: JSONP"),LoadLib.js(t,VMM.Timeline.DataObj.onJSONPLoaded);else{trace("DATA SOURCE: JSON");var e="";e=t.indexOf("?")>-1?t+"&callback=onJSONP_Data":t+"?callback=onJSONP_Data",VMM.getJSON(e,VMM.Timeline.DataObj.parseJSON)}else"html"==type.of(t)?(trace("DATA SOURCE: HTML"),VMM.Timeline.DataObj.parseHTML(t)):trace("DATA SOURCE: UNKNOWN")},onJSONPLoaded:function(){trace("JSONP IS LOADED"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,storyjs_jsonp_data)},parseHTML:function(){trace("parseHTML"),trace("WARNING: THIS IS STILL ALPHA AND WILL NOT WORK WITH ID's other than #timeline");var t=VMM.Timeline.DataObj.data_template_obj;if(VMM.Lib.find("#timeline section","time")[0]){t.timeline.startDate=VMM.Lib.html(VMM.Lib.find("#timeline section","time")[0]),t.timeline.headline=VMM.Lib.html(VMM.Lib.find("#timeline section","h2")),t.timeline.text=VMM.Lib.html(VMM.Lib.find("#timeline section","article"));var e=!1;0!=VMM.Lib.find("#timeline section","figure img").length?(e=!0,t.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure img"),"src")):0!=VMM.Lib.find("#timeline section","figure a").length&&(e=!0,t.timeline.asset.media=VMM.Lib.attr(VMM.Lib.find("#timeline section","figure a"),"href")),e&&(0!=VMM.Lib.find("#timeline section","cite").length&&(t.timeline.asset.credit=VMM.Lib.html(VMM.Lib.find("#timeline section","cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(t.timeline.asset.caption=VMM.Lib.html(VMM.Lib.find("#timeline section","figcaption"))))}VMM.Lib.each("#timeline li",function(){var e=!1,i={type:"default",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};if(0!=VMM.Lib.find(this,"time")){e=!0,i.startDate=VMM.Lib.html(VMM.Lib.find(this,"time")[0]),VMM.Lib.find(this,"time")[1]&&(i.endDate=VMM.Lib.html(VMM.Lib.find(this,"time")[1])),i.headline=VMM.Lib.html(VMM.Lib.find(this,"h3")),i.text=VMM.Lib.html(VMM.Lib.find(this,"article"));var n=!1;0!=VMM.Lib.find(this,"figure img").length?(n=!0,i.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure img"),"src")):0!=VMM.Lib.find(this,"figure a").length&&(n=!0,i.asset.media=VMM.Lib.attr(VMM.Lib.find(this,"figure a"),"href")),n&&(0!=VMM.Lib.find(this,"cite").length&&(i.asset.credit=VMM.Lib.html(VMM.Lib.find(this,"cite"))),0!=VMM.Lib.find(this,"figcaption").length&&(i.asset.caption=VMM.Lib.html(VMM.Lib.find(this,"figcaption")))),trace(i),t.timeline.date.push(i)}}),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)},parseJSON:function(t){trace("parseJSON"),"default"==t.timeline.type?(trace("DATA SOURCE: JSON STANDARD TIMELINE"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,t)):"twitter"==t.timeline.type?(trace("DATA SOURCE: JSON TWEETS"),VMM.Timeline.DataObj.model_Tweets.buildData(t)):(trace("DATA SOURCE: UNKNOWN JSON"),trace(type.of(t.timeline)))},model:{googlespreadsheet:{getData:function(t){function e(){i=VMM.getJSON(a,function(t){clearTimeout(o),VMM.Timeline.DataObj.model.googlespreadsheet.buildData(t)}).error(function(t,e){trace("Google Docs ERROR"),trace("Google Docs ERROR: "+e+" "+t.responseText)}).success(function(){clearTimeout(o)})}var i,n,s,a,o,r=0;n=VMM.Util.getUrlVars(t).key,s=VMM.Util.getUrlVars(t).worksheet,"undefined"==typeof s&&(s="od6"),a="https://spreadsheets.google.com/feeds/list/"+n+"/"+s+"/public/values?alt=json",o=setTimeout(function(){trace("Google Docs timeout "+a),trace(a),3>r?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+r),r++,i.abort(),e()):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),e()},buildData:function(t){function e(t){return"undefined"!=typeof t?t.$t:""}var i=VMM.Timeline.DataObj.data_template_obj,n=!1;if(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Google Doc Data"),"undefined"!=typeof t.feed.entry){n=!0;for(var s=0;s<t.feed.entry.length;s++){var a=t.feed.entry[s],o="";if("undefined"!=typeof a.gsx$type?o=a.gsx$type.$t:"undefined"!=typeof a.gsx$titleslide&&(o=a.gsx$titleslide.$t),o.match("start")||o.match("title"))i.timeline.startDate=e(a.gsx$startdate),i.timeline.headline=e(a.gsx$headline),i.timeline.asset.media=e(a.gsx$media),i.timeline.asset.caption=e(a.gsx$mediacaption),i.timeline.asset.credit=e(a.gsx$mediacredit),i.timeline.text=e(a.gsx$text),i.timeline.type="google spreadsheet";else if(o.match("era")){var r={startDate:e(a.gsx$startdate),endDate:e(a.gsx$enddate),headline:e(a.gsx$headline),text:e(a.gsx$text),tag:e(a.gsx$tag)};i.timeline.era.push(r)}else{var l={type:"google spreadsheet",startDate:e(a.gsx$startdate),endDate:e(a.gsx$enddate),headline:e(a.gsx$headline),text:e(a.gsx$text),tag:e(a.gsx$tag),asset:{media:e(a.gsx$media),credit:e(a.gsx$mediacredit),caption:e(a.gsx$mediacaption),thumbnail:e(a.gsx$mediathumbnail)}};i.timeline.date.push(l)}}}n?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Finished Parsing Data"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,i)):(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading+" Google Doc Data (cells)"),trace("There may be too many entries. Still trying to load data. Now trying to load cells to avoid Googles limitation on cells"),VMM.Timeline.DataObj.model.googlespreadsheet.getDataCells(t.feed.link[0].href))},getDataCells:function(t){function e(){i=VMM.getJSON(s,function(t){clearTimeout(a),VMM.Timeline.DataObj.model.googlespreadsheet.buildDataCells(t)}).error(function(t,e){trace("Google Docs ERROR"),trace("Google Docs ERROR: "+e+" "+t.responseText)}).success(function(){clearTimeout(a)})}var i,n,s,a,o=0;n=VMM.Util.getUrlVars(t).key,s="https://spreadsheets.google.com/feeds/cells/"+n+"/od6/public/values?alt=json",a=setTimeout(function(){trace("Google Docs timeout "+s),trace(s),3>o?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Still waiting on Google Docs, trying again "+o),o++,i.abort(),e()):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Google Docs is not responding")},16e3),e()},buildDataCells:function(t){function e(t){return"undefined"!=typeof t?t.$t:""}var i=VMM.Timeline.DataObj.data_template_obj,n=!1,s=["timeline"],a=[],o=0,r=0;if(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,VMM.Language.messages.loading_timeline+" Parsing Google Doc Data (cells)"),"undefined"!=typeof t.feed.entry){for(n=!0,r=0;r<t.feed.entry.length;r++){var l=t.feed.entry[r];parseInt(l.gs$cell.row)>o&&(o=parseInt(l.gs$cell.row))}for(var r=0;o+1>r;r++){var c={type:"",startDate:"",endDate:"",headline:"",text:"",tag:"",asset:{media:"",credit:"",caption:"",thumbnail:""}};a.push(c)}for(r=0;r<t.feed.entry.length;r++){var l=t.feed.entry[r],h="",u={content:e(l.gs$cell),col:l.gs$cell.col,row:l.gs$cell.row,name:""};1==u.row?("Start Date"==u.content?h="startDate":"End Date"==u.content?h="endDate":"Headline"==u.content?h="headline":"Text"==u.content?h="text":"Media"==u.content?h="media":"Media Credit"==u.content?h="credit":"Media Caption"==u.content?h="caption":"Media Thumbnail"==u.content?h="thumbnail":"Type"==u.content?h="type":"Tag"==u.content&&(h="tag"),s.push(h)):(u.name=s[u.col],a[u.row][u.name]=u.content)}for(r=0;r<a.length;r++){var c=a[r];if(c.type.match("start")||c.type.match("title"))i.timeline.startDate=c.startDate,i.timeline.headline=c.headline,i.timeline.asset.media=c.media,i.timeline.asset.caption=c.caption,i.timeline.asset.credit=c.credit,i.timeline.text=c.text,i.timeline.type="google spreadsheet";else if(c.type.match("era")){var d={startDate:c.startDate,endDate:c.endDate,headline:c.headline,text:c.text,tag:c.tag};i.timeline.era.push(d)}else{var c={type:"google spreadsheet",startDate:c.startDate,endDate:c.endDate,headline:c.headline,text:c.text,tag:c.tag,asset:{media:c.media,credit:c.credit,caption:c.caption,thumbnail:c.thumbnail}};i.timeline.date.push(c)}}}n?(VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Finished Parsing Data"),VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,i)):VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Unable to load Google Doc data source")}},storify:{getData:function(t){var e,i,n;VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Loading Storify..."),e=t.split("storify.com/")[1],i="http://api.storify.com/v1/stories/"+e+"?per_page=300&callback=?",n=setTimeout(function(){trace("STORIFY timeout"),VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Storify is not responding")},6e3),VMM.getJSON(i,VMM.Timeline.DataObj.model.storify.buildData).error(function(t,e){trace("STORIFY error"),trace("STORIFY ERROR: "+e+" "+t.responseText)}).success(function(){clearTimeout(n)})},buildData:function(t){VMM.fireEvent(global,VMM.Timeline.Config.events.messege,"Parsing Data");var e=VMM.Timeline.DataObj.data_template_obj;e.timeline.startDate=new Date(t.content.date.created),e.timeline.headline=t.content.title,trace(t);var i="",n=t.content.author.username,s="";"undefined"!=typeof t.content.author.name&&(n=t.content.author.name,s=t.content.author.username+"&nbsp;"),"undefined"!=typeof t.content.description&&null!=t.content.description&&(i+=t.content.description),i+="<div class='storify'>",i+="<div class='vcard author'><a class='screen-name url' href='"+t.content.author.permalink+"' target='_blank'>",i+="<span class='avatar'><img src='"+t.content.author.avatar+"' style='max-width: 32px; max-height: 32px;'></span>",i+="<span class='fn'>"+n+"</span>",i+="<span class='nickname'>"+s+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",i+="</div>",e.timeline.text=i,e.timeline.asset.media=t.content.thumbnail,e.timeline.type="storify";for(var a=0;a<t.content.elements.length;a++){{var o=t.content.elements[a],r=!1;new Date(o.posted_at)}trace(o.type);var l={type:"storify",startDate:o.posted_at,endDate:o.posted_at,headline:" ",slug:"",text:"",asset:{media:"",credit:"",caption:""}};if("image"==o.type)"undefined"!=typeof o.source.name?"flickr"==o.source.name?(l.asset.media="http://flickr.com/photos/"+o.meta.pathalias+"/"+o.meta.id+"/",l.asset.credit="<a href='"+l.asset.media+"'>"+o.attribution.name+"</a>",l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"):"instagram"==o.source.name?(l.asset.media=o.permalink,l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>",l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"):(l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>","undefined"!=typeof o.source.href&&(l.asset.credit+=" on <a href='"+o.source.href+"'>"+o.source.name+"</a>"),l.asset.media=o.data.image.src):(l.asset.credit="<a href='"+o.permalink+"'>"+o.attribution.name+"</a>",l.asset.media=o.data.image.src),l.slug=o.attribution.name,"undefined"!=typeof o.data.image.caption&&"undefined"!=o.data.image.caption&&(l.asset.caption=o.data.image.caption,l.slug=o.data.image.caption);else if("quote"==o.type)o.permalink.match("twitter")?(l.asset.media=o.permalink,l.slug=VMM.Util.untagify(o.data.quote.text)):o.permalink.match("storify")&&(r=!0,l.asset.media="<blockquote>"+o.data.quote.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</blockquote>");else if("link"==o.type)l.headline=o.data.link.title,l.text=o.data.link.description,l.asset.media="undefined"!=o.data.link.thumbnail&&""!=o.data.link.thumbnail?o.data.link.thumbnail:o.permalink,l.asset.caption="<a href='"+o.permalink+"' target='_blank'>"+o.data.link.title+"</a>",l.slug=o.data.link.title;else if("text"==o.type){if(o.permalink.match("storify")){r=!0;{t.content.author.username}"undefined"!=typeof o.attribution.name&&(n=o.attribution.name,s=o.attribution.username+"&nbsp;");var c="<div class='storify'>";c+="<blockquote><p>"+o.data.text.replace(/<\s*\/?\s*b\s*.*?>/g,"")+"</p></blockquote>",c+="<div class='vcard author'><a class='screen-name url' href='"+o.attribution.href+"' target='_blank'>",c+="<span class='avatar'><img src='"+o.attribution.thumbnail+"' style='max-width: 32px; max-height: 32px;'></span>",c+="<span class='fn'>"+n+"</span>",c+="<span class='nickname'>"+s+"<span class='thumbnail-inline'></span></span>",c+="</a></div></div>",l.text=c,a+1>=t.content.elements.length?l.startDate=t.content.elements[a-1].posted_at:"text"==t.content.elements[a+1].type&&t.content.elements[a+1].permalink.match("storify")?a+2>=t.content.elements.length?l.startDate=t.content.elements[a-1].posted_at:"text"==t.content.elements[a+2].type&&t.content.elements[a+2].permalink.match("storify")?a+3>=t.content.elements.length?l.startDate=t.content.elements[a-1].posted_at:"text"==t.content.elements[a+3].type&&t.content.elements[a+3].permalink.match("storify")?l.startDate=t.content.elements[a-1].posted_at:(trace("LEVEL 3"),l.startDate=t.content.elements[a+3].posted_at):(trace("LEVEL 2"),l.startDate=t.content.elements[a+2].posted_at):(trace("LEVEL 1"),l.startDate=t.content.elements[a+1].posted_at),l.endDate=l.startDate}}else"video"==o.type?(l.headline=o.data.video.title,l.asset.caption=o.data.video.description,l.asset.caption=o.source.username,l.asset.media=o.data.video.src):(trace("NO MATCH "),trace(o));r&&(l.slug=VMM.Util.untagify(o.data.text)),e.timeline.date.push(l)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,e)}},tweets:{type:"twitter",buildData:function(t){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweets(t.timeline.tweets)},getData:function(t){VMM.bindEvent(global,VMM.Timeline.DataObj.model.tweets.onTwitterDataReady,"TWEETSLOADED"),VMM.ExternalAPI.twitter.getTweetSearch(t)},onTwitterDataReady:function(t,e){for(var i=VMM.Timeline.DataObj.data_template_obj,n=0;n<e.tweetdata.length;n++){var s={type:"tweets",startDate:"",headline:"",text:"",asset:{media:"",credit:"",caption:""},tags:"Optional"};s.startDate=e.tweetdata[n].raw.created_at,s.headline=type.of(e.tweetdata[n].raw.from_user_name)?e.tweetdata[n].raw.from_user_name+" (<a href='https://twitter.com/"+e.tweetdata[n].raw.from_user+"'>@"+e.tweetdata[n].raw.from_user+"</a>)":e.tweetdata[n].raw.user.name+" (<a href='https://twitter.com/"+e.tweetdata[n].raw.user.screen_name+"'>@"+e.tweetdata[n].raw.user.screen_name+"</a>)",s.asset.media=e.tweetdata[n].content,i.timeline.date.push(s)}VMM.fireEvent(global,VMM.Timeline.Config.events.data_ready,i)}}},data_template_obj:{timeline:{headline:"",description:"",asset:{media:"",credit:"",caption:""},date:[],era:[]}},date_obj:{startDate:"2012,2,2,11,30",headline:"",text:"",asset:{media:"http://youtu.be/vjVfu8-Wp6s",credit:"",caption:""},tags:"Optional"}}),function(t,e,i,n){"use strict";function s(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var a=function(e){for(var i=e.length,n=t("head");i--;)0===n.has("."+e[i]).length&&n.append('<meta class="'+e[i]+'" />')};a(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof i.body&&FastClick.attach(i.body)});var o=function(e,n){if("string"==typeof e){if(n){var s;if(n.jquery){if(s=n[0],!s)return n}else s=n;return t(s.querySelectorAll(e))}return t(i.querySelectorAll(e))}return t(e,n)},r=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},l=function(t){for(var e=t.split("-"),i=e.length,n=[];i--;)0!==i?n.push(e[i]):this.namespace.length>0?n.push(this.namespace,e[i]):n.push(e[i]);return n.reverse().join("-")},c=function(e,i){var n=this,s=!o(this).data(this.attr_name(!0));return o(this.scope).is("["+this.attr_name()+"]")?(o(this.scope).data(this.attr_name(!0)+"-init",t.extend({},this.settings,i||e,this.data_options(o(this.scope)))),s&&this.events(this.scope)):o("["+this.attr_name()+"]",this.scope).each(function(){var s=!o(this).data(n.attr_name(!0)+"-init");o(this).data(n.attr_name(!0)+"-init",t.extend({},n.settings,i||e,n.data_options(o(this)))),s&&n.events(this)}),"string"==typeof e?this[e].call(this,i):void 0},h=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()};e.matchMedia=e.matchMedia||function(t){var e,i=t.documentElement,n=i.firstElementChild||i.firstChild,s=t.createElement("body"),a=t.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),e=42===a.offsetWidth,i.removeChild(s),{matches:e,media:t}}}(i),function(){function t(){i&&(a(t),r&&jQuery.fx.tick())}for(var i,n=0,s=["webkit","moz"],a=e.requestAnimationFrame,o=e.cancelAnimationFrame,r="undefined"!=typeof jQuery.fx;n<s.length&&!a;n++)a=e[s[n]+"RequestAnimationFrame"],o=o||e[s[n]+"CancelAnimationFrame"]||e[s[n]+"CancelRequestAnimationFrame"];a?(e.requestAnimationFrame=a,e.cancelAnimationFrame=o,r&&(jQuery.fx.timer=function(e){e()&&jQuery.timers.push(e)&&!i&&(i=!0,t())},jQuery.fx.stop=function(){i=!1})):(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),s=Math.max(0,16-(i-n)),a=e.setTimeout(function(){t(i+s)
},s);return n=i+s,a},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),e.Foundation={name:"Foundation",version:"5.3.1",media_queries:{small:o(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:o(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:o(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:o(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:o(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:n},init:function(t,e,i,n,s){var a=[t,i,n,s],r=[];if(this.rtl=/rtl/i.test(o("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),e&&"string"==typeof e&&!/reflow/i.test(e))this.libs.hasOwnProperty(e)&&r.push(this.init_lib(e,a));else for(var l in this.libs)r.push(this.init_lib(l,e));return t},init_lib:function(e,i){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),i&&i.hasOwnProperty(e)?("undefined"!=typeof this.libs[e].settings?t.extend(!0,this.libs[e].settings,i[e]):"undefined"!=typeof this.libs[e].defaults&&t.extend(!0,this.libs[e].defaults,i[e]),this.libs[e].init.apply(this.libs[e],[this.scope,i[e]])):(i=i instanceof Array?i:new Array(i),this.libs[e].init.apply(this.libs[e],i))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=r,t.add_namespace=l,t.bindings=c,t.S=this.utils.S},inherit:function(t,e){for(var i=e.split(" "),n=i.length;n--;)this.utils.hasOwnProperty(i[n])&&(t[i[n]]=this.utils[i[n]])},set_namespace:function(){var e=this.global.namespace===n?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=e===n||/false/i.test(e)?"":e},libs:{},utils:{S:o,throttle:function(t,e){var i=null;return function(){var n=this,s=arguments;null==i&&(i=setTimeout(function(){t.apply(n,s),i=null},e))}},debounce:function(t,e,i){var n,s;return function(){var a=this,o=arguments,r=function(){n=null,i||(s=t.apply(a,o))},l=i&&!n;return clearTimeout(n),n=setTimeout(r,e),l&&(s=t.apply(a,o)),s}},data_options:function(e,i){function n(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function s(e){return"string"==typeof e?t.trim(e):e}i=i||"options";var a,o,r,l={},c=function(t){var e=Foundation.global.namespace;return t.data(e.length>0?e+"-"+i:i)},h=c(e);if("object"==typeof h)return h;for(r=(h||":").split(";"),a=r.length;a--;)o=r[a].split(":"),o=[o[0],o.slice(1).join(":")],/true/i.test(o[1])&&(o[1]=!0),/false/i.test(o[1])&&(o[1]=!1),n(o[1])&&(o[1]=-1===o[1].indexOf(".")?parseInt(o[1],10):parseFloat(o[1])),2===o.length&&o[0].length>0&&(l[s(o[0])]=s(o[1]));return l},register_media:function(e,i){Foundation.media_queries[e]===n&&(t("head").append('<meta class="'+i+'"/>'),Foundation.media_queries[e]=s(t("."+i).css("font-family")))},add_custom_rule:function(t,e){if(e===n&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[e];i!==n&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var i=this,n=t.length;0===n&&e(t),t.each(function(){h(i.S(this),function(){n-=1,0===n&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function(t,e,i){"use strict";Foundation.libs.abide={name:"abide",version:"5.3.1",settings:{live_validate:!0,focus_on_invalid:!0,error_labels:!0,timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t){var e=i.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,n=t.value,s=e===n;return s}}},timer:null,init:function(t,e,i){this.bindings(e,i)},events:function(e){var i=this,n=i.S(e).attr("novalidate","novalidate"),s=n.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),n.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(t){var e=/ajax/i.test(i.S(this).attr(i.attr_name()));return i.validate(i.S(this).find("input, textarea, select").get(),t,e)}).on("reset",function(){return i.reset(t(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(t){i.validate([this],t)}).on("keydown.fndtn.abide",function(t){s.live_validate===!0&&(clearTimeout(i.timer),i.timer=setTimeout(function(){i.validate([this],t)}.bind(this),s.timeout))})},reset:function(e){e.removeAttr(this.invalid_attr),t(this.invalid_attr,e).removeAttr(this.invalid_attr),t(".error",e).not("small").removeClass("error")},validate:function(t,e,i){var n=this.parse_patterns(t),s=n.length,a=this.S(t[0]).closest("[data-"+this.attr_name(!0)+"]"),o=a.data(this.attr_name(!0)+"-init")||{},r=/submit/.test(e.type);a.trigger("validated").trigger("validated.fndtn.abide");for(var l=0;s>l;l++)if(!n[l]&&(r||i))return o.focus_on_invalid&&t[l].focus(),a.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(t[l]).closest("[data-"+this.attr_name(!0)+"]").attr(this.invalid_attr,""),!1;return(r||i)&&a.trigger("valid").trigger("valid.fndtn.abide"),a.removeAttr(this.invalid_attr),i?!1:!0},parse_patterns:function(t){for(var e=t.length,i=[];e--;)i.push(this.pattern(t[e]));return this.check_validation_and_apply_styles(i)},pattern:function(t){var e=t.getAttribute("type"),i="string"==typeof t.getAttribute("required"),n=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(n)&&n.length>0?[t,this.settings.patterns[n],i]:n.length>0?[t,new RegExp("^"+n+"$"),i]:this.settings.patterns.hasOwnProperty(e)?[t,this.settings.patterns[e],i]:(n=/.*/,[t,n,i])},check_validation_and_apply_styles:function(e){for(var i=e.length,n=[],s=this.S(e[0][0]).closest("[data-"+this.attr_name(!0)+"]"),a=s.data(this.attr_name(!0)+"-init")||{};i--;){var o,r,l=e[i][0],c=e[i][2],h=l.value.trim(),u=this.S(l).parent(),d=l.getAttribute(this.add_namespace("data-abide-validator")),p="radio"===l.type,f="checkbox"===l.type,m=this.S('label[for="'+l.getAttribute("id")+'"]'),g=c?l.value.length>0:!0;l.getAttribute(this.add_namespace("data-equalto"))&&(d="equalTo"),o=u.is("label")?u.parent():u,p&&c?n.push(this.valid_radio(l,c)):f&&c?n.push(this.valid_checkbox(l,c)):d?(r=this.settings.validators[d].apply(this,[l,c,o]),n.push(r),r?(this.S(l).removeAttr(this.invalid_attr),o.removeClass("error")):(this.S(l).attr(this.invalid_attr,""),o.addClass("error"))):e[i][1].test(h)&&g||!c&&l.value.length<1||t(l).attr("disabled")?(this.S(l).removeAttr(this.invalid_attr),o.removeClass("error"),m.length>0&&a.error_labels&&m.removeClass("error"),n.push(!0),t(l).triggerHandler("valid")):(this.S(l).attr(this.invalid_attr,""),o.addClass("error"),m.length>0&&a.error_labels&&m.addClass("error"),n.push(!1),t(l).triggerHandler("invalid"))}return n},valid_checkbox:function(t,e){var t=this.S(t),i=t.is(":checked")||!e;return i?t.removeAttr(this.invalid_attr).parent().removeClass("error"):t.attr(this.invalid_attr,"").parent().addClass("error"),i},valid_radio:function(t){for(var e=t.getAttribute("name"),i=this.S(t).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+e+"']"),n=i.length,s=!1,a=0;n>a;a++)i[a].checked&&(s=!0);for(var a=0;n>a;a++)s?this.S(i[a]).removeAttr(this.invalid_attr).parent().removeClass("error"):this.S(i[a]).attr(this.invalid_attr,"").parent().addClass("error");return s},valid_equal:function(t,e,n){var s=i.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,a=t.value,o=s===a;return o?(this.S(t).removeAttr(this.invalid_attr),n.removeClass("error")):(this.S(t).attr(this.invalid_attr,""),n.addClass("error")),o},valid_oneof:function(t,e,i,n){var t=this.S(t),s=this.S("["+this.add_namespace("data-oneof")+"]"),a=s.filter(":checked").length>0;if(a?t.removeAttr(this.invalid_attr).parent().removeClass("error"):t.attr(this.invalid_attr,"").parent().addClass("error"),!n){var o=this;s.each(function(){o.valid_oneof.call(o,this,null,null,!0)})}return a}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.3.1",settings:{active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(t,e,i){this.bindings(e,i)},events:function(){var e=this,i=this.S;i(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(n){var s=i(this).closest("["+e.attr_name()+"]"),a=i("#"+this.href.split("#")[1]),o=i("dd > .content",s),r=t(">dd",s),l=e.attr_name()+"="+s.attr(e.attr_name()),c=s.data(e.attr_name(!0)+"-init"),h=i("dd > .content."+c.active_class,s);return n.preventDefault(),s.attr(e.attr_name())&&(o=o.add("["+l+"] dd > .content"),r=r.add("["+l+"] dd")),c.toggleable&&a.is(h)?(a.parent("dd").toggleClass(c.active_class,!1),a.toggleClass(c.active_class,!1),c.callback(a),a.triggerHandler("toggled",[s]),void s.triggerHandler("toggled",[a])):(c.multi_expand||(o.removeClass(c.active_class),r.removeClass(c.active_class)),a.addClass(c.active_class).parent().addClass(c.active_class),c.callback(a),a.triggerHandler("toggled",[s]),void s.triggerHandler("toggled",[a]))})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.alert={name:"alert",version:"5.3.1",settings:{callback:function(){}},init:function(t,e,i){this.bindings(e,i)},events:function(){var e=this,i=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(t){var n=i(this).closest("["+e.attr_name()+"]"),s=n.data(e.attr_name(!0)+"-init")||e.settings;t.preventDefault(),Modernizr.csstransitions?(n.addClass("alert-close"),n.on("transitionend webkitTransitionEnd oTransitionEnd",function(){i(this).trigger("close").trigger("close.fndtn.alert").remove(),s.callback()})):n.fadeOut(300,function(){i(this).trigger("close").trigger("close.fndtn.alert").remove(),s.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.3.1",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",touch_label:"",init:!1,locked:!1},init:function(t,e,i){var n=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(e,i),n.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(n.S("li",this.scope)):n.S("["+this.attr_name()+"]",this.scope).each(function(){n.assemble(n.S("li",this))})},events:function(n){var s=this,a=s.S,o=t(".scroll-container");o.length>0&&(this.scope=o),a(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(t,e,i){var e=e||a(this),i=i||e,n=e.next("li"),o=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init"),r=a(t.target);t.preventDefault(),o||(s.init(),o=e.closest("["+s.attr_name()+"]").data(s.attr_name(!0)+"-init")),i.hasClass("visible")&&e[0]===i[0]&&n.length>0&&s.is_open(e)&&(i=n,r=a("img",i)),s.open(r,e,i),s.update_paddles(i)}).on("click.fndtn.clearing",".clearing-main-next",function(t){s.nav(t,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(t){s.nav(t,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}),t(i).on("keydown.fndtn.clearing",function(t){s.keydown(t)}),a(e).off(".clearing").on("resize.fndtn.clearing",function(){s.resize()}),this.swipe_events(n)},swipe_events:function(){var t=this,e=t.S;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var i={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};e(this).data("swipe-transition",i),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(i){if(i.touches||(i=i.originalEvent),!(i.touches.length>1||i.scale&&1!==i.scale)){var n=e(this).data("swipe-transition");if("undefined"==typeof n&&(n={}),n.delta_x=i.touches[0].pageX-n.start_page_x,Foundation.rtl&&(n.delta_x=-n.delta_x),"undefined"==typeof n.is_scrolling&&(n.is_scrolling=!!(n.is_scrolling||Math.abs(n.delta_x)<Math.abs(i.touches[0].pageY-n.start_page_y))),!n.is_scrolling&&!n.active){i.preventDefault();var s=n.delta_x<0?"next":"prev";n.active=!0,t.nav(i,s)}}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(e){var i=e.parent();if(!i.parent().hasClass("carousel")){i.after('<div id="foundationClearingHolder"></div>');var n=i.detach(),s="";if(null!=n[0]){s=n[0].outerHTML;var a=this.S("#foundationClearingHolder"),o=i.data(this.attr_name(!0)+"-init"),r={grid:'<div class="carousel">'+s+"</div>",viewing:o.templates.viewing},l='<div class="clearing-assembled"><div>'+r.viewing+r.grid+"</div></div>",c=this.settings.touch_label;Modernizr.touch&&(l=t(l).find(".clearing-touch-label").html(c).end()),a.after(l).remove()}}},open:function(e,n,s){function a(){setTimeout(function(){this.image_loaded(d,function(){1!==d.outerWidth()||f?o.call(this,d):a.call(this)}.bind(this))}.bind(this),100)}function o(e){var i=t(e);i.css("visibility","visible"),l.css("overflow","hidden"),c.addClass("clearing-blackout"),h.addClass("clearing-container"),u.show(),this.fix_height(s).caption(r.S(".clearing-caption",u),r.S("img",s)).center_and_label(e,p).shift(n,s,function(){s.closest("li").siblings().removeClass("visible"),s.closest("li").addClass("visible")}),u.trigger("opened.fndtn.clearing")}var r=this,l=t(i.body),c=s.closest(".clearing-assembled"),h=r.S("div",c).first(),u=r.S(".visible-img",h),d=r.S("img",u).not(e),p=r.S(".clearing-touch-label",h),f=!1;t("body").on("touchmove",function(t){t.preventDefault()}),d.error(function(){f=!0}),this.locked()||(u.trigger("open.fndtn.clearing"),d.attr("src",this.load(e)).css("visibility","hidden"),a.call(this))},close:function(e,n){e.preventDefault();var s,a,o=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(n)),r=t(i.body);return n===e.target&&o&&(r.css("overflow",""),s=t("div",o).first(),a=t(".visible-img",s),a.trigger("close.fndtn.clearing"),this.settings.prev_index=0,t("ul["+this.attr_name()+"]",o).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),s.removeClass("clearing-container"),a.hide(),a.trigger("closed.fndtn.clearing")),t("body").off("touchmove"),!1},is_open:function(t){return t.parent().prop("style").length>0},keydown:function(e){var i=t(".clearing-blackout ul["+this.attr_name()+"]"),n=this.rtl?37:39,s=this.rtl?39:37,a=27;e.which===n&&this.go(i,"next"),e.which===s&&this.go(i,"prev"),e.which===a&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(e,i){var n=t("ul["+this.attr_name()+"]",".clearing-blackout");e.preventDefault(),this.go(n,i)},resize:function(){var e=t("img",".clearing-blackout .visible-img"),i=t(".clearing-touch-label",".clearing-blackout");e.length&&(this.center_and_label(e,i),e.trigger("resized.fndtn.clearing"))},fix_height:function(t){var e=t.parent().children(),i=this;return e.each(function(){var t=i.S(this),e=t.find("img");t.height()>e.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(100*e.length+"%"),this},update_paddles:function(t){t=t.closest("li");var e=t.closest(".carousel").siblings(".visible-img");t.next().length>0?this.S(".clearing-main-next",e).removeClass("disabled"):this.S(".clearing-main-next",e).addClass("disabled"),t.prev().length>0?this.S(".clearing-main-prev",e).removeClass("disabled"):this.S(".clearing-main-prev",e).addClass("disabled")},center_and_label:function(t,e){return this.rtl?(t.css({marginRight:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2),left:"auto",right:"50%"}),e.length>0&&e.css({marginRight:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10,left:"auto",right:"50%"})):(t.css({marginLeft:-(t.outerWidth()/2),marginTop:-(t.outerHeight()/2)}),e.length>0&&e.css({marginLeft:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10})),this},load:function(t){var e;return e="A"===t[0].nodeName?t.attr("href"):t.parent().attr("href"),this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},img:function(t){if(t.length){var e=new Image,i=this.S("a",t);e.src=i.length?i.attr("href"):this.S("img",t).attr("src")}return this},caption:function(t,e){var i=e.attr("data-caption");return i?t.html(i).show():t.text("").hide(),this},go:function(t,e){var i=this.S(".visible",t),n=i[e]();n.length&&this.S("img",n).trigger("click",[i,n]).trigger("click.fndtn.clearing",[i,n]).trigger("change.fndtn.clearing")},shift:function(t,e,i){var n,s=e.parent(),a=this.settings.prev_index||e.index(),o=this.direction(s,t,e),r=this.rtl?"right":"left",l=parseInt(s.css("left"),10),c=e.outerWidth(),h={};e.index()===a||/skip/.test(o)?/skip/.test(o)&&(n=e.index()-this.settings.up_count,this.lock(),n>0?(h[r]=-(n*c),s.animate(h,300,this.unlock())):(h[r]=0,s.animate(h,300,this.unlock()))):/left/.test(o)?(this.lock(),h[r]=l+c,s.animate(h,300,this.unlock())):/right/.test(o)&&(this.lock(),h[r]=l-c,s.animate(h,300,this.unlock())),i()},direction:function(t,e,i){var n,s=this.S("li",t),a=s.outerWidth()+s.outerWidth()/4,o=Math.floor(this.S(".clearing-container").outerWidth()/a)-1,r=s.index(i);return this.settings.up_count=o,n=this.adjacent(this.settings.prev_index,r)?r>o&&r>this.settings.prev_index?"right":r>o-1&&r<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=r,n},adjacent:function(t,e){for(var i=e+1;i>=e-1;i--)if(i===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(e).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.3.1",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i)},events:function(){var i=this,n=i.S;n(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){var s=n(this).data(i.attr_name(!0)+"-init")||i.settings;(!s.is_hover||Modernizr.touch)&&(e.preventDefault(),i.toggle(t(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e,s,a=n(this);clearTimeout(i.timeout),a.data(i.data_attr())?(e=n("#"+a.data(i.data_attr())),s=a):(e=a,s=n("["+i.attr_name()+"='"+e.attr("id")+"']"));var o=s.data(i.attr_name(!0)+"-init")||i.settings;n(t.target).data(i.data_attr())&&o.is_hover&&i.closeall.call(i),o.is_hover&&i.open.apply(i,[e,s])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t=n(this);i.timeout=setTimeout(function(){if(t.data(i.data_attr())){var e=t.data(i.data_attr(!0)+"-init")||i.settings;e.is_hover&&i.close.call(i,n("#"+t.data(i.data_attr())))}else{var s=n("["+i.attr_name()+'="'+n(this).attr("id")+'"]'),e=s.data(i.attr_name(!0)+"-init")||i.settings;e.is_hover&&i.close.call(i,t)}}.bind(this),150)}).on("click.fndtn.dropdown",function(e){var s=n(e.target).closest("["+i.attr_name()+"-content]");if(!n(e.target).data(i.data_attr())&&!n(e.target).parent().data(i.data_attr()))return!n(e.target).data("revealId")&&s.length>0&&(n(e.target).is("["+i.attr_name()+"-content]")||t.contains(s.first()[0],e.target))?void e.stopPropagation():void i.close.call(i,n("["+i.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)}),n(e).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)),this.resize()},close:function(t){var e=this;t.each(function(){e.S(this).hasClass(e.settings.active_class)&&(e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target"),e.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))})},closeall:function(){var e=this;t.each(e.S("["+this.attr_name()+"-content]"),function(){e.close.call(e,e.S(this))})},open:function(t,e){this.css(t.addClass(this.settings.active_class),e),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[t,e])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t){var e=this.S("#"+t.data(this.data_attr()));0!==e.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(e)),e.hasClass(this.settings.active_class)?(this.close.call(this,e),e.data("target")!==t.get(0)&&this.open.call(this,e,t)):this.open.call(this,e,t))},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+t.attr("id")+"']");t.length&&e.length&&this.css(t,e)},css:function(t,e){var i=Math.max((e.width()-t.width())/2,8);if(this.clear_idx(),this.small()){var n=this.dirs.bottom.call(t,e);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:n.top}),t.css(Foundation.rtl?"right":"left",i)}else{var s=e.data(this.attr_name(!0)+"-init")||this.settings;this.style(t,e,s)}return t},style:function(e,i,n){var s=t.extend({position:"absolute"},this.dirs[n.align].call(e,i,n));e.attr("style","").css(s)},dirs:{_base:function(t){var e=this.offsetParent(),i=e.offset(),n=t.offset();return n.top-=i.top,n.left-=i.left,n},top:function(t){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t),n=8;return this.addClass("drop-top"),(t.outerWidth()<this.outerWidth()||e.small())&&e.adjust_pip(n,i),Foundation.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top-this.outerHeight()}:{left:i.left,top:i.top-this.outerHeight()}},bottom:function(t){var e=Foundation.libs.dropdown,i=e.dirs._base.call(this,t),n=8;return(t.outerWidth()<this.outerWidth()||e.small())&&e.adjust_pip(n,i),e.rtl?{left:i.left-this.outerWidth()+t.outerWidth(),top:i.top+t.outerHeight()}:{left:i.left,top:i.top+t.outerHeight()}},left:function(t){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),{left:e.left-this.outerWidth(),top:e.top}},right:function(t){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-right"),{left:e.left+t.outerWidth(),top:e.top}}},adjust_pip:function(t,e){var i=Foundation.stylesheet;this.small()&&(t+=e.left-8),this.rule_idx=i.cssRules.length;var n=".f-dropdown.open:before",s=".f-dropdown.open:after",a="left: "+t+"px;",o="left: "+(t-1)+"px;";i.insertRule?(i.insertRule([n,"{",a,"}"].join(" "),this.rule_idx),i.insertRule([s,"{",o,"}"].join(" "),this.rule_idx+1)):(i.addRule(n,a,this.rule_idx),i.addRule(s,o,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(e).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.3.1",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(e,i,n){if(/IMG/.test(e[0].nodeName)){var s=e[0].src;if(new RegExp(i,"i").test(s))return;return e[0].src=i,n(e[0].src)}var a=e.data(this.data_attr+"-last-path"),o=this;if(a!=i)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(i)?(t(e).css("background-image","url("+i+")"),e.data("interchange-last-path",i),n(i)):t.get(i,function(t){e.html(t),e.data(o.data_attr+"-last-path",i),n()})}}},init:function(e,i,n){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),t.extend(!0,this.settings,i,n),this.bindings(i,n),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="";for(var e in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[e]).matches.toString();return t},events:function(){var i,n=this;return t(e).off(".interchange").on("resize.fndtn.interchange",n.throttle(function(){var t=n.get_media_hash();t!==i&&n.resize(),i=t},50)),this},resize:function(){var e=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(t.proxy(this.resize,this),50);for(var i in e)if(e.hasOwnProperty(i)){var n=this.results(i,e[i]);n&&this.settings.directives[n.scenario[1]].call(this,n.el,n.scenario[0],function(){if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments,0);n.el.trigger(n.scenario[1],t)})}},results:function(t,e){var i=e.length;if(i>0)for(var n=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');i--;){var s,a=e[i][2];if(s=matchMedia(this.settings.named_queries.hasOwnProperty(a)?this.settings.named_queries[a]:a),s.matches)return{el:n,scenario:e[i]}}return!1},load:function(t,e){return("undefined"==typeof this["cached_"+t]||e)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),e=t.length,i=e,n=0,s=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===e;i--;){if(n++,t[i]){var a=t[i].getAttribute(s)||"";a.length>0&&this.cached_images.push(t[i])}n===e&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),e=t.length,i=e,n=0,s=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===e;i--;){n++;var a=t[i].getAttribute(s)||"";a.length>0&&this.cached_nodes.push(t[i]),n===e&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(i){for(var n=this["cached_"+i].length;n--;)this.object(t(this["cached_"+i][n]));return t(e).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},parse_scenario:function(t){var e=t[0].match(/(.+),\s*(\w+)\s*$/),i=t[1];if(e)var n=e[1],s=e[2];else var a=t[0].split(/,\s*$/),n=a[0],s="";return[this.trim(n),this.convert_directive(s),this.trim(i)]},object:function(t){var e=this.parse_data_attr(t),i=[],n=e.length;if(n>0)for(;n--;){var s=e[n].split(/\((.*?)(\))$/);if(s.length>1){var a=this.parse_scenario(s);i.push(a)}}return this.store(t,i)},store:function(t,e){var i=this.random_str(),n=t.data(this.add_namespace("uuid",!0));return this.cache[n]?this.cache[n]:(t.attr(this.add_namespace("data-uuid"),i),this.cache[i]=e)},trim:function(e){return"string"==typeof e?t.trim(e):e},set_data_attr:function(t){return t?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var e=t.attr(this.attr_name()).split(/\[(.*?)\]/),i=e.length,n=[];i--;)e[i].replace(/[\W\d]+/,"").length>4&&n.push(e[i]);return n},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.3.1",defaults:{expose:!1,modal:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,i,n){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||t.extend({},this.defaults,n||i),this.bindings(i,n)},events:function(){var i=this;t(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end(this.settings.abort_on_close)
}.bind(this)),t(e).off(".joyride").on("resize.fndtn.joyride",i.throttle(function(){if(t("["+i.attr_name()+"]").length>0&&i.settings.$next_tip){if(i.settings.exposed.length>0){var e=t(i.settings.exposed);e.each(function(){var e=t(this);i.un_expose(e),i.expose(e)})}i.is_phone()?i.pos_phone():i.pos_default(!1)}},100))},start:function(){var e=this,i=t("["+this.attr_name()+"]",this.scope),n=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],s=n.length;!i.length>0||(this.settings.init||this.events(),this.settings=i.data(this.attr_name(!0)+"-init"),this.settings.$content_el=i,this.settings.$body=t(this.settings.tip_container),this.settings.body_offset=t(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,"function"!=typeof t.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!t.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(i){var a=t(this);this.settings=t.extend({},e.defaults,e.data_options(a));for(var o=s;o--;)e.settings[n[o]]=parseInt(e.settings[n[o]],10);e.create({$li:a,index:i})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(e){var i,n;return e.tip_class=e.tip_class||"",i=t(this.settings.template.tip).addClass(e.tip_class),n=t.trim(t(e.li).html())+this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index),i.append(t(this.settings.template.wrapper)),i.first().attr(this.add_namespace("data-index"),e.index),t(".joyride-content-wrapper",i).append(n),i[0]},timer_instance:function(e){var i;return i=0===e&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":t(this.settings.template.timer)[0].outerHTML},button_text:function(e){return this.settings.tip_settings.next_button?(e=t.trim(e)||"Next",e=t(this.settings.template.button).append(e)[0].outerHTML):e="",e},create:function(e){this.settings.tip_settings=t.extend({},this.settings,this.data_options(e.$li));var i=e.$li.attr(this.add_namespace("data-button"))||e.$li.attr(this.add_namespace("data-text")),n=e.$li.attr("class"),s=t(this.tip_template({tip_class:n,index:e.index,button_text:i,li:e.$li}));t(this.settings.tip_container).append(s)},show:function(e){var i=null;this.settings.$li===n||-1===t.inArray(this.settings.$li.index(),this.settings.pause_after)?(this.settings.paused?this.settings.paused=!1:this.set_li(e),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0?(e&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=t.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],/body/i.test(this.settings.$target.selector)||this.scroll_to(),this.is_phone()?this.pos_phone(!0):this.pos_default(!0),i=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(i.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(i.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip):this.settings.$li&&this.settings.$target.length<1?this.show():this.end()):this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||t(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(t.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr(this.add_namespace("data-class")),n=this.settings.$li.attr(this.add_namespace("data-id")),s=function(){return n?t(i.getElementById(n)):e?t("."+e).first():t("body")};this.settings.$target=s()},scroll_to:function(){var i,n;i=t(e).height()/2,n=Math.ceil(this.settings.$target.offset().top-i+this.settings.$next_tip.outerHeight()),0!=n&&t("html, body").stop().animate({scrollTop:n},this.settings.scroll_speed,"swing")},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=n,this.show("init")},pos_default:function(t){var e=this.settings.$next_tip.find(".joyride-nub"),i=Math.ceil(e.outerWidth()/2),n=Math.ceil(e.outerHeight()/2),s=t||!1;if(s&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(e);else{var a=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,o=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+n+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+o}:{top:this.settings.$target.offset().top+n+this.settings.$target.outerHeight()+a,left:this.settings.$target.offset().left+o}),this.nub_position(e,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-n+a,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-n+a,left:this.settings.$target.offset().left+o}),this.nub_position(e,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+i+o}),this.nub_position(e,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+a,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-i+o}),this.nub_position(e,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}s&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var i=this.settings.$next_tip.outerHeight(),n=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),s=t(".joyride-nub",this.settings.$next_tip),a=Math.ceil(s.outerHeight()/2),o=e||!1;s.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),o&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(s):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-i-a}),s.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+n+a}),s.addClass("top")),o&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var e=t(".joyride-modal-bg");e.length<1&&t("body").append(this.settings.template.modal).show(),/pop/i.test(this.settings.tip_animation)?e.show():e.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var i,n,s,a,o,r="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof t)s=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;s=this.settings.$target}return s.length<1?(e.console&&console.error("element not valid",s),!1):(i=t(this.settings.template.expose),this.settings.$body.append(i),i.css({top:s.offset().top,left:s.offset().left,width:s.outerWidth(!0),height:s.outerHeight(!0)}),n=t(this.settings.template.expose_cover),a={zIndex:s.css("z-index"),position:s.css("position")},o=null==s.attr("class")?"":s.attr("class"),s.css("z-index",parseInt(i.css("z-index"))+1),"static"==a.position&&s.css("position","relative"),s.data("expose-css",a),s.data("orig-class",o),s.attr("class",o+" "+this.settings.expose_add_class),n.css({top:s.offset().top,left:s.offset().left,width:s.outerWidth(!0),height:s.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(n),i.addClass(r),n.addClass(r),s.data("expose",r),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,s),void this.add_exposed(s))},un_expose:function(){var i,n,s,a,o,r=!1;if(arguments.length>0&&arguments[0]instanceof t)n=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;n=this.settings.$target}return n.length<1?(e.console&&console.error("element not valid",n),!1):(i=n.data("expose"),s=t("."+i),arguments.length>1&&(r=arguments[1]),r===!0?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():s.remove(),a=n.data("expose-css"),"auto"==a.zIndex?n.css("z-index",""):n.css("z-index",a.zIndex),a.position!=n.css("position")&&("static"==a.position?n.css("position",""):n.css("position",a.position)),o=n.data("orig-class"),n.attr("class",o),n.removeData("orig-classes"),n.removeData("expose"),n.removeData("expose-z-index"),void this.remove_exposed(n))},add_exposed:function(e){this.settings.exposed=this.settings.exposed||[],e instanceof t||"object"==typeof e?this.settings.exposed.push(e[0]):"string"==typeof e&&this.settings.exposed.push(e)},remove_exposed:function(e){var i,n;for(e instanceof t?i=e[0]:"string"==typeof e&&(i=e),this.settings.exposed=this.settings.exposed||[],n=this.settings.exposed.length;n--;)if(this.settings.exposed[n]==i)return void this.settings.exposed.splice(n,1)},center:function(){var i=t(e);return this.settings.$next_tip.css({top:(i.height()-this.settings.$next_tip.outerHeight())/2+i.scrollTop(),left:(i.width()-this.settings.$next_tip.outerWidth())/2+i.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(i){var n=t(e),s=n.height()/2,a=Math.ceil(this.settings.$target.offset().top-s+this.settings.$next_tip.outerHeight()),o=n.width()+n.scrollLeft(),r=n.height()+a,l=n.height()+n.scrollTop(),c=n.scrollTop();return c>a&&(c=0>a?0:a),r>l&&(l=r),[i.offset().top<c,o<i.offset().left+i.outerWidth(),l<i.offset().top+i.outerHeight(),n.scrollLeft()>i.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,i){t.addClass("auto"===e?i:e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(e){this.settings.cookie_monster&&t.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.$next_tip.data("closed",!0),t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof e||e===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),t(".joyride-tip-guide").remove()},off:function(){t(this.scope).off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.3.1",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i)},events:function(){var i=this,n=i.S,s=i.settings;i.set_expedition_position(),n(i.scope).off(".magellan").on("click.fndtn.magellan","["+i.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(e){e.preventDefault();var n=t(this).closest("["+i.attr_name()+"]"),s=n.data("magellan-expedition-init"),a=this.hash.split("#").join(""),o=t("a[name='"+a+"']");0===o.length&&(o=t("#"+a));var r=o.offset().top-s.destination_threshold+1;r-=n.outerHeight(),t("html, body").stop().animate({scrollTop:r},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+a):location.hash="#"+a})}).on("scroll.fndtn.magellan",i.throttle(this.check_for_arrivals.bind(this),s.throttle_delay)),t(e).on("resize.fndtn.magellan",i.throttle(this.set_expedition_position.bind(this),s.throttle_delay))},check_for_arrivals:function(){var t=this;t.update_arrivals(),t.update_expedition_positions()},set_expedition_position:function(){var e=this;t("["+this.attr_name()+"=fixed]",e.scope).each(function(){var i,n=t(this),s=n.data("magellan-expedition-init"),a=n.attr("styles");n.attr("style",""),i=n.offset().top+s.threshold,n.data(e.data_attr("magellan-top-offset"),i),n.attr("style",a)})},update_expedition_positions:function(){var i=this,n=t(e).scrollTop();t("["+this.attr_name()+"=fixed]",i.scope).each(function(){var e=t(this),s=e.data("magellan-expedition-init"),a=e.data("magellan-top-offset");if(n>=a){var o=e.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]");0===o.length&&(o=e.clone(),o.removeAttr(i.attr_name()),o.attr(i.add_namespace("data-magellan-expedition-clone"),""),e.before(o)),e.css({position:"fixed",top:s.fixed_top})}else e.prev("["+i.add_namespace("data-magellan-expedition-clone")+"]").remove(),e.attr("style","").removeClass("fixed")})},update_arrivals:function(){var i=this,n=t(e).scrollTop();t("["+this.attr_name()+"]",i.scope).each(function(){var e=t(this),s=e.data(i.attr_name(!0)+"-init"),a=i.offsets(e,n),o=e.find("["+i.add_namespace("data-magellan-arrival")+"]"),r=!1;a.each(function(t,n){if(n.viewport_offset>=n.top_offset){var a=e.find("["+i.add_namespace("data-magellan-arrival")+"]");return a.not(n.arrival).removeClass(s.active_class),n.arrival.addClass(s.active_class),r=!0,!0}}),r||o.removeClass(s.active_class)})},offsets:function(e,i){var n=this,s=e.data(n.attr_name(!0)+"-init"),a=i;return e.find("["+n.add_namespace("data-magellan-arrival")+"]").map(function(){var i=t(this).data(n.data_attr("magellan-arrival")),o=t("["+n.add_namespace("data-magellan-destination")+"="+i+"]");if(o.length>0){var r=o.offset().top-s.destination_threshold-e.outerHeight();return{destination:o,arrival:t(this),top_offset:r,viewport_offset:a}}}).sort(function(t,e){return t.top_offset<e.top_offset?-1:t.top_offset>e.top_offset?1:0})},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){this.S(this.scope).off(".magellan"),this.S(e).off(".magellan")},reflow:function(){var e=this;t("["+e.add_namespace("data-magellan-expedition-clone")+"]",e.scope).remove()}}}(jQuery,window,window.document),function(){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.3.1",settings:{open_method:"move",close_on_click:!0},init:function(t,e,i){this.bindings(e,i)},events:function(){var t=this,e=t.S,i="",n="",s="";"move"===this.settings.open_method?(i="move-",n="right",s="left"):"overlap"===this.settings.open_method&&(i="offcanvas-overlap"),e(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(e){t.click_toggle_class(e,i+n)}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(e){var s=t.get_settings(e);s.close_on_click&&t.hide.call(t,i+n,t.get_wrapper(e))}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(e){t.click_toggle_class(e,i+s)}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(e){var n=t.get_settings(e);n.close_on_click&&t.hide.call(t,i+s,t.get_wrapper(e))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(e){t.click_remove_class(e,i+s),n&&t.click_remove_class(e,i+n)})},toggle:function(t,e){e=e||this.get_wrapper(),e.is("."+t)?this.hide(t,e):this.show(t,e)},show:function(t,e){e=e||this.get_wrapper(),e.trigger("open").trigger("open.fndtn.offcanvas"),e.addClass(t)},hide:function(t,e){e=e||this.get_wrapper(),e.trigger("close").trigger("close.fndtn.offcanvas"),e.removeClass(t)},click_toggle_class:function(t,e){t.preventDefault();var i=this.get_wrapper(t);this.toggle(e,i)},click_remove_class:function(t,e){t.preventDefault();var i=this.get_wrapper(t);this.hide(e,i)},get_settings:function(t){var e=this.S(t.target).closest("["+this.attr_name()+"]");return e.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var e=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===e.length&&(e=this.S(".off-canvas-wrap")),e},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";var s=function(){},a=function(s,a){if(s.hasClass(a.slides_container_class))return this;var c,h,u,d,p,f,m=this,g=s,v=0,b=!1;m.slides=function(){return g.children(a.slide_selector)},m.slides().first().addClass(a.active_slide_class),m.update_slide_number=function(e){a.slide_number&&(h.find("span:first").text(parseInt(e)+1),h.find("span:last").text(m.slides().length)),a.bullets&&(u.children().removeClass(a.bullets_active_class),t(u.children().get(e)).addClass(a.bullets_active_class))},m.update_active_link=function(e){var i=t('[data-orbit-link="'+m.slides().eq(e).attr("data-orbit-slide")+'"]');i.siblings().removeClass(a.bullets_active_class),i.addClass(a.bullets_active_class)},m.build_markup=function(){g.wrap('<div class="'+a.container_class+'"></div>'),c=g.parent(),g.addClass(a.slides_container_class),a.stack_on_small&&c.addClass(a.stack_on_small_class),a.navigation_arrows&&(c.append(t('<a href="#"><span></span></a>').addClass(a.prev_class)),c.append(t('<a href="#"><span></span></a>').addClass(a.next_class))),a.timer&&(d=t("<div>").addClass(a.timer_container_class),d.append("<span>"),d.append(t("<div>").addClass(a.timer_progress_class)),d.addClass(a.timer_paused_class),c.append(d)),a.slide_number&&(h=t("<div>").addClass(a.slide_number_class),h.append("<span></span> "+a.slide_number_text+" <span></span>"),c.append(h)),a.bullets&&(u=t("<ol>").addClass(a.bullets_container_class),c.append(u),u.wrap('<div class="orbit-bullets-container"></div>'),m.slides().each(function(e){var i=t("<li>").attr("data-orbit-slide",e).on("click",m.link_bullet);u.append(i)}))},m._goto=function(e,i){if(e===v)return!1;"object"==typeof f&&f.restart();var n=m.slides(),s="next";if(b=!0,v>e&&(s="prev"),e>=n.length){if(!a.circular)return!1;e=0}else if(0>e){if(!a.circular)return!1;e=n.length-1}var o=t(n.get(v)),r=t(n.get(e));o.css("zIndex",2),o.removeClass(a.active_slide_class),r.css("zIndex",4).addClass(a.active_slide_class),g.trigger("before-slide-change.fndtn.orbit"),a.before_slide_change(),m.update_active_link(e);var l=function(){var t=function(){v=e,b=!1,i===!0&&(f=m.create_timer(),f.start()),m.update_slide_number(v),g.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:n.length}]),a.after_slide_change(v,n.length)};g.height()!=r.height()&&a.variable_height?g.animate({height:r.height()},250,"linear",t):t()};if(1===n.length)return l(),!1;var c=function(){"next"===s&&p.next(o,r,l),"prev"===s&&p.prev(o,r,l)};r.height()>g.height()&&a.variable_height?g.animate({height:r.height()},250,"linear",c):c()},m.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),m._goto(v+1)},m.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),m._goto(v-1)},m.link_custom=function(e){e.preventDefault();var i=t(this).attr("data-orbit-link");if("string"==typeof i&&""!=(i=t.trim(i))){var n=c.find("[data-orbit-slide="+i+"]");-1!=n.index()&&m._goto(n.index())}},m.link_bullet=function(){var e=t(this).attr("data-orbit-slide");if("string"==typeof e&&""!=(e=t.trim(e)))if(isNaN(parseInt(e))){var i=c.find("[data-orbit-slide="+e+"]");-1!=i.index()&&m._goto(i.index()+1)}else m._goto(parseInt(e))},m.timer_callback=function(){m._goto(v+1,!0)},m.compute_dimensions=function(){var e=t(m.slides().get(v)),i=e.height();a.variable_height||m.slides().each(function(){t(this).height()>i&&(i=t(this).height())}),g.height(i)},m.create_timer=function(){var t=new o(c.find("."+a.timer_container_class),a,m.timer_callback);return t},m.stop_timer=function(){"object"==typeof f&&f.stop()},m.toggle_timer=function(){var t=c.find("."+a.timer_container_class);t.hasClass(a.timer_paused_class)?("undefined"==typeof f&&(f=m.create_timer()),f.start()):"object"==typeof f&&f.stop()},m.init=function(){m.build_markup(),a.timer&&(f=m.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),f.start)),p=new l(a,g),"slide"===a.animation&&(p=new r(a,g)),c.on("click","."+a.next_class,m.next),c.on("click","."+a.prev_class,m.prev),a.next_on_click&&c.on("click","."+a.slides_container_class+" [data-orbit-slide]",m.link_bullet),c.on("click",m.toggle_timer),a.swipe&&c.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:n};c.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=c.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var i=e.delta_x<0?v+1:v-1;e.active=!0,m._goto(i)}}}).on("touchend.fndtn.orbit",function(t){c.data("swipe-transition",{}),t.stopPropagation()}),c.on("mouseenter.fndtn.orbit",function(){a.timer&&a.pause_on_hover&&m.stop_timer()}).on("mouseleave.fndtn.orbit",function(){a.timer&&a.resume_on_mouseout&&f.start()}),t(i).on("click","[data-orbit-link]",m.link_custom),t(e).on("load resize",m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),m.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){c.prev("."+a.preloader_class).css("display","none"),m.update_slide_number(0),m.update_active_link(0),g.trigger("ready.fndtn.orbit")})},m.init()},o=function(t,e,i){var n,s,a=this,o=e.timer_speed,r=t.find("."+e.timer_progress_class),l=-1;this.update_progress=function(t){var e=r.clone();e.attr("style",""),e.css("width",t+"%"),r.replaceWith(e),r=e},this.restart=function(){clearTimeout(s),t.addClass(e.timer_paused_class),l=-1,a.update_progress(0)},this.start=function(){return t.hasClass(e.timer_paused_class)?(l=-1===l?o:l,t.removeClass(e.timer_paused_class),n=(new Date).getTime(),r.animate({width:"100%"},l,"linear"),s=setTimeout(function(){a.restart(),i()},l),void t.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(t.hasClass(e.timer_paused_class))return!0;clearTimeout(s),t.addClass(e.timer_paused_class);var i=(new Date).getTime();l-=i-n;var r=100-l/o*100;a.update_progress(r),t.trigger("timer-stopped.fndtn.orbit")}},r=function(e){var i=e.animation_speed,n=1===t("html[dir=rtl]").length,s=n?"marginRight":"marginLeft",a={};a[s]="0%",this.next=function(t,e,n){t.animate({marginLeft:"-100%"},i),e.animate(a,i,function(){t.css(s,"100%"),n()})},this.prev=function(t,e,n){t.animate({marginLeft:"100%"},i),e.css(s,"-100%"),e.animate(a,i,function(){t.css(s,"100%"),n()})}},l=function(e){{var i=e.animation_speed;1===t("html[dir=rtl]").length}this.next=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})},this.prev=function(t,e,n){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},i,"linear",function(){t.css("margin","100%"),n()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.3.1",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:s,after_slide_change:s},init:function(t,e,i){this.bindings(e,i)},events:function(t){var e=new a(this.S(t),this.S(t).data("orbit-init"));this.S(t).data(self.name+"-instance",e)},reflow:function(){var t=this;if(t.S(t.scope).is("[data-orbit]")){var e=t.S(t.scope),i=e.data(t.name+"-instance");i.compute_dimensions()}else t.S("[data-orbit]",t.scope).each(function(e,i){var n=t.S(i),s=(t.data_options(n),n.data(t.name+"-instance"));s.compute_dimensions()})}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";function s(t){var e=/fade/i.test(t),i=/pop/i.test(t);return{animate:e||i,pop:i,fade:e}}Foundation.libs.reveal={name:"reveal",version:"5.3.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,i,n){t.extend(!0,this.settings,i,n),this.bindings(i,n)},events:function(){var t=this,e=t.S;return e(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(i){if(i.preventDefault(),!t.locked){var n=e(this),s=n.data(t.data_attr("reveal-ajax"));if(t.locked=!0,"undefined"==typeof s)t.open.call(t,n);else{var a=s===!0?n.attr("href"):s;t.open.call(t,n,{url:a})}}}),e(i).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!t.locked){var n=e("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init"),s=e(i.target)[0]===e("."+n.bg_class)[0];if(s){if(!n.close_on_background_click)return;i.stopPropagation()}t.locked=!0,t.close.call(t,s?e("["+t.attr_name()+"].open"):e(this).closest("["+t.attr_name()+"]"))}}),e("["+t.attr_name()+"]",this.scope).length>0?e(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):e(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var i=t.S("["+t.attr_name()+"].open"),n=i.data(t.attr_name(!0)+"-init");n&&27===e.which&&n.close_on_esc&&!t.locked&&t.close.call(t,i)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(e,i){var n,s=this;e?"undefined"!=typeof e.selector?n=s.S("#"+e.data(s.data_attr("reveal-id"))).first():(n=s.S(this.scope),i=e):n=s.S(this.scope);var a=n.data(s.attr_name(!0)+"-init");if(a=a||this.settings,n.hasClass("open")&&e.attr("data-reveal-id")==n.attr("id"))return s.close(n);if(!n.hasClass("open")){var o=s.S("["+s.attr_name()+"].open");if("undefined"==typeof n.data("css-top")&&n.data("css-top",parseInt(n.css("top"),10)).data("offset",this.cache_offset(n)),this.key_up_on(n),n.trigger("open").trigger("open.fndtn.reveal"),o.length<1&&this.toggle_bg(n,!0),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var r="undefined"!=typeof i.success?i.success:null;t.extend(i,{success:function(e,i,l){t.isFunction(r)&&r(e,i,l),n.html(e),s.S(n).foundation("section","reflow"),s.S(n).children().foundation(),o.length>0&&s.hide(o,a.css.close),s.show(n,a.css.open)}}),t.ajax(i)}else o.length>0&&this.hide(o,a.css.close),this.show(n,a.css.open)}},close:function(t){var t=t&&t.length?t:this.S(this.scope),e=this.S("["+this.attr_name()+"].open"),i=t.data(this.attr_name(!0)+"-init")||this.settings;e.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(t,!1),this.hide(e,i.css.close,i))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(e,i){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var s=this.settings.bg.filter(":visible").length>0;i!=s&&((i==n?s:!i)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(i,n){if(n){var a=i.data(this.attr_name(!0)+"-init")||this.settings,o=a.root_element;if(0===i.parent(o).length){var r=i.wrap('<div style="display: none;" />').parent();i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(r),i.unwrap().unbind("closed.fndtn.reveal.wrapped")}),i.detach().appendTo(o)}var l=s(a.animation);if(l.animate||(this.locked=!1),l.pop){n.top=t(e).scrollTop()-i.data("offset")+"px";var c={top:t(e).scrollTop()+i.data("css-top")+"px",opacity:1};return setTimeout(function(){return i.css(n).animate(c,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}if(l.fade){n.top=t(e).scrollTop()+i.data("css-top")+"px";var c={opacity:1};return setTimeout(function(){return i.css(n).animate(c,a.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),a.animation_speed/2)}return i.css(n).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var a=this.settings;return s(a.animation).fade?i.fadeIn(a.animation_speed/2):(this.locked=!1,i.show())},hide:function(i,n){if(n){var a=i.data(this.attr_name(!0)+"-init");a=a||this.settings;var o=s(a.animation);if(o.animate||(this.locked=!1),o.pop){var r={top:-t(e).scrollTop()-i.data("offset")+"px",opacity:0};
return setTimeout(function(){return i.animate(r,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}if(o.fade){var r={opacity:0};return setTimeout(function(){return i.animate(r,a.animation_speed,"linear",function(){this.locked=!1,i.css(n).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),a.animation_speed/2)}return i.hide().css(n).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var a=this.settings;return s(a.animation).fade?i.fadeOut(a.animation_speed/2):i.hide()},close_video:function(e){var i=t(".flex-video",e.target),n=t("iframe",i);n.length>0&&(n.attr("data-src",n[0].src),n.attr("src",n.attr("src")),i.hide())},open_video:function(e){var i=t(".flex-video",e.target),s=i.find("iframe");if(s.length>0){var a=s.attr("data-src");if("string"==typeof a)s[0].src=s.attr("data-src");else{var o=s[0].src;s[0].src=n,s[0].src=o}i.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.slider={name:"slider",version:"5.3.1",settings:{start:0,end:100,step:1,initial:null,display_selector:"",vertical:!1,on_change:function(){}},cache:{},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i),this.reflow()},events:function(){var i=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+i.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){i.cache.active||(e.preventDefault(),i.set_active_slider(t(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(n){if(i.cache.active)if(n.preventDefault(),t.data(i.cache.active[0],"settings").vertical){var s=0;n.pageY||(s=e.scrollY),i.calculate_position(i.cache.active,(n.pageY||n.originalEvent.clientY||n.originalEvent.touches[0].clientY||n.currentPoint.y)+s)}else i.calculate_position(i.cache.active,n.pageX||n.originalEvent.clientX||n.originalEvent.touches[0].clientX||n.currentPoint.x)}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){i.remove_active_slider()}).on("change.fndtn.slider",function(){i.settings.on_change()}),i.S(e).on("resize.fndtn.slider",i.throttle(function(){i.reflow()},300))},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,i){var n=this,s=t.data(e[0],"settings"),a=(t.data(e[0],"handle_l"),t.data(e[0],"handle_o"),t.data(e[0],"bar_l")),o=t.data(e[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!s.vertical?n.limit_to((o+a-i)/a,0,1):n.limit_to((i-o)/a,0,1),t=s.vertical?1-t:t;var r=n.normalized_value(t,s.start,s.end,s.step);n.set_ui(e,r)})},set_ui:function(e,i){var n=t.data(e[0],"settings"),s=t.data(e[0],"handle_l"),a=t.data(e[0],"bar_l"),o=this.normalized_percentage(i,n.start,n.end),r=o*(a-s)-1,l=100*o;Foundation.rtl&&!n.vertical&&(r=-r),r=n.vertical?-r+a-s+1:r,this.set_translate(e,r,n.vertical),n.vertical?e.siblings(".range-slider-active-segment").css("height",l+"%"):e.siblings(".range-slider-active-segment").css("width",l+"%"),e.parent().attr(this.attr_name(),i).trigger("change").trigger("change.fndtn.slider"),e.parent().children("input[type=hidden]").val(i),""!=n.input_id&&t(n.display_selector).each(function(){this.hasOwnProperty("value")?t(this).val(i):t(this).text(i)})},normalized_percentage:function(t,e,i){return(t-e)/(i-e)},normalized_value:function(t,e,i,n){var s=i-e,a=t*s,o=(a-a%n)/n,r=a%n,l=r>=.5*n?n:0;return o*n+l+e},set_translate:function(e,i,n){n?t(e).css("-webkit-transform","translateY("+i+"px)").css("-moz-transform","translateY("+i+"px)").css("-ms-transform","translateY("+i+"px)").css("-o-transform","translateY("+i+"px)").css("transform","translateY("+i+"px)"):t(e).css("-webkit-transform","translateX("+i+"px)").css("-moz-transform","translateX("+i+"px)").css("-ms-transform","translateX("+i+"px)").css("-o-transform","translateX("+i+"px)").css("transform","translateX("+i+"px)")},limit_to:function(t,e,i){return Math.min(Math.max(t,e),i)},initialize_settings:function(e){var i=t.extend({},this.settings,this.data_options(t(e).parent()));i.vertical?(t.data(e,"bar_o",t(e).parent().offset().top),t.data(e,"bar_l",t(e).parent().outerHeight()),t.data(e,"handle_o",t(e).offset().top),t.data(e,"handle_l",t(e).outerHeight())):(t.data(e,"bar_o",t(e).parent().offset().left),t.data(e,"bar_l",t(e).parent().outerWidth()),t.data(e,"handle_o",t(e).offset().left),t.data(e,"handle_l",t(e).outerWidth())),t.data(e,"bar",t(e).parent()),t.data(e,"settings",i)},set_initial_position:function(e){var i=t.data(e.children(".range-slider-handle")[0],"settings"),n=i.initial?i.initial:Math.floor(.5*(i.end-i.start)/i.step)*i.step+i.start,s=e.children(".range-slider-handle");this.set_ui(s,n)},set_value:function(e){var i=this;t("["+i.attr_name()+"]",this.scope).each(function(){t(this).attr(i.attr_name(),e)}),t(this.scope).attr(i.attr_name())&&t(this.scope).attr(i.attr_name(),e),i.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var i=t(this).children(".range-slider-handle")[0],n=t(this).attr(e.attr_name());e.initialize_settings(i),n?e.set_ui(t(i),parseFloat(n)):e.set_initial_position(t(this))})}}}(jQuery,window,window.document),function(t,e,i,n){"use strict";Foundation.libs.tab={name:"tab",version:"5.3.1",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(t,e,i){var n=this,s=this.S;this.bindings(e,i),this.handle_location_hash_change(),s("["+this.attr_name()+"] > .active > a",this.scope).each(function(){n.default_tab_hashes.push(this.hash)})},events:function(){var t=this,i=this.S;i(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(e){var n=i(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");(!n.is_hover||Modernizr.touch)&&(e.preventDefault(),e.stopPropagation(),t.toggle_active_tab(i(this).parent()))}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var e=i(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");e.is_hover&&t.toggle_active_tab(i(this).parent())}),i(e).on("hashchange.fndtn.tab",function(e){e.preventDefault(),t.handle_location_hash_change()})},handle_location_hash_change:function(){var e=this,i=this.S;i("["+this.attr_name()+"]",this.scope).each(function(){var s=i(this).data(e.attr_name(!0)+"-init");if(s.deep_linking){var a=e.scope.location.hash;if(""!=a){var o=i(a);if(o.hasClass("content")&&o.parent().hasClass("tab-content"))e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+a+"]").parent());else{var r=o.closest(".content").attr("id");r!=n&&e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href=#"+r+"]").parent(),a)}}else for(var l in e.default_tab_hashes)e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[l]+"]").parent())}})},toggle_active_tab:function(i,s){var a=this.S,o=i.closest("["+this.attr_name()+"]"),r=i.children("a").first(),l="#"+r.attr("href").split("#")[1],c=a(l),h=i.siblings(),u=o.data(this.attr_name(!0)+"-init");if(a(this).data(this.data_attr("tab-content"))&&(l="#"+a(this).data(this.data_attr("tab-content")).split("#")[1],c=a(l)),u.deep_linking){var d=t("body,html").scrollTop();e.location.hash=s!=n?s:l,u.scroll_to_content?s==n||s==l?i.parent()[0].scrollIntoView():a(l)[0].scrollIntoView():(s==n||s==l)&&t("body,html").scrollTop(d)}i.addClass(u.active_class).triggerHandler("opened"),h.removeClass(u.active_class),c.siblings().removeClass(u.active_class).end().addClass(u.active_class),u.callback(i),c.triggerHandler("toggled",[i]),o.triggerHandler("toggled",[c])},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.3.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(t,e){return'<span data-selector="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,i){Foundation.inherit(this,"random_str"),this.bindings(e,i)},should_show:function(e){var i=t.extend({},this.settings,this.data_options(e));return"all"===i.show_on?!0:this.small()&&"small"===i.show_on?!0:this.medium()&&"medium"===i.show_on?!0:this.large()&&"large"===i.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(e){var i=this,n=i.S;i.create(this.S(e)),t(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(e){var s=n(this),a=t.extend({},i.settings,i.data_options(s)),o=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&n(e.target).is("a"))return!1;if(/mouse/i.test(e.type)&&i.ie_touch(e))return!1;if(s.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&e.preventDefault(),i.hide(s);else{if(a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type))return;!a.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&(e.preventDefault(),n(a.tooltip_class+".open").hide(),o=!0),/enter|over/i.test(e.type)?this.timer=setTimeout(function(){i.showTip(s)}.bind(this),i.settings.hover_delay):"mouseout"===e.type||"mouseleave"===e.type?(clearTimeout(this.timer),i.hide(s)):i.showTip(s)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(e){return/mouse/i.test(e.type)&&i.ie_touch(e)?!1:void(("touch"!=t(this).data("tooltip-open-event-type")||"mouseleave"!=e.type)&&("mouse"==t(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(e.type)?i.convert_to_touch(t(this)):i.hide(t(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){i.hide(n(this))})},ie_touch:function(){return!1},showTip:function(t){var e=this.getTip(t);return this.should_show(t,e)?this.show(t):void 0},getTip:function(e){var i=this.selector(e),n=t.extend({},this.settings,this.data_options(e)),s=null;return i&&(s=this.S('span[data-selector="'+i+'"]'+n.tooltip_class)),"object"==typeof s?s:!1},selector:function(t){var e=t.attr("id"),i=t.attr(this.attr_name())||t.attr("data-selector");return(e&&e.length<1||!e)&&"string"!=typeof i&&(i=this.random_str(6),t.attr("data-selector",i)),e&&e.length>0?e:i},create:function(i){var n=this,s=t.extend({},this.settings,this.data_options(i)),a=this.settings.tip_template;"string"==typeof s.tip_template&&e.hasOwnProperty(s.tip_template)&&(a=e[s.tip_template]);var o=t(a(this.selector(i),t("<div></div>").html(i.attr("title")).html())),r=this.inheritable_classes(i);o.addClass(r).appendTo(s.append_to),Modernizr.touch&&(o.append('<span class="tap-to-close">'+s.touch_close_text+"</span>"),o.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){n.hide(i)})),i.removeAttr("title").attr("title","")},reposition:function(e,i,n){var s,a,o,r,l;if(i.css("visibility","hidden").show(),s=e.data("width"),a=i.children(".nub"),o=a.outerHeight(),r=a.outerHeight(),i.css(this.small()?{width:"100%"}:{width:s?s:"auto"}),l=function(t,e,i,n,s){return t.css({top:e?e:"auto",bottom:n?n:"auto",left:s?s:"auto",right:i?i:"auto"}).end()},l(i,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left),this.small())l(i,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,t(this.scope).width()),i.addClass("tip-override"),l(a,-o,"auto","auto",e.offset().left);else{var c=e.offset().left;Foundation.rtl&&(a.addClass("rtl"),c=e.offset().left+e.outerWidth()-i.outerWidth()),l(i,e.offset().top+e.outerHeight()+10,"auto","auto",c),i.removeClass("tip-override"),n&&n.indexOf("tip-top")>-1?(Foundation.rtl&&a.addClass("rtl"),l(i,e.offset().top-i.outerHeight(),"auto","auto",c).removeClass("tip-override")):n&&n.indexOf("tip-left")>-1?(l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left-i.outerWidth()-o).removeClass("tip-override"),a.removeClass("rtl")):n&&n.indexOf("tip-right")>-1&&(l(i,e.offset().top+e.outerHeight()/2-i.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+o).removeClass("tip-override"),a.removeClass("rtl"))}i.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(e){var i=t.extend({},this.settings,this.data_options(e)),n=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(i.additional_inheritable_classes),s=e.attr("class"),a=s?t.map(s.split(" "),function(e){return-1!==t.inArray(e,n)?e:void 0}).join(" "):"";return t.trim(a)},convert_to_touch:function(e){var i=this,n=i.getTip(e),s=t.extend({},i.settings,i.data_options(e));0===n.find(".tap-to-close").length&&(n.append('<span class="tap-to-close">'+s.touch_close_text+"</span>"),n.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){i.hide(e)})),e.data("tooltip-open-event-type","touch")},show:function(t){var e=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,e,t.attr("class")),t.addClass("open"),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150,function(){e.find(".tap-to-close").remove(),e.off("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(i){t("["+e.attr_name()+"]").eq(i).attr("title",t(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(t,e,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.3.1",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(e,i,n){Foundation.inherit(this,"add_custom_rule register_media throttle");var s=this;s.register_media("topbar","foundation-mq-topbar"),this.bindings(i,n),s.S("["+this.attr_name()+"]",this.scope).each(function(){{var e=t(this),i=e.data(s.attr_name(!0)+"-init");s.S("section",this)}e.data("index",0);var n=e.parent();n.hasClass("fixed")||s.is_sticky(e,n,i)?(s.settings.sticky_class=i.sticky_class,s.settings.sticky_topbar=e,e.data("height",n.outerHeight()),e.data("stickyoffset",n.offset().top)):e.data("height",e.outerHeight()),i.assembled||s.assemble(e),i.is_hover?s.S(".has-dropdown",e).addClass("not-click"):s.S(".has-dropdown",e).removeClass("not-click"),s.add_custom_rule(".f-topbar-fixed { padding-top: "+e.data("height")+"px }"),n.hasClass("fixed")&&s.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,i){var n=e.hasClass(i.sticky_class);return n&&"all"===i.sticky_on?!0:n&&this.small()&&"small"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:n&&this.medium()&&"medium"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:n&&this.large()&&"large"===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(i){var n,s=this;n=i?s.S(i).closest("["+this.attr_name()+"]"):s.S("["+this.attr_name()+"]");var a=n.data(this.attr_name(!0)+"-init"),o=s.S("section, .section",n);s.breakpoint()&&(s.rtl?(o.css({right:"0%"}),t(">.name",o).css({right:"100%"})):(o.css({left:"0%"}),t(">.name",o).css({left:"100%"})),s.S("li.moved",o).removeClass("moved"),n.data("index",0),n.toggleClass("expanded").css("height","")),a.scrolltop?n.hasClass("expanded")?n.parent().hasClass("fixed")&&(a.scrolltop?(n.parent().removeClass("fixed"),n.addClass("fixed"),s.S("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):n.parent().removeClass("expanded")):n.hasClass("fixed")&&(n.parent().addClass("fixed"),n.removeClass("fixed"),s.S("body").addClass("f-topbar-fixed")):(s.is_sticky(n,n.parent(),a)&&n.parent().addClass("fixed"),n.parent().hasClass("fixed")&&(n.hasClass("expanded")?(n.addClass("fixed"),n.parent().addClass("expanded"),s.S("body").addClass("f-topbar-fixed")):(n.removeClass("fixed"),n.parent().removeClass("expanded"),s.update_sticky_positioning())))},timer:null,events:function(){var i=this,n=this.S;n(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),i.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var e=t(this).closest("li");!i.breakpoint()||e.hasClass("back")||e.hasClass("has-dropdown")||i.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(e){var s=n(this),a=n(e.target),o=s.closest("["+i.attr_name()+"]"),r=o.data(i.attr_name(!0)+"-init");return a.data("revealId")?void i.toggle():void(i.breakpoint()||(!r.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),s.hasClass("hover")?(s.removeClass("hover").find("li").removeClass("hover"),s.parents("li.hover").removeClass("hover")):(s.addClass("hover"),t(s).siblings().removeClass("hover"),"A"===a[0].nodeName&&a.parent().hasClass("has-dropdown")&&e.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(i.breakpoint()){t.preventDefault();var e=n(this),s=e.closest("["+i.attr_name()+"]"),a=s.find("section, .section"),o=(e.next(".dropdown").outerHeight(),e.closest("li"));s.data("index",s.data("index")+1),o.addClass("moved"),i.rtl?(a.css({right:-(100*s.data("index"))+"%"}),a.find(">.name").css({right:100*s.data("index")+"%"})):(a.css({left:-(100*s.data("index"))+"%"}),a.find(">.name").css({left:100*s.data("index")+"%"})),s.css("height",e.siblings("ul").outerHeight(!0)+s.data("height"))}}),n(e).off(".topbar").on("resize.fndtn.topbar",i.throttle(function(){i.resize.call(i)},50)).trigger("resize").trigger("resize.fndtn.topbar"),n("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(t){var e=n(t.target).closest("li").closest("li.hover");e.length>0||n("["+i.attr_name()+"] li.hover").removeClass("hover")}),n(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=n(this),s=e.closest("["+i.attr_name()+"]"),a=s.find("section, .section"),o=(s.data(i.attr_name(!0)+"-init"),e.closest("li.moved")),r=o.parent();s.data("index",s.data("index")-1),i.rtl?(a.css({right:-(100*s.data("index"))+"%"}),a.find(">.name").css({right:100*s.data("index")+"%"})):(a.css({left:-(100*s.data("index"))+"%"}),a.find(">.name").css({left:100*s.data("index")+"%"})),0===s.data("index")?s.css("height",""):s.css("height",r.outerHeight(!0)+s.data("height")),setTimeout(function(){o.removeClass("moved")},300)})},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var e,n=t.S(this),s=n.data(t.attr_name(!0)+"-init"),a=n.parent("."+t.settings.sticky_class);if(!t.breakpoint()){var o=n.hasClass("expanded");n.css("height","").removeClass("expanded").find("li").removeClass("hover"),o&&t.toggle(n)}t.is_sticky(n,a,s)&&(a.hasClass("fixed")?(a.removeClass("fixed"),e=a.offset().top,t.S(i.body).hasClass("f-topbar-fixed")&&(e-=n.data("height")),n.data("stickyoffset",e),a.addClass("fixed")):(e=a.offset().top,n.data("stickyoffset",e)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(e){var i=this,n=e.data(this.attr_name(!0)+"-init"),s=i.S("section",e);s.detach(),i.S(".has-dropdown>a",s).each(function(){{var e,s=i.S(this),a=s.siblings(".dropdown");s.attr("href")}a.find(".title.back").length||(e=t('<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li>'),t("h5>a",e).html(1==n.custom_back_text?n.back_text:"&laquo; "+s.html()),a.prepend(e))}),s.appendTo(e),this.sticky(),this.assembled(e)},assembled:function(e){e.data(this.attr_name(!0),t.extend({},e.data(this.attr_name(!0)),{assembled:!0}))},height:function(e){var i=0,n=this;return t("> li",e).each(function(){i+=n.S(this).outerHeight(!0)}),i},sticky:function(){var t=this;this.S(e).on("scroll",function(){t.update_sticky_positioning()})},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,i=this.S(e),n=this;if(n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var s=this.settings.sticky_topbar.data("stickyoffset");n.S(t).hasClass("expanded")||(i.scrollTop()>s?n.S(t).hasClass("fixed")||(n.S(t).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):i.scrollTop()<=s&&n.S(t).hasClass("fixed")&&(n.S(t).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(e).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function(t,e){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.3.1",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,e,i){Foundation.inherit(this,"image_loaded"),this.bindings(e,i),this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(e){var i=!1,n=e.find("["+this.attr_name()+"-watch]:visible"),s=e.data(this.attr_name(!0)+"-init");if(0!==n.length){var a=n.first().offset().top;if(s.before_height_change(),e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),n.height("inherit"),n.each(function(){var e=t(this);e.offset().top!==a&&(i=!0)}),s.equalize_on_stack!==!1||!i){var o=n.map(function(){return t(this).outerHeight(!1)}).get();if(s.use_tallest){var r=Math.max.apply(null,o);n.css("height",r)}else{var l=Math.min.apply(null,o);n.css("height",l)}s.after_height_change(),e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var i=t(this);e.image_loaded(e.S("img",this),function(){e.equalize(i)})})}}}(jQuery,window,window.document),function(t){var e={};t.fn.railsAutocomplete=function(){var i=function(){this.railsAutoCompleter||(this.railsAutoCompleter=new t.railsAutocomplete(this))};return e[this.selector.replace("#","")]=arguments[0],void 0!==t.fn.on?$(document).on("focus",this.selector,i):this.live("focus",i)},t.railsAutocomplete=function(t){_e=t,this.init(_e)},t.railsAutocomplete.fn=t.railsAutocomplete.prototype={railsAutocomplete:"0.0.1"},t.railsAutocomplete.fn.extend=t.railsAutocomplete.extend=t.extend,t.railsAutocomplete.fn.extend({init:function(i){function n(t){return t.split(i.delimiter)}function s(t){return n(t).pop().replace(/^\s+/,"")}i.delimiter=t(i).attr("data-delimiter")||null,t(i).autocomplete({html:!0},$.extend({source:function(e,n){t.getJSON(t(i).attr("data-autocomplete"),{term:s(e.term)},function(){0==arguments[0].length&&(arguments[0]=[],arguments[0][0]={id:"",label:"<a href='/invite'>That user does not exist. Invite them to BookBound?</a>"}),t(arguments[0]).each(function(e,n){var s={};s[n.id]=n,t(i).data(s)}),n.apply(null,arguments)})},change:function(e,i){if(""!=t(t(this).attr("data-id-element")).val()){t(t(this).attr("data-id-element")).val(i.item?i.item.id:"");var n=t.parseJSON(t(this).attr("data-update-elements")),s=i.item?t(this).data(i.item.id.toString()):{};if(!n||""!=t(n.id).val())for(var a in n)t(n[a]).val(i.item?s[a]:"")}},search:function(){var t=s(this.value);return t.length<2?!1:void 0},focus:function(){return!1},select:function(e,s){var a=n(this.value);if(a.pop(),a.push(s.item.value),null!=i.delimiter)a.push(""),this.value=a.join(i.delimiter);else if(this.value=a.join(""),t(this).attr("data-id-element")&&t(t(this).attr("data-id-element")).val(s.item.id),t(this).attr("data-update-elements")){var o=t(this).data(s.item.id.toString()),r=t.parseJSON(t(this).attr("data-update-elements"));for(var l in r)t(r[l]).val(o[l])}var c=this.value;return t(this).bind("keyup.clearId",function(){t(this).val().trim()!=c.trim()&&(t(t(this).attr("data-id-element")).val(""),t(this).unbind("keyup.clearId"))}),t(i).trigger("railsAutocomplete.select",s),!1}},e[i.id]))}}),t(document).ready(function(){t("input[data-autocomplete]").railsAutocomplete()})}(jQuery),function(){}.call(this),function(){}.call(this),function(t){function e(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(e){return n.test(t("<div>").html(e.label||e.value||e).text())})}var i=t.ui.autocomplete.prototype,n=i._initSource;t.extend(i,{_initSource:function(){this.options.html&&t.isArray(this.options.source)?this.source=function(t,i){i(e(this.options.source,t.term))}:n.call(this)},_renderItem:function(e,i){return t("<li></li>").data("item.autocomplete",i).append(t("<a></a>")[this.options.html?"html":"text"](i.label)).appendTo(e)}})}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$(document).foundation()});